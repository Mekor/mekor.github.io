<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[æå°äº‰]]></title>
  <link href="http://www.citynight.cn/Blog/atom.xml" rel="self"/>
  <link href="http://www.citynight.cn/Blog/"/>
  <updated>2018-01-15T11:35:16+08:00</updated>
  <id>http://www.citynight.cn/Blog/</id>
  <author>
    <name><![CDATA[]]></name>
    
  </author>
  <generator uri="http://www.mweb.im">MWeb</generator>

  
  <entry>
    <title type="html"><![CDATA[SwiftTips - é›†ä¸­å¤„ç†]]></title>
    <link href="http://www.citynight.cn/Blog/15158138774013.html"/>
    <updated>2018-01-13T11:24:37+08:00</updated>
    <id>http://www.citynight.cn/Blog/15158138774013.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">é›†ä¸­å¤„ç†@objc</h2>

<p><img src="media/15158138774013/WX20180113-112401@2x.png" alt="WX20180113-112401@2x"/></p>

<h2 id="toc_1">æ¨¡æ‹Ÿå™¨ä¸èƒ½æ‰§è¡Œçš„ä»£ç å•ç‹¬å¤„ç†</h2>

<p><img src="media/15158138774013/15159872783257.jpg" alt=""/></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ä¼ä¸šè¯ä¹¦éœ€è¦]]></title>
    <link href="http://www.citynight.cn/Blog/15132354899270.html"/>
    <updated>2017-12-14T15:11:29+08:00</updated>
    <id>http://www.citynight.cn/Blog/15132354899270.html</id>
    <content type="html"><![CDATA[
<ol>
<li>é‚“ç™½æ°ç   ä¸æ¸…æ¥šå…¬å¸æ˜¯å¦ç”³è¯·è¿‡,å¦‚æœæ²¡æœ‰ç”³è¯·è¿‡å¯èƒ½éœ€è¦åŠä¸ªæœˆå·¦å³æ—¶é—´(æœ€å¿«1å‘¨)</li>
<li>ç”³è¯·ä¼ä¸šè¯ä¹¦, ç°åœ¨è‹¹æœå¯¹å›½å†…ä¼ä¸šè¯ä¹¦ç”³è¯·æ¯”è¾ƒä¸¥æ ¼æœ€å¿«1å‘¨å¯èƒ½éœ€è¦åŠä¸ªæœˆç”šè‡³æ›´ä¹…(ç¾å›½å¿«è¿‡åœ£è¯èŠ‚å’Œå…ƒæ—¦äº†)</li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ä½¿ç”¨ Runloop é‡åˆ°çš„é—®é¢˜]]></title>
    <link href="http://www.citynight.cn/Blog/15101967456310.html"/>
    <updated>2017-11-09T11:05:45+08:00</updated>
    <id>http://www.citynight.cn/Blog/15101967456310.html</id>
    <content type="html"><![CDATA[
<p>é¦–å…ˆ: <code>swift</code> ä¸ <code>C</code> å…¼å®¹ä¸å¦‚ <code>OC</code> <br/>
1. ç”Ÿæˆ<code>CFRunLoopObserverContext</code>æ¯”<code>OC</code>è‰°éš¾å¥½å¤š&hellip;</p>

<pre><code>func addRunloopObserver() {
        autoreleasepool {
            guard let runloop = CFRunLoopGetCurrent() else {return}
            let unmanaged = Unmanaged.passRetained(self)
            let uptr = unmanaged.toOpaque()
            let vptr = UnsafeMutableRawPointer(uptr)
            var content = CFRunLoopObserverContext(version: 0, info: vptr, retain: nil, release: nil, copyDescription: nil)
            guard let obserber = CFRunLoopObserverCreate(kCFAllocatorDefault, CFRunLoopActivity.beforeWaiting.rawValue, true, Int.max - 999, observerCallbackFunc(), &amp;content) else {return}
            CFRunLoopAddObserver(runloop, obserber, CFRunLoopMode.defaultMode)
        }
    }
</code></pre>

<p>æ³¨æ„ content ,çœŸæ˜¯æ¯”OCå¤æ‚å•Š</p>

<ol>
<li>å¼ºè½¬ä¹Ÿå˜äº†&hellip;</li>
</ol>

<pre><code>func observerCallbackFunc() -&gt; CFRunLoopObserverCallBack {
        
        return {(observer, activity, context) -&gt; Void in
            guard let context = context else {
                return
            }
            let work = Unmanaged&lt;RunLoopWorker&gt;.fromOpaque(context).takeUnretainedValue()
            
            if work.tasks.count == 0 { return }
            var result = false
            while result == false &amp;&amp; work.tasks.count &gt; 0 {
                // å–å‡ºä»»åŠ¡
                if let unit = work.tasks.first,unit.values.count &gt; 0 {
                    result = unit.values.first!()
                    work.tasks.removeFirst()
                }
            }
        }
    }
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[collectionViewè‡ªå®šä¹‰layout]]></title>
    <link href="http://www.citynight.cn/Blog/15096779127051.html"/>
    <updated>2017-11-03T10:58:32+08:00</updated>
    <id>http://www.citynight.cn/Blog/15096779127051.html</id>
    <content type="html"><![CDATA[
<blockquote>
<p>ä»Šå¤©,YouTubeæ¨èäº†ä¸€ä¸ªè‡ªå®šä¹‰layoutçš„è§†é¢‘( Custom Collection View Layouts in iOS),çœ‹äº†ä¸€ä¸‹æŒºç®€å•æ˜äº†çš„,è€Œä¸”åŸºæœ¬çš„æ“ä½œéƒ½åŒ…å«äº†. <br/>
<strong>è§†é¢‘åœ°å€:</strong> <a href="https://www.youtube.com/watch?v=DIxyCh55SqQ">Pinterest Basic Layout - Custom Collection View Layouts in iOS - raywenderlich.com</a><br/>
<strong>githubåœ°å€:</strong> <a href="https://github.com/AZCoder2/Pinterest">Pinterest</a></p>
</blockquote>

<p>æ ¸å¿ƒä»£ç :</p>

<pre><code>//
//  PinterestLayout.swift
//  Pinterest
//
//  Created by Tom Ranalli on 12/25/16.
//  Copyright Â© 2016 Razeware LLC. All rights reserved.
//

import UIKit

// MARK: - Protocols
protocol PinterestLayoutDelegate {
  
  // Request height of photo
  func collectionView(_ collectionView:UICollectionView, heightForPhotoAtIndexPath indexPath:NSIndexPath,
                      withWidth:CGFloat) -&gt; CGFloat
  
  // Request annotation for photo
  func collectionView(_ collectionView: UICollectionView,
                      heightForAnnotationAtIndexPath indexPath: NSIndexPath, withWidth width: CGFloat) -&gt; CGFloat
}

class PinterestLayoutAttributes: UICollectionViewLayoutAttributes {
  
  // This declares the photoHeight property that the cell will use to resize its image view
  var photoHeight: CGFloat = 0.0
  
  /* This overrides copy(_with:)
   
     Subclasses of UICollectionViewLayoutAttributes need to conform to the NSCopying protocol 
     because the attributeâ€™s objects can be copied internally. You override this method to 
     guarantee that the photoHeight property is set when the object is copied.
  */
  
  override func copy(with zone: NSZone? = nil) -&gt; Any {
    let copy = super.copy(with: zone) as! PinterestLayoutAttributes
    copy.photoHeight = photoHeight
    return copy
  }
  
  /* This overrides isEqual(_:), and itâ€™s mandatory as well.
 
     The collection view determines whether the attributes have changed by comparing the old 
     and new attribute objects using isEqual(_:). You must implement it to compare the custom
     properties of your subclass. The code compares the photoHeight of both instances, and
     if they are equal, calls super to determine if the inherited attributes are the same;
     if the photo heights are different, it returns false
  */

  override func isEqual(_ object: Any?) -&gt; Bool {
    if let attributes = object as? PinterestLayoutAttributes {
      if( attributes.photoHeight == photoHeight  ) {
        return super.isEqual(object)
      }
    }
    return false
  }
}

// MARK: - Class definition
class PinterestLayout: UICollectionViewLayout {
  
  // MARK: - Properties
  
  // Keep reference to the delegate
  var delegate: PinterestLayoutDelegate!
  
  // Configure number of columns and cell padding
  var numberOfColumns = 2
  var cellPadding: CGFloat = 6.0
  
  // This is an array to cache the calculated attributes. 
  
  /* When you call prepareLayout(), youâ€™ll calculate the attributes for all items and add them to the cache. When the collection view later requests the layout attributes, you can be efficient and query the cache instead of recalculating them every time
  */
  
  private var cache = [PinterestLayoutAttributes]()
  
  // This declares two properties to store the content size.
  // contentHeight is incremented as photos are added
  private var contentHeight: CGFloat  = 0.0
  
  // contentWidth is calculated based on the collection view width and its content inset.
  private var contentWidth: CGFloat {
    let insets = collectionView!.contentInset
    return collectionView!.bounds.width - (insets.left + insets.right)
  }
  
  // Variable overrides
  
  /* This overrides collectionViewContentSize variable of the abstract parent class, and returns the size of the collection viewâ€™s contents. To do this, you use both contentWidth and contentHeight calculated in the previous steps.
  */
 
  override var collectionViewContentSize: CGSize {
    return CGSize(width: contentWidth, height: contentHeight)
  }
  
  /* This overrides layoutAttributesClass variable to tell the collection view to use PinterestLayoutAttributes whenever it creates layout attributes objects.
  */
  
  override class var layoutAttributesClass: AnyClass {
    return PinterestLayoutAttributes.self
  }
  
  // MARK: - Overrides
  
  override func prepare() {
    
    // Only calculate if cache is empty
    if cache.isEmpty {
      
      /*  This declares and fills the xOffset array with the x-coordinate for every column based on the column widths.
      */
      let columnWidth = contentWidth / CGFloat(numberOfColumns)
      
      var xOffset = [CGFloat]()
      
      for column in 0 ..&lt; numberOfColumns {
        xOffset.append(CGFloat(column) * columnWidth )
      }
      
      /*  The yOffset array tracks the y-position for every column. You initialize each value in yOffset to 0, since this is the offset of the first item in each column.
      */
      var column = 0
      var yOffset = [CGFloat](repeating: 0, count: numberOfColumns)
      
      // This loops through all the items in the first section, as this particular 
      // layout has only one section
      for item in 0 ..&lt; collectionView!.numberOfItems(inSection: 0) {
        
        let indexPath = NSIndexPath(item: item, section: 0)
        
        // This is where you perform the frame calculation
        // Width is the previously calculated cellWidth, with the padding between cells removed
        let width = columnWidth - cellPadding * 2
        
        // You ask the delegate for the height of the image
        let photoHeight = delegate.collectionView(collectionView!,
                                                  heightForPhotoAtIndexPath: indexPath,
                                                  withWidth:width)

        // You ask the delegate for the height of the annotation
        let annotationHeight = delegate.collectionView(collectionView!,
                                    heightForAnnotationAtIndexPath: indexPath,
                                    withWidth: width)
        
        // Calculate the frame height based on those heights and the predefined cellPadding 
        // for the top and bottom
        let height = cellPadding +  photoHeight + annotationHeight + cellPadding
        
        // Combine this with the x and y offsets of the current column to create the
        // insetFrame used by the attribute
        let frame = CGRect(x: xOffset[column], y: yOffset[column], width: columnWidth, height: height)
        let insetFrame = frame.insetBy(dx: cellPadding, dy: cellPadding)
        
        // This creates an instance of PinterestLayoutAttributes
        let attributes = PinterestLayoutAttributes(forCellWith: indexPath as IndexPath)
        attributes.photoHeight = photoHeight
        
        // Sets its frame using insetFrame
        attributes.frame = insetFrame
        
        // Append the attributes to cache
        cache.append(attributes)
        
        // This expands contentHeight to account for the frame of the newly calculated item
        contentHeight = max(contentHeight, frame.maxY)
        
        // It then advances the yOffset for the current column based on the frame
        yOffset[column] = yOffset[column] + height
        
        // Finally, it advances the column so that the next item will be placed in the next column.
        if column &gt;= numberOfColumns - 1 {
          column = 0
        } else {
          column = column + 1
        }
        
      }
    }
  }
  
  override func layoutAttributesForElements(in rect: CGRect) -&gt; [UICollectionViewLayoutAttributes]? {
    
    var layoutAttributes = [UICollectionViewLayoutAttributes]()
    
    //  Iterate through the attributes in cache and check if their frames intersect with rect
    for attributes in cache {
      if attributes.frame.intersects(rect) {
        layoutAttributes.append(attributes) // Add in any attributes for display
      }
    }
    return layoutAttributes
  }

}

</code></pre>

<p>æ¯”è¾ƒæœ‰æ„æ€çš„ä¸€ä¸ªè®¡ç®—é«˜åº¦æ–¹å¼:</p>

<pre><code>  // This provides the height of the photos
  
  /* It uses AVMakeRectWithAspectRatioInsideRect() from AVFoundation to calculate a height that retains the photoâ€™s aspect ratio, restricted to the cellâ€™s width.
   */
  
  func collectionView(_ collectionView:UICollectionView,
                      heightForPhotoAtIndexPath indexPath: NSIndexPath,
                      withWidth width: CGFloat) -&gt; CGFloat {
    
    let photo = photos[indexPath.item]
    let boundingRect =  CGRect(x: 0, y: 0, width: width, height: CGFloat(MAXFLOAT))
    let rect  = AVMakeRect(aspectRatio: photo.image.size, insideRect: boundingRect)
    
    return rect.size.height
  }
</code></pre>

<p>å›¾ç‰‡è§£å‹:</p>

<pre><code>extension UIImage {
  
  var decompressedImage: UIImage {
    UIGraphicsBeginImageContextWithOptions(size, true, 0)
    draw(at: CGPoint.zero)
    let decompressedImage = UIGraphicsGetImageFromCurrentImageContext()
    UIGraphicsEndImageContext()
    return decompressedImage!
  }
  
}
</code></pre>

<p>ä¸€ä¸ªä»å‰æ²¡æœ‰ç”¨è¿‡çš„Api:</p>

<pre><code>  /* 
   This code calls the super implementation to make sure that the standard attributes are applied. Then, it casts the attributes object into an instance of PinterestLayoutAttributes to obtain the photo height and then changes the image view height by setting the imageViewHeightLayoutConstraint constant value.
  */
  
  override func apply(_ layoutAttributes: UICollectionViewLayoutAttributes) {
    super.apply(layoutAttributes)
    
    if let attributes = layoutAttributes as? PinterestLayoutAttributes {
      imageViewHeightLayoutConstraint.constant = attributes.photoHeight
    }
  }
</code></pre>

<p>===========<mark>å®Œ</mark>=========</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[è½¬]æµ…æ iOS åº”ç”¨å¼€å‘ä¸­çš„æ–­ç‚¹ç»­ä¼ ]]></title>
    <link href="http://www.citynight.cn/Blog/15060704391596.html"/>
    <updated>2017-09-22T16:53:59+08:00</updated>
    <id>http://www.citynight.cn/Blog/15060704391596.html</id>
    <content type="html"><![CDATA[
<blockquote>
<p>åŸè´´åœ°å€<a href="https://www.ibm.com/developerworks/cn/mobile/mo-cn-breakpoint/index.html">IBM developerWorks</a></p>
</blockquote>

<h2 id="toc_0">æ–­ç‚¹ç»­ä¼ æ¦‚è¿°</h2>

<p>æ–­ç‚¹ç»­ä¼ å°±æ˜¯ä»æ–‡ä»¶ä¸Šæ¬¡ä¸­æ–­çš„åœ°æ–¹å¼€å§‹é‡æ–°ä¸‹è½½æˆ–ä¸Šä¼ æ•°æ®ï¼Œè€Œä¸æ˜¯ä»æ–‡ä»¶å¼€å¤´ã€‚ï¼ˆæœ¬æ–‡çš„æ–­ç‚¹ç»­ä¼ ä»…æ¶‰åŠä¸‹è½½ï¼Œä¸Šä¼ ä¸åœ¨è®¨è®ºä¹‹å†…ï¼‰å½“ä¸‹è½½å¤§æ–‡ä»¶çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰å®ç°æ–­ç‚¹ç»­ä¼ åŠŸèƒ½ï¼Œé‚£ä¹ˆæ¯æ¬¡å‡ºç°å¼‚å¸¸æˆ–è€…ç”¨æˆ·ä¸»åŠ¨çš„æš‚åœï¼Œéƒ½ä¼šå»é‡å¤´ä¸‹è½½ï¼Œè¿™æ ·å¾ˆæµªè´¹æ—¶é—´ã€‚æ‰€ä»¥é¡¹ç›®ä¸­è¦å®ç°å¤§æ–‡ä»¶ä¸‹è½½ï¼Œæ–­ç‚¹ç»­ä¼ åŠŸèƒ½å°±å¿…ä¸å¯å°‘äº†ã€‚å½“ç„¶ï¼Œæ–­ç‚¹ç»­ä¼ æœ‰ä¸€ç§ç‰¹æ®Šçš„æƒ…å†µï¼Œå°±æ˜¯ iOS åº”ç”¨è¢«ç”¨æˆ· kill æ‰æˆ–è€…åº”ç”¨ crashï¼Œè¦å®ç°åº”ç”¨é‡å¯ä¹‹åçš„æ–­ç‚¹ç»­ä¼ ã€‚è¿™ç§ç‰¹æ®Šæƒ…å†µæ˜¯æœ¬æ–‡è¦è§£å†³çš„é—®é¢˜ã€‚</p>

<h2 id="toc_1">æ–­ç‚¹ç»­ä¼ åŸç†</h2>

<p>è¦å®ç°æ–­ç‚¹ç»­ä¼  , æœåŠ¡å™¨å¿…é¡»æ”¯æŒã€‚ç›®å‰æœ€å¸¸è§çš„æ˜¯ä¸¤ç§æ–¹å¼ï¼šFTP å’Œ HTTPã€‚ä¸‹é¢æ¥ç®€å•ä»‹ç» HTTP æ–­ç‚¹ç»­ä¼ çš„åŸç†ã€‚</p>

<h3 id="toc_2">HTTP</h3>

<p>é€šè¿‡ HTTPï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿çš„å®ç°æ–­ç‚¹ç»­ä¼ ã€‚æ–­ç‚¹ç»­ä¼ ä¸»è¦ä¾èµ–äº HTTP å¤´éƒ¨å®šä¹‰çš„ Range æ¥å®Œæˆã€‚å…·ä½“ Range çš„è¯´æ˜å‚è§Â <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html">RFC2616</a>ä¸­ 14.35.2 èŠ‚ï¼Œåœ¨è¯·æ±‚æŸèŒƒå›´å†…çš„èµ„æºæ—¶ï¼Œå¯ä»¥æ›´æœ‰æ•ˆåœ°å¯¹å¤§èµ„æºå‘å‡ºè¯·æ±‚æˆ–ä»ä¼ è¾“é”™è¯¯ä¸­æ¢å¤ä¸‹è½½ã€‚æœ‰äº† Rangeï¼Œåº”ç”¨å¯ä»¥é€šè¿‡ HTTP è¯·æ±‚æ›¾ç»è·å–å¤±è´¥çš„èµ„æºçš„æŸä¸€ä¸ªè¿”å›æˆ–è€…æ˜¯éƒ¨åˆ†ï¼Œæ¥æ¢å¤ä¸‹è½½è¯¥èµ„æºã€‚å½“ç„¶å¹¶ä¸æ˜¯æ‰€æœ‰çš„æœåŠ¡å™¨éƒ½æ”¯æŒ Rangeï¼Œä½†å¤§å¤šæ•°æœåŠ¡å™¨æ˜¯å¯ä»¥çš„ã€‚Range æ˜¯ä»¥å­—èŠ‚è®¡ç®—çš„ï¼Œè¯·æ±‚çš„æ—¶å€™ä¸å¿…ç»™å‡ºç»“å°¾å­—èŠ‚æ•°ï¼Œå› ä¸ºè¯·æ±‚æ–¹å¹¶ä¸ä¸€å®šçŸ¥é“èµ„æºçš„å¤§å°ã€‚Range çš„å®šä¹‰å¦‚å›¾ 1 æ‰€ç¤ºï¼š</p>

<h5 id="toc_3">å›¾ 1. HTTP-Range</h5>

<p><img src="media/15060704391596/image001.png" alt="HTTP-Range"/></p>

<p>å›¾ 2 å±•ç¤ºäº† HTTP request çš„å¤´éƒ¨ä¿¡æ¯ï¼š</p>

<h5 id="toc_4">å›¾ 2. HTTP request ä¾‹å­</h5>

<p><img src="media/15060704391596/image002.png" alt="HTTP request ä¾‹å­"/></p>

<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­çš„â€œRange: bytes=1208765-â€è¡¨ç¤ºè¯·æ±‚èµ„æºå¼€å¤´ 1208765 å­—èŠ‚ä¹‹åçš„éƒ¨åˆ†ã€‚</p>

<p>å›¾ 3 å±•ç¤ºäº† HTTP response çš„å¤´éƒ¨ä¿¡æ¯ï¼š</p>

<h5 id="toc_5">å›¾ 3. HTTP response ä¾‹å­</h5>

<p><img src="media/15060704391596/image003.png" alt="HTTP response ä¾‹å­"/></p>

<p>ä¸Šé¢ä¾‹å­ä¸­çš„â€Accept-Ranges: bytesâ€è¡¨ç¤ºæœåŠ¡å™¨ç«¯æ¥å—è¯·æ±‚èµ„æºçš„æŸä¸€ä¸ªèŒƒå›´ï¼Œå¹¶å…è®¸å¯¹æŒ‡å®šèµ„æºè¿›è¡Œå­—èŠ‚ç±»å‹è®¿é—®ã€‚â€Content-Range: bytes 1208765-20489997/20489998â€è¯´æ˜äº†è¿”å›æä¾›äº†è¯·æ±‚èµ„æºæ‰€åœ¨çš„åŸå§‹å®ä½“å†…çš„ä½ç½®ï¼Œè¿˜ç»™å‡ºäº†æ•´ä¸ªèµ„æºçš„é•¿åº¦ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ HTTP return code æ˜¯ 206 è€Œä¸æ˜¯ 200ã€‚</p>

<h2 id="toc_6">æ–­ç‚¹ç»­ä¼ åˆ†æ -AFHTTPRequestOperation</h2>

<p>äº†è§£äº†æ–­ç‚¹ç»­ä¼ çš„åŸç†ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åŠ¨æ‰‹æ¥å®ç° iOS åº”ç”¨ä¸­çš„æ–­ç‚¹ç»­ä¼ äº†ã€‚ç”±äºç¬”è€…é¡¹ç›®çš„èµ„æºéƒ½æ˜¯éƒ¨ç½²åœ¨ HTTP æœåŠ¡å™¨ä¸Š , æ‰€ä»¥æ–­ç‚¹ç»­ä¼ åŠŸèƒ½ä¹Ÿæ˜¯åŸºäº HTTP å®ç°çš„ã€‚é¦–å…ˆæ¥çœ‹ä¸‹ç¬¬ä¸‰æ–¹ç½‘ç»œæ¡†æ¶ AFNetworking ä¸­æä¾›çš„å®ç°ã€‚æ¸…å• 1 ç¤ºä¾‹ä»£ç æ˜¯ç”¨æ¥å®ç°æ–­ç‚¹ç»­ä¼ éƒ¨åˆ†çš„ä»£ç ï¼š</p>

<h5 id="toc_7">æ¸…å• 1. ä½¿ç”¨ AFHTTPRequestOperation å®ç°æ–­ç‚¹ç»­ä¼ çš„ä»£ç </h5>

<pre><code>// 1 æŒ‡å®šä¸‹è½½æ–‡ä»¶åœ°å€ URLString 
// 2 è·å–ä¿å­˜çš„æ–‡ä»¶è·¯å¾„ filePath 
// 3 åˆ›å»º NSURLRequest 
NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:URLString]]; 
unsigned long long downloadedBytes = 0; 
 
if ([[NSFileManager defaultManager] fileExistsAtPath:filePath]) { 
// 3.1 è‹¥ä¹‹å‰ä¸‹è½½è¿‡ , åˆ™åœ¨ HTTP è¯·æ±‚å¤´éƒ¨åŠ å…¥ Range 
   // è·å–å·²ä¸‹è½½æ–‡ä»¶çš„ size 
   downloadedBytes = [self fileSizeForPath:filePath]; 
        
   // éªŒè¯æ˜¯å¦ä¸‹è½½è¿‡æ–‡ä»¶
   if (downloadedBytes &gt; 0) { 
       // è‹¥ä¸‹è½½è¿‡ , æ–­ç‚¹ç»­ä¼ çš„æ—¶å€™ä¿®æ”¹ HTTP å¤´éƒ¨éƒ¨åˆ†çš„ Range 
       NSMutableURLRequest *mutableURLRequest = [request mutableCopy]; 
       NSString *requestRange = 
       [NSString stringWithFormat:@&quot;bytes=%llu-&quot;, downloadedBytes]; 
       [mutableURLRequest setValue:requestRange forHTTPHeaderField:@&quot;Range&quot;]; 
       request = mutableURLRequest; 
   } 
} 
 
// 4 åˆ›å»º AFHTTPRequestOperation 
AFHTTPRequestOperation *operation 
 = [[AFHTTPRequestOperation alloc] initWithRequest:request]; 
 
// 5 è®¾ç½®æ“ä½œè¾“å‡ºæµ , ä¿å­˜åœ¨ç¬¬ 2 æ­¥çš„æ–‡ä»¶ä¸­
operation.outputStream = [NSOutputStream 
outputStreamToFileAtPath:filePath append:YES]; 
 
// 6 è®¾ç½®ä¸‹è½½è¿›åº¦å¤„ç† block 
[operation setDownloadProgressBlock:^(NSUInteger bytesRead, 
long long totalBytesRead, long long totalBytesExpectedToRead) { 
// bytesRead å½“å‰è¯»å–çš„å­—èŠ‚æ•°
// totalBytesRead è¯»å–çš„æ€»å­—èŠ‚æ•° , åŒ…å«æ–­ç‚¹ç»­ä¼ ä¹‹å‰çš„
// totalBytesExpectedToRead æ–‡ä»¶æ€»å¤§å°
}]; 
 
// 7 è®¾ç½® success å’Œ failure å¤„ç† block 
[operation setCompletionBlockWithSuccess:^(AFHTTPRequestOperation 
*operation, id responseObject) { 
 
} failure:^(AFHTTPRequestOperation *operation, NSError *error) { 
 
}]; 
 
// 8 å¯åŠ¨ operation 
[operation start];
</code></pre>

<p>ä½¿ç”¨ä»¥ä¸Šä»£ç  , æ–­ç‚¹ç»­ä¼ åŠŸèƒ½å°±å®ç°äº†ï¼Œåº”ç”¨é‡æ–°å¯åŠ¨æˆ–è€…å‡ºç°å¼‚å¸¸æƒ…å†µä¸‹ , éƒ½å¯ä»¥åŸºäºå·²ç»ä¸‹è½½çš„éƒ¨åˆ†å¼€å§‹ç»§ç»­ä¸‹è½½ã€‚å…³é”®çš„åœ°æ–¹å°±æ˜¯æŠŠå·²ç»ä¸‹è½½çš„æ•°æ®æŒä¹…åŒ–ã€‚æ¥ä¸‹æ¥ç®€å•çœ‹ä¸‹ AFHTTPRequestOperation æ˜¯æ€ä¹ˆå®ç°çš„ã€‚é€šè¿‡æŸ¥çœ‹æºç  , æˆ‘ä»¬å‘ç° AFHTTPRequestOperation ç»§æ‰¿è‡ª AFURLConnectionOperation , è€Œ AFURLConnectionOperation å®ç°äº† NSURLConnectionDataDelegate åè®®ã€‚å¤„ç†æµç¨‹å¦‚å›¾ 4 æ‰€ç¤ºï¼š</p>

<h5 id="toc_8">å›¾ 4. AFURLHTTPrequestOperation å¤„ç†æµç¨‹</h5>

<p><img src="media/15060704391596/image004.png" alt="AFURLHTTPrequestOperation å¤„ç†æµç¨‹"/></p>

<p>è¿™é‡Œ AFNetworking ä¸ºä»€ä¹ˆé‡‡å–å­çº¿ç¨‹è°ƒå¼‚æ­¥æ¥å£çš„æ–¹å¼ , æ˜¯å› ä¸ºç›´æ¥åœ¨ä¸»çº¿ç¨‹è°ƒç”¨å¼‚æ­¥æ¥å£ , ä¼šæœ‰ä¸€ä¸ª Runloop çš„é—®é¢˜ã€‚å½“ä¸»çº¿ç¨‹è°ƒç”¨ [[NSURLConnectionÂ alloc]Â initWithRequest:requestÂ delegate:selfÂ startImmediately:YES] æ—¶ , è¯·æ±‚å‘å‡ºä¹‹åçš„ç›‘å¬ä»»åŠ¡ä¼šåŠ å…¥åˆ°ä¸»çº¿ç¨‹çš„ Runloop ä¸­ ,RunloopMode é»˜è®¤ä¸º NSDefaultRunLoopMode, è¿™ä¸ªè¡¨ç¤ºåªæœ‰å½“å‰çº¿ç¨‹çš„ Runloop å¤„ç† NSDefaultRunLoopMode æ—¶ï¼Œè¿™ä¸ªä»»åŠ¡æ‰ä¼šè¢«æ‰§è¡Œã€‚è€Œå½“ç”¨æˆ·åœ¨æ»šåŠ¨ TableView å’Œ ScrollView çš„æ—¶å€™ï¼Œä¸»çº¿ç¨‹çš„ Runloop å¤„äº NSEventTrackingRunLoop æ¨¡å¼ä¸‹ï¼Œå°±ä¸ä¼šæ‰§è¡Œ NSDefaultRunLoopMode çš„ä»»åŠ¡ã€‚</p>

<p>å¦å¤–ç”±äºé‡‡å–å­çº¿ç¨‹è°ƒç”¨æ¥å£çš„æ–¹å¼ , æ‰€ä»¥è¿™è¾¹çš„ DownloadProgressBlock,success å’Œ failure Block éƒ½éœ€è¦å›åˆ°ä¸»çº¿ç¨‹æ¥å¤„ç†ã€‚</p>

<h2 id="toc_9">æ–­ç‚¹ç»­ä¼ å®æˆ˜</h2>

<p>äº†è§£äº†åŸç†å’Œ AFHTTPRequestOperation çš„ä¾‹å­ä¹‹å , æ¥çœ‹ä¸‹å®ç°æ–­ç‚¹ç»­ä¼ çš„ä¸‰ç§æ–¹å¼ï¼š</p>

<h3 id="toc_10">NSURLConnection</h3>

<p>åŸºäº NSURLConnection å®ç°æ–­ç‚¹ç»­ä¼  , å…³é”®æ˜¯æ»¡è¶³ NSURLConnectionDataDelegate åè®®ï¼Œä¸»è¦å®ç°äº†å¦‚ä¸‹ä¸‰ä¸ªæ–¹æ³•ï¼š</p>

<h5 id="toc_11">æ¸…å• 2. NSURLConnection çš„å®ç°</h5>

<pre><code>// SWIFT 
// è¯·æ±‚å¤±è´¥å¤„ç†
func connection(connection: NSURLConnection, 
didFailWithError error: NSError) { 
   self.failureHandler(error: error) 
} 
 
// æ¥æ”¶åˆ°æœåŠ¡å™¨å“åº”æ˜¯è°ƒç”¨
func connection(connection: NSURLConnection, 
 didReceiveResponse response: NSURLResponse) { 
   if self.totalLength != 0 { 
       return 
   } 
 
   self.writeHandle = NSFileHandle(forWritingAtPath: 
   FileManager.instance.cacheFilePath(self.fileName!)) 
 
   self.totalLength = response.expectedContentLength + self.currentLength 
} 
 
// å½“æœåŠ¡å™¨è¿”å›å®ä½“æ•°æ®æ˜¯è°ƒç”¨
func connection(connection: NSURLConnection, didReceiveData data: NSData) { 
   let length = data.length 
    
   // move to the end of file 
   self.writeHandle.seekToEndOfFile() 
    
   // write data to sanbox 
   self.writeHandle.writeData(data) 
    
   // calculate data length 
   self.currentLength = self.currentLength + length 
    
   print(&quot;currentLength\(self.currentLength)-totalLength\(self.totalLength)&quot;) 
    
   if (self.downloadProgressHandler != nil) { 
       self.downloadProgressHandler(bytes: length, totalBytes: 
       self.currentLength, totalBytesExpected: self.totalLength) 
   } 
} 
 
// ä¸‹è½½å®Œæ¯•åè°ƒç”¨
func connectionDidFinishLoading(connection: NSURLConnection) { 
   self.currentLength = 0 
   self.totalLength = 0 
 
   //close write handle 
   self.writeHandle.closeFile() 
   self.writeHandle = nil 
 
   let cacheFilePath = FileManager.instance.cacheFilePath(self.fileName!) 
   let documenFilePath = FileManager.instance.documentFilePath(self.fileName!) 
        
   do { 
       try FileManager.instance.moveItemAtPath(cacheFilePath, toPath: documenFilePath) 
   } catch let e as NSError { 
       print(&quot;Error occurred when to move file: \(e)&quot;) 
   } 
    
   self.successHandler(responseObject:fileName!) 
}
</code></pre>

<p>å¦‚å›¾ 5 æ‰€ç¤º , è¯´æ˜äº† NSURLConnection çš„ä¸€èˆ¬å¤„ç†æµç¨‹ã€‚ï¼ˆä»£ç è¯¦è§ä¸‹è½½åŒ…ï¼‰</p>

<h5 id="toc_12">å›¾ 5. NSURLConnection æµç¨‹</h5>

<p><img src="media/15060704391596/image005.png" alt="NSURLConnection æµç¨‹"/></p>

<p>æ ¹æ®å›¾ 5 çš„ä¸€èˆ¬æµç¨‹ï¼Œåœ¨ didReceiveResponse ä¸­åˆå§‹åŒ– fileHandler, åœ¨ didReceiveData ä¸­ , å°†æ¥æ”¶åˆ°çš„æ•°æ®æŒä¹…åŒ–çš„æ–‡ä»¶ä¸­ , åœ¨ connectionDidFinishLoading ä¸­ï¼Œæ¸…ç©ºæ•°æ®å’Œå…³é—­ fileHandlerï¼Œå¹¶å°†æ–‡ä»¶ä¿å­˜åˆ° Document ç›®å½•ä¸‹ã€‚æ‰€ä»¥å½“è¯·æ±‚å‡ºç°å¼‚å¸¸æˆ–åº”ç”¨è¢«ç”¨æˆ·æ€æ‰ï¼Œéƒ½å¯ä»¥é€šè¿‡æŒä¹…åŒ–çš„ä¸­é—´æ–‡ä»¶æ¥æ–­ç‚¹ç»­ä¼ ã€‚åˆå§‹åŒ– NSURLConnection çš„æ—¶å€™è¦æ³¨æ„è®¾ç½® scheduleInRunLoop ä¸º NSRunLoopCommonModesï¼Œä¸ç„¶å°±ä¼šå‡ºç°è¿›åº¦æ¡ UI æ— æ³•æ›´æ–°çš„ç°è±¡ã€‚å®ç°æ•ˆæœå¦‚å›¾ 6 æ‰€ç¤ºï¼š</p>

<h5 id="toc_13">å›¾ 6. NSURLConnection æ¼”ç¤º</h5>

<p><img src="media/15060704391596/image006.gif" alt="NSURLConnection æ¼”ç¤º"/></p>

<h3 id="toc_14">NSURLSessionDataTask</h3>

<p>è‹¹æœåœ¨ iOS7 å¼€å§‹ï¼Œæ¨å‡ºäº†ä¸€ä¸ªæ–°çš„ç±» NSURLSession, å®ƒå…·å¤‡äº† NSURLConnection æ‰€å…·å¤‡çš„æ–¹æ³•ï¼Œå¹¶ä¸”æ›´å¼ºå¤§ã€‚ç”±äºé€šè¿‡ NSURLConnection ä» 2015 å¹´å¼€å§‹è¢«å¼ƒç”¨äº†ï¼Œæ‰€ä»¥è¯»è€…æ¨èåŸºäº NSURLSession å»å®ç°ç»­ä¼ ã€‚NSURLConnection å’Œ NSURLSession delegate æ–¹æ³•çš„æ˜ å°„å…³ç³» , å¦‚å›¾ 7 æ‰€ç¤ºã€‚æ‰€ä»¥å…³é”®æ˜¯è¦æ»¡è¶³ NSURLSessionDataDelegate å’Œ NSURLsessionTaskDelegateã€‚</p>

<h5 id="toc_15">å›¾ 7. åè®®ä¹‹é—´æ˜ å°„å…³ç³»</h5>

<p><img src="media/15060704391596/image007.png" alt="åè®®ä¹‹é—´æ˜ å°„å…³ç³»"/></p>

<p>ä»£ç å¦‚æ¸…å• 3 æ‰€ç¤º , åŸºæœ¬å’Œ NSURLConnection å®ç°çš„ä¸€æ ·ã€‚</p>

<h5 id="toc_16">æ¸…å• 3. NSURLSessionDataTask çš„å®ç°</h5>

<pre><code>// SWIFT 
// æ¥æ”¶æ•°æ®
func URLSession(session: NSURLSession, dataTask: NSURLSessionDataTask, 
idReceiveData data: NSData) { 
   //. . . 
} 
// æ¥æ”¶æœåŠ¡å™¨å“åº”
func URLSession(session: NSURLSession, dataTask: NSURLSessionDataTask, 
didReceiveResponse response: NSURLResponse, completionHandler: 
 (NSURLSessionResponseDisposition) -&gt; Void) { 
   // . . . 
   completionHandler(.Allow) 
} 
 
// è¯·æ±‚å®Œæˆ
func URLSession(session: NSURLSession, task: NSURLSessionTask, 
 didCompleteWithError error: NSError?) { 
   if error == nil { 
       // . . . 
       self.successHandler(responseObject:self.fileName!) 
   } else { 
       self.failureHandler(error:error!) 
   } 
}
</code></pre>

<p>åŒºåˆ«åœ¨ä¸ didComleteWithError, å®ƒå°† NSURLConnection ä¸­çš„ connection:didFailWithError:</p>

<p>å’Œ connectionDidFinishLoading: æ•´åˆåˆ°äº†ä¸€èµ· , æ‰€ä»¥è¿™è¾¹è¦æ ¹æ® error åŒºåˆ†æ‰§è¡ŒæˆåŠŸçš„ Block å’Œå¤±è´¥çš„ Blockã€‚å®ç°æ•ˆæœå¦‚å›¾ 8 æ‰€ç¤ºï¼š</p>

<h5 id="toc_17">å›¾ 8. NSURLSessionDataTask æ¼”ç¤º</h5>

<p><img src="media/15060704391596/image008.gif" alt="NSURLSessionDataTask æ¼”ç¤º"/></p>

<h3 id="toc_18">NSURLSessionDownTask</h3>

<p>æœ€åæ¥çœ‹ä¸‹ NSURLSession ä¸­ç”¨æ¥ä¸‹è½½çš„ç±» NSURLSessionDownloadTaskï¼Œå¯¹åº”çš„åè®®æ˜¯ NSURLSessionDownloadDelegateï¼Œå¦‚å›¾ 9 æ‰€ç¤ºï¼š</p>

<h5 id="toc_19">å›¾ 9. NSURLSessionDownloadDelegate åè®®</h5>

<p><img src="media/15060704391596/image009.png" alt="NSURLSessionDownloadDelegate åè®®"/></p>

<p>å…¶ä¸­åœ¨é€€å‡º didFinishDownloadingToURL åï¼Œä¼šè‡ªåŠ¨åˆ é™¤ temp ç›®å½•ä¸‹å¯¹åº”çš„æ–‡ä»¶ã€‚æ‰€ä»¥æœ‰å…³æ–‡ä»¶æ“ä½œå¿…é¡»è¦åœ¨è¿™ä¸ªæ–¹æ³•é‡Œé¢å¤„ç†ã€‚ä¹‹å‰ç¬”è€…æ›¾æƒ³æ‰¾åˆ°è¿™ä¸ª tmp æ–‡ä»¶ , åŸºäºè¿™ä¸ªæ–‡ä»¶åšæ–­ç‚¹ç»­ä¼  , æ— å¥ˆä¸€ç›´æ‰¾ä¸åˆ°è¿™ä¸ªæ–‡ä»¶çš„è·¯å¾„ã€‚ç­‰ä»¥å SWIFT å…¬å¸ƒ NSURLSession çš„æºç ä¹‹åï¼Œå…´è®¸ä¼šæœ‰æ–¹æ³•æ‰¾åˆ°ã€‚åŸºäº NSURLSessionDownloadTask æ¥å®ç°çš„è¯ , éœ€è¦åœ¨ cancelByProducingResumeData ä¸­ä¿å­˜å·²ç»ä¸‹è½½çš„æ•°æ®ã€‚è¿›åº¦é€šçŸ¥å°±éå¸¸ç®€å•äº†ï¼Œç›´æ¥åœ¨ URLSession:downloadTask:didWriteData:totalBytesWritten:totalBytesWritten:totalBytesExpectedToWrite: å®ç°å³å¯ã€‚ä»£ç å¦‚æ¸…å• 4 æ‰€ç¤ºï¼š</p>

<h5 id="toc_20">æ¸…å• 4. NSURLSessionDownloadTask çš„å®ç°</h5>

<pre><code>//SWIFT 
 
//UI è§¦å‘ pause 
func pause(){ 
   self.downloadTask?.cancelByProducingResumeData({data -&gt; Void in 
       if data != nil { 
data!.writeToFile(FileManager.instance.cacheFilePath(self.fileName!), 
atomically: false) 
} 
       }) 
   self.downloadTask = nil 
} 
 
// MARK: - NSURLSessionDownloadDelegate 
func URLSession(session: NSURLSession, downloadTask: 
NSURLSessionDownloadTask, didWriteData bytesWritten: Int64, 
totalBytesWritten: Int64, totalBytesExpectedToWrite: Int64) { 
   if (self.downloadProgressHandler != nil) { 
       self.downloadProgressHandler(bytes: Int(bytesWritten), 
        totalBytes: totalBytesWritten, totalBytesExpected: totalBytesExpectedToWrite) 
   } 
} 
 
func URLSession(session: NSURLSession, task: NSURLSessionTask, 
didCompleteWithError error: NSError?) { 
   if error != nil {//real error 
       self.failureHandler(error:error!) 
   } 
} 
 
func URLSession(session: NSURLSession, downloadTask: NSURLSessionDownloadTask, 
 didFinishDownloadingToURL location: NSURL) { 
   let cacheFilePath = FileManager.instance.cacheFilePath(self.fileName!) 
   let documenFilePath = FileManager.instance.documentFilePath(self.fileName!) 
   do { 
       if FileManager.instance.fileExistsAtPath(cacheFilePath){ 
           try FileManager.instance.removeItemAtPath(cacheFilePath) 
       } 
       try FileManager.instance.moveItemAtPath(location.path!, toPath: documenFilePath) 
   } catch let e as NSError { 
       print(&quot;Error occurred when to move file: \(e)&quot;) 
   } 
   self.successHandler(responseObject:documenFilePath) 
}
</code></pre>

<p>å®ç°æ•ˆæœå¦‚å›¾ 10 æ‰€ç¤ºï¼š</p>

<h5 id="toc_21">å›¾ 10. NSURLSessionDownloadTask æ¼”ç¤º</h5>

<p><img src="media/15060704391596/image010.gif" alt="NSURLSessionDownloadTask æ¼”ç¤º"/></p>

<h2 id="toc_22">æ€»ç»“</h2>

<p>æœ¬æ–‡ä»æ–­ç‚¹ç»­ä¼ æ¦‚è¿°å¼€å§‹ï¼Œä»‹ç»äº†æ–­ç‚¹ç»­ä¼ çš„åº”ç”¨èƒŒæ™¯ï¼Œé€šè¿‡åŸç†çš„æè¿°ï¼Œç›¸ä¿¡è¯»è€…å¯¹æ–­ç‚¹ç»­ä¼ æœ‰äº†åŸºæœ¬çš„è®¤è¯†å’Œç†è§£ã€‚æ¥ç€ç¬”è€…ä»‹ç»äº†é€šè¿‡ AFHTTPRequestOpeartion å®ç°çš„ä»£ç ï¼Œå¹¶å¯¹ AFHTTPRequestOpeartion åšäº†ç®€å•çš„åˆ†æã€‚æœ€åç¬”è€…ç»“åˆçš„å®é™…éœ€æ±‚ï¼ŒåŸºäº NSURLConnection, NSURLSeesionDataTask å’Œ NSURLSessionDownloadtaskã€‚å…¶å®ï¼Œä¸‹è½½çš„å®ç°è¿œä¸æ­¢è¿™äº›å†…å®¹ï¼Œæœ¬æ–‡åªä»‹ç»äº†ç®€å•çš„ä½¿ç”¨ã€‚å¸Œæœ›åœ¨è¿›ä¸€æ­¥çš„å­¦ä¹ å’Œåº”ç”¨ä¸­èƒ½ç»§ç»­ä¸å¤§å®¶åˆ†äº«ã€‚</p>

<h4 id="toc_23">ç›¸å…³ä¸»é¢˜</h4>

<ul>
<li>å‚è€ƒÂ <a href="https://www.w3.org/Protocols/rfc959/4_FileTransfer.html">RFC959</a>ï¼Œäº†è§£ FTP åè®®æ–‡æœ¬çš„è¯´æ˜ã€‚</li>
<li>å‚è€ƒÂ <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html">RFC2616</a>ï¼Œäº†è§£ HTTP çš„è¯´æ˜ã€‚</li>
<li>å‚è€ƒÂ <a href="https://github.com/AFNetworking/AFNetworking/blob/2.x/AFNetworking/AFHTTPRequestOperation.m">AFHTTPRequestOperation</a>, äº†è§£æºç ã€‚</li>
<li>å‚è€ƒÂ <a href="https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/ObjC_classic/index.html#//apple_ref/doc/uid/20001091">iOSDeveloperLibrary</a>ï¼Œäº†è§£ Apple å®˜æ–¹æ–‡æ¡£å¯¹ NSURLConnection, NSURLSeesionDownloadTask å’Œ NSURLSeesionDataTask çš„è¯´æ˜ã€‚</li>
<li>è®¿é—® developerWorksÂ <a href="http://www.ibm.com/developerworks/cn/mobile/">Mobile ä¸“åŒº</a>ï¼Œäº†è§£å…³äºä¿¡æ¯ç®¡ç†çš„æ›´å¤šä¿¡æ¯ï¼Œè·å–æŠ€æœ¯æ–‡æ¡£ã€how-to æ–‡ç« ã€åŸ¹è®­ã€ä¸‹è½½ã€äº§å“ä¿¡æ¯ä»¥åŠå…¶ä»–èµ„æºã€‚</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ä¼˜åŒ–iPad 2 æ€»ç»“]]></title>
    <link href="http://www.citynight.cn/Blog/15058021769287.html"/>
    <updated>2017-09-19T14:22:56+08:00</updated>
    <id>http://www.citynight.cn/Blog/15058021769287.html</id>
    <content type="html"><![CDATA[
<p>å®æ–½åé¦ˆé¡¹ç›®åœ¨<code>iPad 2</code>ä¸Šæ¯”è¾ƒå¡é¡¿,æ‰€ä»¥è¦å¯¹é¡¹ç›®è¿›è¡Œä¼˜åŒ–.</p>

<h2 id="toc_0">ä¼˜åŒ–é›†ä¸­ç‚¹ä¸ºcollectionView</h2>

<p>é¡¹ç›®æœ‰ä¸¤ç§æ˜¾ç¤ºæ•ˆæœ,ä¸€ç§æ˜¯å›¾ç‰‡æ¨¡å¼,ä¸€ç§æ˜¯çº¯æ–‡å­—æ¨¡å¼. çº¯æ–‡å­—æ¨¡å¼æ»‘åŠ¨èµ·æ¥è¿˜ä¸é”™,å›¾ç‰‡æ¨¡å¼å°±æ¯”è¾ƒå¡äº†.ç»åˆ†æ,é¡¹ç›®åšäº†éƒ¨åˆ†ä¿®æ”¹,ä½¿æ»‘åŠ¨æ•ˆæœæ¯”è¾ƒé¡ºç•….</p>

<ol>
<li>æ …æ ¼åŒ–: ç›®çš„æ˜¯ç¦»å±æ¸²æŸ“,ä¸è¿‡è¿˜æ˜¯å¡é¡¿</li>
</ol>

<pre><code>    self.layer.shouldRasterize = true
    self.layer.rasterizationScale = UIScreen.main.scale
    self.layer.drawsAsynchronously = true
</code></pre>

<p>2.Color Blended Layers å¤„ç†<br/>
<img src="media/15058021769287/15058027400968.jpg" alt=""/><br/>
å‘ç°éƒ¨åˆ†UILabelå­˜åœ¨é—®é¢˜,è§£å†³æ–¹æ¡ˆ:<br/>
<img src="media/15058021769287/15058028256147.jpg" alt=""/></p>

<p>æ·»åŠ  <code>label.layer.masksToBounds = true</code>,æ•ˆæœè¿˜æ˜¯ä¸è¡Œ.</p>

<ol>
<li>ä¸Šé¢ä¼˜åŒ–åæ•ˆæœä¸æ˜¯å¾ˆæ˜æ˜¾,æœ€åé‡‡å–äº†<strong>ä»¥ç©ºé—´æ¢æ—¶é—´</strong>çš„æ–¹å¼ä¼˜åŒ–å›¾ç‰‡åˆ—è¡¨é¡µ
æå‰ç”¨<code>Kingfisher</code>ä¸‹è½½å›¾ç‰‡(è¿™ä¸ªè¿‡ç¨‹åŸå…ˆå°±æœ‰)ä¸‹è½½è¿‡å›¾ç‰‡ä¹Ÿåšäº†ä¸å†ä¸‹è½½çš„å¤„ç†,ç”±äºå›¾ç‰‡è¿‡å¤šå¯¼è‡´ä¸ä¼šæœ‰å¤ªå¤šåˆ—è¡¨é¡µçš„å›¾ç‰‡ç¼“å­˜ä¸­å†…å­˜ä¸­. é’ˆå¯¹è¿™ä¸ªé—®é¢˜,æˆ‘é‡‡ç”¨äº†æ¯æ¬¡è¿›å…¥appå°±æŠŠåˆ—è¡¨é¡µçš„å›¾ç‰‡ä½¿ç”¨<code>NSCache&lt;NSString, UIImage&gt;</code>ç¼“å­˜èµ·æ¥,æ•ˆæœå¾ˆæ˜æ˜¾.</li>
</ol>

<h2 id="toc_1">ç›®å‰è¿˜å­˜åœ¨é—®é¢˜</h2>

<p>ä¸‹è½½å›¾ç‰‡å¤±è´¥ç‡è¿˜æ˜¯å¾ˆé«˜çš„,æˆ‘è®¾ç½®çš„è¶…æ—¶æ—¶é—´ä¸º60s <code>downloader.downloadTimeout = 60</code> ä½†æ˜¯è¿˜æ˜¯æœ‰å¾ˆå¤šå›¾ç‰‡ä¸‹è½½è¶…æ—¶,å¯¼è‡´é¦–æ¬¡åŠ è½½çš„æ—¶å€™éœ€è¦ä¸‹è½½å›¾ç‰‡æ»‘åŠ¨å¡é¡¿.<br/>
ç”±äº<code>NSCache</code>çš„ç‰¹æ®Šæ€§,ä¸èƒ½ä¿è¯å›¾ç‰‡ä¸€ç›´åœ¨å†…å­˜ä¸­,æ­£åœ¨è€ƒè™‘æ˜¯å¦æ›¿æ¢æˆDictionary,ç„¶åè‡ªå·±å¤„ç†å†…å­˜è­¦å‘Š.è¿™ä¸ªç¨åéªŒè¯ä¸‹.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[æŒ‡é’ˆ]]></title>
    <link href="http://www.citynight.cn/Blog/15052686192490.html"/>
    <updated>2017-09-13T10:10:19+08:00</updated>
    <id>http://www.citynight.cn/Blog/15052686192490.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">1. æŒ‡é’ˆæ˜¯ä¸€ç§æ•°æ®ç±»å‹</h2>

<ol>
<li>æŒ‡é’ˆä¹Ÿæ˜¯ä¸€ç§å˜é‡,å æœ‰å†…å­˜ç©ºé—´,ç”¨æ¥ä¿å­˜å†…å­˜åœ°å€  æŒ‡é’ˆçš„å¤§å°&ndash;&gt; 32ä½: 4  64ä½: 8</li>
<li><p><code>*p</code> æ“ä½œå†…å­˜</p>

<pre><code>åœ¨æŒ‡é’ˆå£°æ˜æ—¶,`*`å·è¡¨ç¤ºæ‰€å£°æ˜çš„å˜é‡ä¸ºæŒ‡é’ˆ
åœ¨æŒ‡é’ˆä½¿ç”¨æ—¶,`*`å·è¡¨ç¤º**æ“ä½œ**æŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å­˜ç©ºé—´ä¸­çš„å€¼
`*p`ç›¸å½“äºé€šè¿‡åœ°å€(på˜é‡çš„å€¼)æ‰¾åˆ°ä¸€å—å†…å­˜,ç„¶åæ“ä½œå†…å­˜
`*p`æ”¾åœ¨ç­‰å·å·¦è¾¹èµ‹å€¼(ç»™å†…å­˜èµ‹å€¼)
`*p`æ”¾åœ¨ç­‰å·å³è¾¹å–å€¼(ä»å†…å­˜è·å–å€¼)
</code></pre></li>
<li><p>æŒ‡é’ˆå˜é‡å’Œå®ƒæŒ‡å‘çš„å†…å­˜å—æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µ</p>

<pre><code>å«ä¹‰1: ç»™pèµ‹å€¼ p = 0x1111; åªä¼šæ”¹å˜æŒ‡é’ˆå˜é‡å€¼,ä¸ä¼šæ”¹å˜æ‰€æŒ‡çš„å†…å®¹; p = p+1
å«ä¹‰2: ç»™`*p`èµ‹å€¼ *p = &#39;a&#39;;ä¸ä¼šæ”¹å˜æŒ‡é’ˆå˜é‡çš„å€¼,åªä¼šæ”¹å˜æ‰€æŒ‡çš„å†…å­˜å—çš„å€¼
ä¿è¯æ‰€æŒ‡å‘çš„å†…å­˜ç©ºé—´èƒ½ä¿®æ”¹()
*å°±åƒä¸€æŠŠé’¥åŒ™,é€šè¿‡ä¸€ä¸ªåœ°å€(&amp;a),å»ä¿®æ”¹aå˜é‡çš„æ ‡ç¤ºçš„å†…å­˜ç©ºé—´
</code></pre></li>
<li><p>æŒ‡é’ˆæ˜¯ä¸€ç§æ•°æ®ç±»å‹,æ˜¯æŒ‡å®ƒæŒ‡å‘çš„å†…å­˜ç©ºé—´çš„æ•°æ®ç±»å‹</p>

<pre><code>æŒ‡é’ˆæ­¥é•¿(p++),æ ¹æ®æ‰€æŒ‡å†…å­˜ç©ºé—´çš„æ•°æ®ç±»å‹ç±»ç¡®å®š
p++ = ---&gt; p+sizeof(a)
</code></pre></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[3D Touch]]></title>
    <link href="http://www.citynight.cn/Blog/15038471972999.html"/>
    <updated>2017-08-27T23:19:57+08:00</updated>
    <id>http://www.citynight.cn/Blog/15038471972999.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0"><a href="https://stackoverflow.com/documentation/ios/6705/3d-touch/22813/3d-touch-with-swift">3D Touch with Swift</a></h2>

<p>3D touch has been introduced with iPhone 6s Plus. There are two behaviors added with this new interface layer: Peek and Pop.</p>

<p><strong>Peek and Pop in a nutshell</strong></p>

<p>Peek - Press hard</p>

<p>Pop - Press really hard</p>

<p><strong>Checking for 3D support</strong></p>

<p>You should check if the device has a 3D touch support. You can do this by checking the value ofÂ <em>forceTouchCapability</em>Â property of aÂ <em>UITraitCollection</em>Â object. UITraitCollection describes the iOS interface environment for your app.</p>

<pre><code>if (traitCollection.forceTouchCapability == .Available) {    
    registerForPreviewingWithDelegate(self, sourceView: view)
}
</code></pre>

<p><strong>Implementing the delegate</strong></p>

<p>You need to implement the two methods ofÂ <em>UIViewControllerPreviewingDelegate</em>Â in your class. One of the methods is forÂ <em>peek</em>Â and the other one is forÂ <em>pop</em>Â behavior.</p>

<p>The method to be implemented for theÂ <em>peek</em>Â isÂ <em>previewingContext</em>.</p>

<pre><code>func previewingContext(previewingContext: UIViewControllerPreviewing, viewControllerForLocation location: CGPoint) -&gt; UIViewController? {

    guard let indexPath = self.tableView.indexPathForRowAtPoint(location), cell = self.tableView.cellForRowAtIndexPath(indexPath) as? &lt;YourTableViewCell&gt; else {
        return nil
    }

    guard let datailVC = storyboard?.instantiateViewControllerWithIdentifier(&quot;&lt;YourViewControllerIdentifier&gt;&quot;) as? &lt;YourViewController&gt; else {
        return nil
    }

    datailVC.peekActive = true
    previewingContext.sourceRect = cell.frame

    // Do the stuff

    return datailVC

}
</code></pre>

<p>The method to be implemented for theÂ <em>pop</em>Â isÂ <em>previewingContext</em>. :)</p>

<pre><code>func previewingContext(previewingContext: UIViewControllerPreviewing, commitViewController viewControllerToCommit: UIViewController) {

    let balanceViewController = viewControllerToCommit as! &lt;YourViewController&gt;

    // Do the stuff

    navigationController?.pushViewController(balanceViewController, animated: true)

}
</code></pre>

<p>As you can see they are overloaded methods. You can use 3D touch in any way implementing these methods.</p>

<p><strong>Objective-C</strong></p>

<pre><code>//Checking for 3-D Touch availability
if ([self.traitCollection respondsToSelector:@selector(forceTouchCapability)] &amp;&amp;
        (self.traitCollection.forceTouchCapability == UIForceTouchCapabilityAvailable))
    {
        [self registerForPreviewingWithDelegate:self sourceView:self.view];
    }
//Peek
- (UIViewController *)previewingContext:(id&lt;UIViewControllerPreviewing&gt;)previewingContext
              viewControllerForLocation:(CGPoint)location {

    NSIndexPath *indexPath = [self.tableView indexPathForRowAtPoint:location];
    Country *country = [self countryForIndexPath:indexPath];
    if (country) {
        CountryCell *cell = [self.tableView cellForRowAtIndexPath:indexPath];
        if (cell) {
            previewingContext.sourceRect = cell.frame;
            UINavigationController *navController = [self.storyboard instantiateViewControllerWithIdentifier:@&quot;UYLCountryNavController&quot;];
            [self configureNavigationController:navController withCountry:country];
            return navController;
        }
    }
    return nil;
}
//Pop
- (void)previewingContext:(id&lt;UIViewControllerPreviewing&gt;)previewingContext commitViewController:(UIViewController *)viewControllerToCommit {

    [self showDetailViewController:viewControllerToCommit sender:self];
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[CAGradientLayer]]></title>
    <link href="http://www.citynight.cn/Blog/15038463059094.html"/>
    <updated>2017-08-27T23:05:05+08:00</updated>
    <id>http://www.citynight.cn/Blog/15038463059094.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0"><a href="https://stackoverflow.com/documentation/ios/1190/cagradientlayer/3856/creating-a-cagradientlayer">Creating a CAGradientLayer</a></h2>

<pre><code>// View to hold the CAGradientLayer.
let view: UIView = UIView(frame: CGRect(x: 0, y: 0, width: 320, height: 320))

// Initialize gradient layer.
let gradientLayer: CAGradientLayer = CAGradientLayer()

// Set frame of gradient layer.
gradientLayer.frame = view.bounds

// Color at the top of the gradient.
let topColor: CGColor = UIColor.red.cgColor

// Color at the bottom of the gradient.
let bottomColor: CGColor = UIColor.yellow.cgColor

// Set colors.
gradientLayer.colors = [topColor, bottomColor]

// Set locations of the colors.
gradientLayer.locations = [0.0, 1.0]

// Insert gradient layer into view&#39;s layer heirarchy.
view.layer.insertSublayer(gradientLayer, at: 0)
</code></pre>

<p>Result :</p>

<p><img src="media/15038463059094/q26bv.png" alt="Simple CAGradientLayer."/></p>

<h2 id="toc_1"><a href="https://stackoverflow.com/documentation/ios/1190/cagradientlayer/12652/animating-a-color-change-in-cagradientlayer">Animating a color change in CAGradientLayer.</a></h2>

<pre><code>// Get the current colors of the gradient.
let oldColors = self.gradientLayer.colors

// Define the new colors for the gradient.
let newColors = [UIColor.red.cgColor, UIColor.yellow.cgColor]

// Set the new colors of the gradient.
self.gradientLayer.colors = newColors

// Initialize new animation for changing the colors of the gradient.
let animation: CABasicAnimation = CABasicAnimation(keyPath: &quot;colors&quot;)

// Set current color value.
animation.fromValue = oldColors

// Set new color value.
animation.toValue = newColors

// Set duration of animation.
animation.duration = 0.3

// Set animation to remove once its completed.
animation.isRemovedOnCompletion = true

// Set receiver to remain visible in its final state when the animation is completed.
animation.fillMode = kCAFillModeForwards

// Set linear pacing, which causes an animation to occur evenly over its duration.
animation.timingFunction = CAMediaTimingFunction(name: kCAMediaTimingFunctionLinear)

// Set delegate of animation.
animation.delegate = self

// Add the animation.
self.gradientLayer.addAnimation(animation, forKey: &quot;animateGradientColorChange&quot;)
</code></pre>

<p>Result :</p>

<p><img src="media/15038463059094/AquKd.gif" alt="Basic CAGradientLayer color change animation."/></p>

<h2 id="toc_2"><a href="https://stackoverflow.com/documentation/ios/1190/cagradientlayer/4229/creating-a-horizontal-cagradientlayer-with-multiple-colors">Creating a horizontal CAGradientLayer with multiple colors.</a></h2>

<pre><code>// View to hold the CAGradientLayer.
let view: UIView = UIView(frame: CGRect(x: 0, y: 0, width: 320, height: 320))

// Initialize gradient layer.
let gradientLayer: CAGradientLayer = CAGradientLayer()

// Set frame of gradient layer.
gradientLayer.frame = view.bounds

// Color at the top of the gradient.
let topColor: CGColor = UIColor.greenColor().CGColor

// Color at the middle of the gradient.
let middleColor: CGColor = UIColor.blueColor().CGColor

// Color at the bottom of the gradient.
let bottomColor: CGColor = UIColor.blackColor().CGColor

// Set colors.
gradientLayer.colors = [topColor, middleColor, bottomColor]

// Set start point.
gradientLayer.startPoint = CGPoint(x: 0.0, y: 0.5)

// Set end point.
gradientLayer.endPoint = CGPoint(x: 1.0, y: 0.5)

// Insert gradient layer into view&#39;s layer heirarchy.
view.layer.insertSublayer(gradientLayer, atIndex: 0)
</code></pre>

<p>Result :</p>

<p><img src="media/15038463059094/I4OGH.png" alt="enter image description here"/></p>

<h2 id="toc_3"><a href="https://stackoverflow.com/documentation/ios/1190/cagradientlayer/4228/creating-a-horizontal-cagradientlayer">Creating a horizontal CAGradientLayer.</a></h2>

<pre><code>// View to hold the CAGradientLayer.
let view: UIView = UIView(frame: CGRect(x: 0, y: 0, width: 320, height: 320))

// Initialize gradient layer.
let gradientLayer: CAGradientLayer = CAGradientLayer()

// Set frame of gradient layer.
gradientLayer.frame = view.bounds

// Color at the top of the gradient.
let topColor: CGColor = UIColor.redColor().CGColor

// Color at the bottom of the gradient.
let bottomColor: CGColor = UIColor.yellowColor().CGColor

// Set colors.
gradientLayer.colors = [topColor, bottomColor]

// Set start point.
gradientLayer.startPoint = CGPoint(x: 0.0, y: 0.5)

// Set end point.
gradientLayer.endPoint = CGPoint(x: 1.0, y: 0.5)

// Insert gradient layer into view&#39;s layer heirarchy.
view.layer.insertSublayer(gradientLayer, atIndex: 0)
</code></pre>

<p>Result :</p>

<p><img src="media/15038463059094/7VCnW.png" alt="Horizontal CAGradientLayer."/></p>

<h2 id="toc_4"><a href="https://stackoverflow.com/documentation/ios/1190/cagradientlayer/4227/creating-a-cggradientlayer-with-multiple-colors">Creating a CGGradientLayer with multiple colors.</a></h2>

<pre><code>// View to hold the CAGradientLayer.
let view: UIView = UIView(frame: CGRect(x: 0, y: 0, width: 320, height: 320))

// Initialize gradient layer.
let gradientLayer: CAGradientLayer = CAGradientLayer()

// Set frame of gradient layer.
gradientLayer.frame = view.bounds

// Color at the top of the gradient.
let topColor: CGColor = UIColor.blue.cgColor

// Color at the middle of the gradient.
let middleColor: CGColor = UIColor.yellow.cgColor

// Color at the bottom of the gradient.
let bottomColor: CGColor = UIColor.green.cgColor

// Set colors.
gradientLayer.colors = [topColor, middleColor, bottomColor]

// Set locations of the colors.
gradientLayer.locations = [0.0, 0.5, 1.0]

// Insert gradient layer into view&#39;s layer heirarchy.
view.layer.insertSublayer(gradientLayer, at: 0)
</code></pre>

<p>Result :</p>

<p><img src="media/15038463059094/tV4OL.png" alt="Complex CAGradientLayer."/></p>

<hr/>

<h2 id="toc_5">Syntax</h2>

<pre><code>CAGradientLayer() // Returns an initialized CALayer object.
-------------------
CAGradientLayer(layer: layer) // Override to copy or initialize custom fields of the specified layer.
</code></pre>

<h2 id="toc_6">Parameters</h2>

<table>
<thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Details</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">color</td>
<td style="text-align: left">An array ofÂ <code>CGColorRef</code>Â objects defining the color of each gradient stop. Animatable.</td>
</tr>
<tr>
<td style="text-align: left">locations</td>
<td style="text-align: left">An optional array ofÂ <code>NSNumber</code>Â objects defining the location of each gradient stop. Animatable.</td>
</tr>
<tr>
<td style="text-align: left">endPoint</td>
<td style="text-align: left">The end point of the gradient when drawn in the layerâ€™s coordinate space. Animatable.</td>
</tr>
<tr>
<td style="text-align: left">startPoint</td>
<td style="text-align: left">The start point of the gradient when drawn in the layerâ€™s coordinate space. Animatable.</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">Style of gradient drawn by the layer. Defaults toÂ <code>kCAGradientLayerAxial</code>.</td>
</tr>
</tbody>
</table>

<h2 id="toc_7">Remarks</h2>

<ul>
<li>UseÂ <code>startPoint</code>Â andÂ <code>endPoint</code>Â to change the orientation of theÂ <code>CAGradientLayer</code>.</li>
<li>Use theÂ <code>locations</code>Â to affect the spread/positions of the colors.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Custom UIViews from XIB files]]></title>
    <link href="http://www.citynight.cn/Blog/15036540820094.html"/>
    <updated>2017-08-25T17:41:22+08:00</updated>
    <id>http://www.citynight.cn/Blog/15036540820094.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0"><a href="https://stackoverflow.com/documentation/ios/1362/custom-uiviews-from-xib-files/4443/wiring-elements">Wiring elements</a></h2>

<ul>
<li><blockquote>
<p>Create a XIB file</p>
</blockquote>

<p>Xcode Menu Bar &gt; File &gt; New &gt; File.<br/>
Select iOS, User Interface and then &ldquo;View&rdquo;:</p>

<p><a href="media/15036540820094/RSkzu.png"><img src="media/15036540820094/RSkzu.png" alt="First step"/></a></p>

<p>Give your XIB a name (yes, we are doing a Pokemon example ğŸ‘¾).<br/>
<strong>Remember to check your target</strong>Â and hit &ldquo;Create&rdquo;.</p>

<p><a href="media/15036540820094/oJ1s1.png"><img src="media/15036540820094/oJ1s1.png" alt="Second step"/></a></p>

<blockquote>
<p>Design your view</p>
</blockquote>

<p>To make things easier, set:</p>

<ul>
<li>Size: Freeform</li>
<li>Status Bar: None</li>
<li>Top Bar: None</li>
<li>Bottom Bar: None</li>
</ul>

<p><a href="media/15036540820094/Gy0KD.png"><img src="media/15036540820094/Gy0KD.png" alt="Third step"/></a></p>

<p>Click on the Size Inspector and resize the view.<br/>
For this example we&rsquo;ll be using width 321 and height 256.</p>

<p><a href="media/15036540820094/PNIek.png"><img src="media/15036540820094/PNIek.png" alt="Fourth step"/></a></p>

<p>Drop some elements into your XIB file like shown below.<br/>
Here we&rsquo;ll be adding anÂ <strong>Image View</strong>Â (256x256) and aÂ <strong>Switch</strong>.</p>

<p><a href="media/15036540820094/6u3pd.png"><img src="media/15036540820094/6u3pd.png" alt="Fifth step"/></a></p>

<p>Add Auto-Layout constraints by clicking on &ldquo;Resolve Auto Layout Issues&rdquo; (bottom-right) and selecting &ldquo;Add Missing Constraints&rdquo; under &ldquo;All Views&rdquo;.</p>

<p><a href="media/15036540820094/esZhQ.png"><img src="media/15036540820094/esZhQ.png" alt="Sixth step"/></a></p>

<p>Preview the changes you made by clicking on &ldquo;Show the Assistant Editor&rdquo; (top-right), then &ldquo;Preview&rdquo;.<br/>
You can add iPhone screens by clicking on the &ldquo;Plus&rdquo; button.<br/>
The preview should look like this:</p>

<p><a href="media/15036540820094/D3rac.png"><img src="media/15036540820094/D3rac.png" alt="Seventh step"/></a></p>

<blockquote>
<p>Subclass UIView</p>
</blockquote>

<p>Create the class that is going to manage the XIB file.<br/>
Xcode Menu Bar &gt; File &gt; New &gt; File.<br/>
Select iOS / Source / Cocoa Touch Class. Hit &ldquo;Next&rdquo;.</p>

<p><a href="media/15036540820094/0EyHy.png"><img src="media/15036540820094/0EyHy.png" alt="Eighth step"/></a></p>

<p>Give the class a name, which must be the same name as the XIB file (Pokemon).<br/>
Select UIView as the subclass type, then hit &ldquo;Next&rdquo;.</p>

<p><a href="media/15036540820094/qbo3s.png"><img src="media/15036540820094/qbo3s.png" alt="Nineth step"/></a></p>

<p>On the next window, select your target and hit &ldquo;Create&rdquo;.</p>

<p><a href="media/15036540820094/Ks9Tu.png"><img src="media/15036540820094/Ks9Tu.png" alt="Tenth step"/></a></p>

<blockquote>
<p>Connect Pokemon.xib to Pokemon.swift via &ldquo;Fileâ€™s Owner&rdquo; attribute</p>
</blockquote>

<p>Click on the Pokemon.xib file in Xcode.<br/>
Click on the &ldquo;File&rsquo;s Owner&rdquo; outlet.<br/>
On the &ldquo;Identity inspector&rdquo; (top-right), set the Class to our recently created Pokemon.swift file.</p>

<p><a href="media/15036540820094/4YT3i.png"><img src="media/15036540820094/4YT3i.png" alt="Eleventh step"/></a></p>

<blockquote>
<p>POKEMONS!!!</p>
</blockquote>

<p>Yes! Drag and drop some Pokemons into your project to finish up our &ldquo;infrastructure&rdquo;.<br/>
Here we are adding two PGN files, 256x256, transparent.</p>

<p><a href="media/15036540820094/ibqxZ.png"><img src="media/15036540820094/ibqxZ.png" alt="Twelfth step"/></a></p>

<blockquote>
<p>Show me code already.</p>
</blockquote>

<p>All right, all right.<br/>
Time to add some code to our Pokemon.swift class.</p>

<p>It&rsquo;s actually pretty simple:</p>

<ol>
<li>Implement required initializers</li>
<li>Load the XIB file</li>
<li>Configure the view that will display the XIB file</li>
<li>Show the above view</li>
</ol>

<p>Add the following code to the Pokemon.swift class:</p>

<pre><code>import UIKit

class Pokemon: UIView {

    // MARK: - Initializers

    override init(frame: CGRect) {
        super.init(frame: frame)
        setupView()
    }

    required init?(coder aDecoder: NSCoder) {
        super.init(coder: aDecoder)
        setupView()
    }

    // MARK: - Private Helper Methods

    // Performs the initial setup.
    private func setupView() {
        let view = viewFromNibForClass()
        view.frame = bounds

        // Auto-layout stuff.
        view.autoresizingMask = [
            UIViewAutoresizing.flexibleWidth,
            UIViewAutoresizing.flexibleHeight
        ]

        // Show the view.
        addSubview(view)
    }

    // Loads a XIB file into a view and returns this view.
    private func viewFromNibForClass() -&gt; UIView {

        let bundle = Bundle(for: type(of: self))
        let nib = UINib(nibName: String(describing: type(of: self)), bundle: bundle)
        let view = nib.instantiate(withOwner: self, options: nil).first as! UIView

        /* Usage for swift &lt; 3.x
        let bundle = NSBundle(forClass: self.dynamicType)
        let nib = UINib(nibName: String(self.dynamicType), bundle: bundle)
        let view = nib.instantiateWithOwner(self, options: nil)[0] as! UIView
        */

        return view
    }
}

</code></pre>

<blockquote>
<p>@IBDesignable and @IBInspectable</p>
</blockquote>

<p>By addingÂ <code>@IBDesignable</code>Â to your class, you make possible for it to live-render in Interface Builder.<br/>
By addingÂ <code>@IBInspectable</code>Â to the properties of your class, you can see your custom views changing in Interface Builder as soon as you modify those properties.</p>

<p>Let&rsquo;s make theÂ <code>Image View</code>Â of our custom view &ldquo;Inspectable&rdquo;.</p>

<p>First, hook up theÂ <code>Image View</code>Â from the Pokemon.xib file to the Pokemon.swift class.</p>

<p><a href="media/15036540820094/Dxyv2.png"><img src="media/15036540820094/Dxyv2.png" alt="Thirteenth step"/></a></p>

<p>Call the outletÂ <code>imageView</code>Â and then add the following code (notice theÂ <code>@IBDesignable</code>Â before the class name):</p>

<pre><code>@IBDesignable class Pokemon: UIView {

    // MARK: - Properties

    @IBOutlet weak var imageView: UIImageView!

    @IBInspectable var image: UIImage? {
        get {
            return imageView.image
        }
        set(image) {
            imageView.image = image
        }
    }

    // MARK: - Initializers
    ...

</code></pre>

<blockquote>
<p>Using your Custom Views</p>
</blockquote>

<p>Got to your Main storyboard file, drag a UIView into it.<br/>
Resize the view to, say 200x200. Centralize.<br/>
Go to the Identity inspector (top-right) and set the Class to Pokemon.</p>

<p><a href="media/15036540820094/Iah3Y.png"><img src="media/15036540820094/Iah3Y.png" alt="Fourteenth steps"/></a></p>

<p>To select a Pokemon, go to the Attribute Inspector (top-right) and select one of the Pokemon images you previously added using the awesomeÂ <code>@IBInspectable</code>Â image property.</p>

<p><a href="media/15036540820094/727mm.png"><img src="media/15036540820094/727mm.png" alt="Fifteenth step"/></a></p>

<p>Now duplicate your custom Pokemon view.<br/>
Give it a different size, say 150x150.<br/>
Choose another Pokemon image, observe:</p>

<p><a href="media/15036540820094/xrTXw.png"><img src="media/15036540820094/xrTXw.png" alt="Sixteenth step"/></a></p>

<p>Now we are going to add more logic to that self-containing custom UI element.<br/>
The button will allow Pokemons to be enabled/disabled.</p>

<p>Create anÂ <code>IBAction</code>Â from the Switch button to the Pokemon.swift class.<br/>
Call the action something likeÂ <code>switchTapped</code>.<br/>
Add the following code to it:</p>

<pre><code>// MARK: - Actions

@IBAction func switchTapped(sender: UISwitch) {
    imageView.alpha = sender.on ? 1.0 : 0.2
}

// MARK: - Initializers
...

</code></pre>

<p>Final result:</p>

<p><a href="media/15036540820094/DQJvO.gif"><img src="media/15036540820094/DQJvO.gif" alt="Final"/></a></p>

<p>You are done!<br/>
Now you can create complex custom views and reuse them anywhere you want.<br/>
This will increase productivity while isolating code into self-contained UI elements.</p>

<p><a href="https://github.com/singledev/custom-uiviews-from-xib">The final project can be cloned in Github.</a><br/>
(<strong>Updated to Swift 3.1</strong>)</p></li>
</ul>

<h2 id="toc_1"><a href="https://stackoverflow.com/documentation/ios/1362/custom-uiviews-from-xib-files/11599/how-to-make-custom-reusable-uiview-using-xib">How to make custom reusable UIView using XIB</a></h2>

<p>Following example shows steps involved in initializing a view from XIB.</p>

<p>This is not a complex operation but exact steps need to be followed in order to do it right way first time, avoiding exceptions.</p>

<p><a href="http://stackoverflow.com/questions/20323393/how-does-loadnibnamed-work-uiview-outlets-not-initializing-using-loadnibnamed">How does loadNibNamed Works</a></p>

<p>Main steps are:</p>

<ol>
<li>Create XIB</li>
<li>Create class .h and .m</li>
<li>Define outlets in .h</li>
<li><p>Connect outlets between .h and XIB</p>

<p>See attached screenshot:</p>

<p><a href="media/15036540820094/rSBw6.png"><img src="media/15036540820094/rSBw6.png" alt="Label Object connected to myLabel IBOutlet UILabel variable"/></a></p></li>
<li><p>Invoke loadNibNamed inside initWithCoder function of .m file. This is needed to ensure you can directly place UIView object into storyboard / Parent UIView XIB file and define it as your custom view. No other initialization code is needed once you load the storyboard / parent XIB. Your custom view can be added to other views just like other built-in Objective C view objects given in XCode.</p></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[UIBezierPath]]></title>
    <link href="http://www.citynight.cn/Blog/15036524793322.html"/>
    <updated>2017-08-25T17:14:39+08:00</updated>
    <id>http://www.citynight.cn/Blog/15036524793322.html</id>
    <content type="html"><![CDATA[
<blockquote>
<p>ç”±äºStack Overflowä¸­Documentationå°†è¦å…³é—­,æ‰€ä»¥æˆ‘å°†éƒ¨åˆ†å†…å®¹è½¬è½½è‡³è¿™é‡Œ</p>
</blockquote>

<h2 id="toc_0"><a href="https://stackoverflow.com/documentation/ios/3186/uibezierpath/13624/designing-and-drawing-a-bezier-path">Designing and drawing a Bezier Path</a></h2>

<p>This example shows the process from designing the shape you want to drawing it on a view. A specific shap is used but the concepts you learn can be applied to any shape.</p>

<h3 id="toc_1">How to draw aÂ <a href="https://developer.apple.com/library/ios/documentation/2DDrawing/Conceptual/DrawingPrintingiOS/BezierPaths/BezierPaths.html">BÃ©zier path</a>Â in a custom view</h3>

<p>These are the main steps:</p>

<ol>
<li>Design the outline of the shape you want.</li>
<li>Divide the outline path into segments of lines, arcs, and curves.</li>
<li>Build that path programmatically.</li>
<li>Draw the path either inÂ <code>drawRect</code>Â or using aÂ <code>CAShapeLayer</code>.</li>
</ol>

<h3 id="toc_2">Design shape outline</h3>

<p>You could do anything, but as an example I have chosen the shape below. It could be a popup key on a keyboard.</p>

<p><a href="media/15036524793322/geckR.png"><img src="media/15036524793322/geckR.png" alt="enter image description here"/></a></p>

<h3 id="toc_3">Divide the path into segments</h3>

<p>Look back at your shape design and break it down into simpler elements of lines (for straight lines), arcs (for circles and round corners), and curves (for anything else).</p>

<p>Here is what our example design would look like:</p>

<p><a href="media/15036524793322/4mkcI.png"><img src="media/15036524793322/4mkcI.png" alt="enter image description here"/></a></p>

<ul>
<li>Black are line segments</li>
<li>Light blue are arc segments</li>
<li>Red are curves</li>
<li>Orange dots are the control points for the curves</li>
<li>Green dots are the points between path segments</li>
<li>Dotted lines show the bounding rectangle</li>
<li>Dark blue numbers are the segments in the order that they will be added programmatically</li>
</ul>

<h3 id="toc_4">Build the path programmatically</h3>

<p>We&rsquo;ll arbitrarily start in the bottom left corner and work clockwise. I&rsquo;ll use the grid in the image to get the x and y values for the points. I&rsquo;ll hardcode everything here, but of course you wouldn&rsquo;t do that in a real project.</p>

<p>The basic process is:</p>

<ol>
<li>Create a newÂ <code>UIBezierPath</code></li>
<li>Choose a starting point on the path withÂ <code>moveToPoint</code></li>
<li><p>Add segments to the path</p></li>
</ol>

<ul>
<li>line:Â <code>addLineToPoint</code></li>
<li>arc:Â <code>addArcWithCenter</code></li>
<li><p>curve:Â <code>addCurveToPoint</code></p></li>
</ul>

<ol>
<li>Close the path withÂ <code>closePath</code></li>
</ol>

<p>Here is the code to make the path in the image above.</p>

<pre><code>func createBezierPath() -&gt; UIBezierPath {

    // create a new path
    let path = UIBezierPath()

    // starting point for the path (bottom left)
    path.moveToPoint(CGPoint(x: 2, y: 26))

    // *********************
    // ***** Left side *****
    // *********************

    // segment 1: line
    path.addLineToPoint(CGPoint(x: 2, y: 15))

    // segment 2: curve
    path.addCurveToPoint(CGPoint(x: 0, y: 12), // ending point
        controlPoint1: CGPoint(x: 2, y: 14),
        controlPoint2: CGPoint(x: 0, y: 14))

    // segment 3: line
    path.addLineToPoint(CGPoint(x: 0, y: 2))

    // *********************
    // ****** Top side *****
    // *********************

    // segment 4: arc
    path.addArcWithCenter(CGPoint(x: 2, y: 2), // center point of circle
        radius: 2, // this will make it meet our path line
        startAngle: CGFloat(M_PI), // Ï€ radians = 180 degrees = straight left
        endAngle: CGFloat(3*M_PI_2), // 3Ï€/2 radians = 270 degrees = straight up
        clockwise: true) // startAngle to endAngle goes in a clockwise direction

    // segment 5: line
    path.addLineToPoint(CGPoint(x: 8, y: 0))

    // segment 6: arc
    path.addArcWithCenter(CGPoint(x: 8, y: 2),
        radius: 2,
        startAngle: CGFloat(3*M_PI_2), // straight up
        endAngle: CGFloat(0), // 0 radians = straight right
        clockwise: true)

    // *********************
    // ***** Right side ****
    // *********************

    // segment 7: line
    path.addLineToPoint(CGPoint(x: 10, y: 12))

    // segment 8: curve
    path.addCurveToPoint(CGPoint(x: 8, y: 15), // ending point
        controlPoint1: CGPoint(x: 10, y: 14),
        controlPoint2: CGPoint(x: 8, y: 14))

    // segment 9: line
    path.addLineToPoint(CGPoint(x: 8, y: 26))

    // *********************
    // **** Bottom side ****
    // *********************

    // segment 10: line
    path.closePath() // draws the final line to close the path

    return path
}
</code></pre>

<p>Note: Some of the above code can be reduced by adding a line and an arc in a single command (since the arc has an implied starting point). SeeÂ <a href="http://ronnqvi.st/thinking-like-a-bzier-path/">here</a>Â for more details.</p>

<h3 id="toc_5">Draw the path</h3>

<p>We can draw the path either in a layer or inÂ <code>drawRect</code>.</p>

<p><strong>Method 1: Draw path in a layer</strong></p>

<p>Our custom class looks like this. We add our Bezier path to a newÂ <code>CAShapeLayer</code>Â when the view is initialized.</p>

<pre><code>import UIKit
class MyCustomView: UIView {

    override init(frame: CGRect) {
        super.init(frame: frame)
        setup()
    }

    required init?(coder aDecoder: NSCoder) {
        super.init(coder: aDecoder)
        setup()
    }

    func setup() {

        // Create a CAShapeLayer
        let shapeLayer = CAShapeLayer()

        // The Bezier path that we made needs to be converted to 
        // a CGPath before it can be used on a layer.
        shapeLayer.path = createBezierPath().CGPath

        // apply other properties related to the path
        shapeLayer.strokeColor = UIColor.blueColor().CGColor
        shapeLayer.fillColor = UIColor.whiteColor().CGColor
        shapeLayer.lineWidth = 1.0
        shapeLayer.position = CGPoint(x: 10, y: 10)

        // add the new layer to our custom view
        self.layer.addSublayer(shapeLayer)
    }

    func createBezierPath() -&gt; UIBezierPath {

        // see previous code for creating the Bezier path
    }
}
</code></pre>

<p>And creating our view in the View Controller like this</p>

<pre><code>override func viewDidLoad() {
    super.viewDidLoad()

    // create a new UIView and add it to the view controller
    let myView = MyCustomView()
    myView.frame = CGRect(x: 100, y: 100, width: 50, height: 50)
    myView.backgroundColor = UIColor.yellowColor()
    view.addSubview(myView)

}
</code></pre>

<p>We get&hellip;</p>

<p><a href="media/15036524793322/oELys.png"><img src="media/15036524793322/oELys.png" alt="enter image description here"/></a></p>

<p>Hmm, that&rsquo;s a little small because I hardcoded all the numbers in. I can scale the path size up, though, like this:</p>

<pre><code>let path = createBezierPath()
let scale = CGAffineTransformMakeScale(2, 2)
path.applyTransform(scale)
shapeLayer.path = path.CGPath
</code></pre>

<p><a href="media/15036524793322/LXvPc.png"><img src="media/15036524793322/LXvPc.png" alt="enter image description here"/></a></p>

<p><strong>Method 2: Draw path inÂ <code>drawRect</code></strong></p>

<p>UsingÂ <code>drawRect</code>Â is slower than drawing to the layer, so this is not the recommended method if you don&rsquo;t need it.</p>

<p>Here is the revised code for our custom view:</p>

<pre><code>import UIKit
class MyCustomView: UIView {

    override func drawRect(rect: CGRect) {

        // create path (see previous code)
        let path = createBezierPath()

        // fill
        let fillColor = UIColor.whiteColor()
        fillColor.setFill()

        // stroke
        path.lineWidth = 1.0
        let strokeColor = UIColor.blueColor()
        strokeColor.setStroke()

        // Move the path to a new location
        path.applyTransform(CGAffineTransformMakeTranslation(10, 10))

        // fill and stroke the path (always do these last)
        path.fill()
        path.stroke()

    }

    func createBezierPath() -&gt; UIBezierPath {

        // see previous code for creating the Bezier path
    }
}
</code></pre>

<p>which gives us the same result&hellip;</p>

<p><a href="media/15036524793322/2hqMa.png"><img src="media/15036524793322/2hqMa.png" alt="enter image description here"/></a></p>

<h3 id="toc_6">Further study</h3>

<p>Excellent articles for understanding Bezier paths.</p>

<ul>
<li><a href="http://ronnqvi.st/thinking-like-a-bzier-path/">Thinking like a BÃ©zier path</a>Â (Everything I&rsquo;ve ever read from this author is good and the inspiration for my example above came from here.)</li>
<li><a href="https://www.youtube.com/watch?v=dXECQRlmIaE">Coding Math: Episode 19 - Bezier Curves</a>Â (entertaining and good visual illustrations)</li>
<li><a href="https://www.youtube.com/watch?v=Qu-QK3uoMdY">Bezier Curves</a>Â (how they are used in graphics applications)</li>
<li><a href="https://www.youtube.com/watch?v=2HvH9cmHbG4">Bezier Curves</a>Â (good description of how the mathematical formulas are derived)</li>
</ul>

<h3 id="toc_7">Notes</h3>

<ul>
<li>This example originally comes fromÂ <a href="http://stackoverflow.com/a/34659468/3681880">this Stack Overflow answer</a>.</li>
<li>In your actual projects you probably shouldn&rsquo;t use hard coded numbers, but rather get the sizes from your view&rsquo;s bounds.</li>
</ul>

<hr/>

<h2 id="toc_8"><a href="https://stackoverflow.com/documentation/ios/3186/uibezierpath/10890/how-to-apply-corner-radius-to-rectangles-drawn-by-uibezierpath">How to apply corner radius to rectangles drawn by UIBezierPath</a></h2>

<p><em>Corner radius for all 4 edges:</em></p>

<p><a href="media/15036524793322/O8qTg.png"><img src="media/15036524793322/O8qTg.png" alt="enter image description here"/></a></p>

<pre><code> UIBezierPath* rectanglePath = [UIBezierPath bezierPathWithRoundedRect: CGRectMake(x,y,width,height) cornerRadius: 11];
[UIColor.grayColor setFill];
[rectanglePath fill];
</code></pre>

<p><em>Corner radius for top-left edge:</em></p>

<p><a href="media/15036524793322/OEOJa.png"><img src="media/15036524793322/OEOJa.png" alt="enter image description here"/></a></p>

<pre><code> UIBezierPath* rectanglePath = [UIBezierPath bezierPathWithRoundedRect: CGRectMake(x,y,width,height) byRoundingCorners: UIRectCornerTopLeft cornerRadii: CGSizeMake(11, 11)];
[rectanglePath closePath];
[UIColor.grayColor setFill];
[rectanglePath fill];
</code></pre>

<p><em>Corner radius for top-right edge:</em></p>

<p><a href="media/15036524793322/1xhp8.png"><img src="media/15036524793322/1xhp8.png" alt="enter image description here"/></a></p>

<pre><code>UIBezierPath* rectanglePath = [UIBezierPath bezierPathWithRoundedRect: CGRectMake(x,y,width,height) byRoundingCorners: UIRectCornerTopRight cornerRadii: CGSizeMake(11, 11)];
[rectanglePath closePath];
[UIColor.grayColor setFill];
[rectanglePath fill];
</code></pre>

<p><em>corner radius for bottom-left edge:</em></p>

<p><a href="media/15036524793322/yqd87.png"><img src="media/15036524793322/yqd87.png" alt="enter image description here"/></a></p>

<pre><code>UIBezierPath* rectanglePath = [UIBezierPath bezierPathWithRoundedRect: CGRectMake(x,y,width,height) byRoundingCorners: UIRectCornerBottomLeft cornerRadii: CGSizeMake(11, 11)];
[rectanglePath closePath];
[UIColor.grayColor setFill];
[rectanglePath fill];
</code></pre>

<p><em>corner radius for bottom-right edge:</em></p>

<p><a href="media/15036524793322/AIgP0.png"><img src="media/15036524793322/AIgP0.png" alt="enter image description here"/></a></p>

<pre><code> UIBezierPath* rectanglePath = [UIBezierPath bezierPathWithRoundedRect: CGRectMake(x,y,width,height) byRoundingCorners: UIRectCornerBottomRight cornerRadii: CGSizeMake(11, 11)];
[rectanglePath closePath];
[UIColor.grayColor setFill];
[rectanglePath fill];
</code></pre>

<p><em>corner radius for bottom edges:</em></p>

<p><a href="media/15036524793322/4BrrS.png"><img src="media/15036524793322/4BrrS.png" alt="enter image description here"/></a></p>

<pre><code>UIBezierPath* rectanglePath = [UIBezierPath bezierPathWithRoundedRect: CGRectMake(x,y,width,height) byRoundingCorners: UIRectCornerBottomLeft | UIRectCornerBottomRight cornerRadii: CGSizeMake(11, 11)];
[rectanglePath closePath];
[UIColor.grayColor setFill];
[rectanglePath fill];
</code></pre>

<p><em>corner radius for top edges:</em></p>

<p><a href="media/15036524793322/lecWo.png"><img src="media/15036524793322/lecWo.png" alt="enter image description here"/></a></p>

<pre><code>UIBezierPath* rectanglePath = [UIBezierPath bezierPathWithRoundedRect: CGRectMake(x,y,width,height) byRoundingCorners: UIRectCornerTopLeft | UIRectCornerTopRight cornerRadii: CGSizeMake(11, 11)];
[rectanglePath closePath];
[UIColor.grayColor setFill];
[rectanglePath fill];
</code></pre>

<hr/>

<h2 id="toc_9"><a href="https://stackoverflow.com/documentation/ios/3186/uibezierpath/10893/how-to-apply-shadows-to-uibezierpath">How to apply shadows to UIBezierPath</a></h2>

<p>Consider a simple rectangle that is drawn by the bezier path.</p>

<p><a href="media/15036524793322/imDTW.png"><img src="media/15036524793322/imDTW.png" alt="enter image description here"/></a></p>

<pre><code> UIBezierPath* rectanglePath = [UIBezierPath bezierPathWithRect: CGRectMake(x,y,width,height)];
 [UIColor.grayColor setFill];
 [rectanglePath fill];
</code></pre>

<p><em>Basic Outer-fill shadow:</em></p>

<p><a href="media/15036524793322/mqiIV.png"><img src="media/15036524793322/mqiIV.png" alt="enter image description here"/></a></p>

<pre><code>CGContextRef context = UIGraphicsGetCurrentContext();

NSShadow* shadow = [[NSShadow alloc] init];
[shadow setShadowColor: UIColor.blackColor];
[shadow setShadowOffset: CGSizeMake(7.1, 5.1)];
[shadow setShadowBlurRadius: 5];

UIBezierPath* rectanglePath = [UIBezierPath bezierPathWithRect: CGRectMake(x,y,width,height)];
CGContextSaveGState(context);
CGContextSetShadowWithColor(context, shadow.shadowOffset, shadow.shadowBlurRadius, [shadow.shadowColor CGColor]);
[UIColor.grayColor setFill];
[rectanglePath fill];
CGContextRestoreGState(context);
</code></pre>

<p><em>Basic Inner fill shadow:</em></p>

<p><a href="media/15036524793322/C1rZk.png"><img src="media/15036524793322/C1rZk.png" alt="enter image description here"/></a></p>

<pre><code>CGContextRef context = UIGraphicsGetCurrentContext();

NSShadow* shadow = [[NSShadow alloc] init];
[shadow setShadowColor: UIColor.blackColor];
[shadow setShadowOffset: CGSizeMake(9.1, -7.1)];
[shadow setShadowBlurRadius: 6];

UIBezierPath* rectanglePath = [UIBezierPath bezierPathWithRect: CGRectMake(x,y,width,height)];
[UIColor.grayColor setFill];
[rectanglePath fill];

CGContextSaveGState(context);
UIRectClip(rectanglePath.bounds);
CGContextSetShadowWithColor(context, CGSizeZero, 0, NULL);

CGContextSetAlpha(context, CGColorGetAlpha([shadow.shadowColor CGColor]));
CGContextBeginTransparencyLayer(context, NULL);
{
    UIColor* opaqueShadow = [shadow.shadowColor colorWithAlphaComponent: 1];
    CGContextSetShadowWithColor(context, shadow.shadowOffset, shadow.shadowBlurRadius, [opaqueShadow CGColor]);
    CGContextSetBlendMode(context, kCGBlendModeSourceOut);
    CGContextBeginTransparencyLayer(context, NULL);

    [opaqueShadow setFill];
    [rectanglePath fill];

    CGContextEndTransparencyLayer(context);
}
CGContextEndTransparencyLayer(context);
CGContextRestoreGState(context);
</code></pre>

<h2 id="toc_10"><a href="https://stackoverflow.com/documentation/ios/3186/uibezierpath/10891/how-to-create-a-simple-shapes-using-uibezierpath">How to create a simple shapes using UIBezierPath</a></h2>

<p><em>For a simple circle:</em></p>

<p><a href="media/15036524793322/ymoay.png"><img src="media/15036524793322/ymoay.png" alt="enter image description here"/></a></p>

<pre><code>UIBezierPath* ovalPath = [UIBezierPath bezierPathWithOvalInRect: CGRectMake(0,0,50,50)];
[UIColor.grayColor setFill];
[ovalPath fill];
</code></pre>

<p>Swift:</p>

<pre><code>let ovalPath = UIBezierPath(ovalInRect: CGRect(x: 0, y: 0, width: 50, height: 50))
UIColor.grayColor().setFill()
ovalPath.fill()
</code></pre>

<p><em>For a simple Rectangle:</em></p>

<p><a href="media/15036524793322/C1GFH.png"><img src="media/15036524793322/C1GFH.png" alt="enter image description here"/></a></p>

<pre><code>UIBezierPath* rectanglePath = [UIBezierPath bezierPathWithRect: CGRectMake(0,0,50,50)];
[UIColor.grayColor setFill];
[rectanglePath fill];
</code></pre>

<p>Swift:</p>

<pre><code>let rectanglePath = UIBezierPath(rect: CGRect(x: 0, y: 0, width: 50, height: 50))
UIColor.grayColor().setFill()
rectanglePath.fill()
</code></pre>

<p><em>For a simple Line:</em></p>

<p><a href="media/15036524793322/KIAOK.png"><img src="media/15036524793322/KIAOK.png" alt="enter image description here"/></a></p>

<pre><code>UIBezierPath* bezierPath = [UIBezierPath bezierPath];
[bezierPath moveToPoint: CGPointMake(x1,y1)];
[bezierPath addLineToPoint: CGPointMake(x2,y2)];
[UIColor.blackColor setStroke];
bezierPath.lineWidth = 1;
[bezierPath stroke];
</code></pre>

<p>Swift:</p>

<pre><code>let bezierPath = UIBezierPath()
bezierPath.moveToPoint(CGPoint(x: x1, y: y1))
bezierPath.addLineToPoint(CGPoint(x: x2, y: y2))
UIColor.blackColor().setStroke()
bezierPath.lineWidth = 1
bezierPath.stroke()
</code></pre>

<p><em>For a half circle:</em></p>

<p><a href="media/15036524793322/3Nywj.png"><img src="media/15036524793322/3Nywj.png" alt="enter image description here"/></a></p>

<pre><code> CGRect ovalRect = CGRectMake(x,y,width,height);
UIBezierPath* ovalPath = [UIBezierPath bezierPath];
[ovalPath addArcWithCenter: CGPointMake(0, 0) radius: CGRectGetWidth(ovalRect) / 2 startAngle: 180 * M_PI/180 endAngle: 0 * M_PI/180 clockwise: YES];
[ovalPath addLineToPoint: CGPointMake(0, 0)];
[ovalPath closePath];

CGAffineTransform ovalTransform = CGAffineTransformMakeTranslation(CGRectGetMidX(ovalRect), CGRectGetMidY(ovalRect));
ovalTransform = CGAffineTransformScale(ovalTransform, 1, CGRectGetHeight(ovalRect) / CGRectGetWidth(ovalRect));
[ovalPath applyTransform: ovalTransform];

[UIColor.grayColor setFill];
[ovalPath fill];
</code></pre>

<p>Swift:</p>

<pre><code>let ovalRect = CGRect(x: 0, y: 0, width: 50, height: 50)
let ovalPath = UIBezierPath()
ovalPath.addArcWithCenter(CGPoint.zero, radius: ovalRect.width / 2, startAngle: 180 * CGFloat(M_PI)/180, endAngle: 0 * CGFloat(M_PI)/180, clockwise: true)
ovalPath.addLineToPoint(CGPoint.zero)
ovalPath.closePath()

var ovalTransform = CGAffineTransformMakeTranslation(CGRectGetMidX(ovalRect), CGRectGetMidY(ovalRect))
ovalTransform = CGAffineTransformScale(ovalTransform, 1, ovalRect.height / ovalRect.width)
ovalPath.applyTransform(ovalTransform)

UIColor.grayColor().setFill()
ovalPath.fill()
</code></pre>

<p><em>For a simple triangle:</em></p>

<p><a href="media/15036524793322/5r6IE.png"><img src="media/15036524793322/5r6IE.png" alt="enter image description here"/></a></p>

<pre><code>UIBezierPath* polygonPath = [UIBezierPath bezierPath];
[polygonPath moveToPoint: CGPointMake(x1, y1)];
[polygonPath addLineToPoint: CGPointMake(x2, y2)];
[polygonPath addLineToPoint: CGPointMake(x3, y2)];
[polygonPath closePath];
[UIColor.grayColor setFill];
[polygonPath fill];
</code></pre>

<p>Swift:</p>

<pre><code>let polygonPath = UIBezierPath()
polygonPath.moveToPoint(CGPoint(x: x1, y: y1))
polygonPath.addLineToPoint(CGPoint(x: x2, y: y2))
polygonPath.addLineToPoint(CGPoint(x: x3, y: y3))
polygonPath.closePath()
UIColor.grayColor().setFill()
polygonPath.fill()
</code></pre>

<hr/>

<h2 id="toc_11"><a href="https://stackoverflow.com/documentation/ios/3186/uibezierpath/18109/pie-view-column-view-with-uibezierpath">pie view &amp; column view with UIBezierPath</a></h2>

<ul>
<li>pie view
<img src="media/15036524793322/oh0DL.png" alt="pie view"/></li>
</ul>

<pre><code>- (void)drawRect:(CGRect)rect {

    NSArray *data = @[@30, @15, @5, @17, @3, @10, @20];

    // 1\. context
    CGContextRef cxtRef = UIGraphicsGetCurrentContext();

    CGPoint center = CGPointMake(150, 150);
    CGFloat radius = 150;
    __block CGFloat startAngle = 0;
    [data enumerateObjectsUsingBlock:^(NSNumber * _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {

        // 2\. create path
        CGFloat endAngle = obj.floatValue / 100 * M_PI * 2 + startAngle;
        UIBezierPath *circlePath = [UIBezierPath bezierPathWithArcCenter:center radius:radius startAngle:startAngle endAngle:endAngle clockwise:YES];
        [circlePath addLineToPoint:center];

        // 3\. add path
        CGContextAddPath(cxtRef, circlePath.CGPath);

        // set color
        [[UIColor colorWithRed:((float)arc4random_uniform(256) / 255.0) green:((float)arc4random_uniform(256) / 255.0) blue:((float)arc4random_uniform(256) / 255.0) alpha:1.0] setFill];

        // 4\. render
        CGContextDrawPath(cxtRef, kCGPathFill);

        // reset angle
        startAngle = endAngle;
    }];
}


override func draw(_ rect: CGRect) {
    // define data to create pie chart
    let data: [Int] = [30, 15, 5, 17, 3, 10, 20]

    // 1\. find center of draw rect
    let center: CGPoint = CGPoint(x: rect.midX, y: rect.midY)

    // 2\. calculate radius of pie
    let radius = min(rect.width, rect.height) / 2.0

    var startAngle: CGFloat = 0.0
    for value in data {

      // 3\. calculate end angle for slice
      let endAngle = CGFloat(value) / 100.0 * CGFloat.pi * 2.0 + startAngle

      // 4\. create UIBezierPath for slide
      let circlePath = UIBezierPath(arcCenter: center, radius: radius, startAngle: startAngle, endAngle: endAngle, clockwise: true)

      // 5\. add line to center to close path
      circlePath.addLine(to: center)

      // 6\. set fill color for current slice
      UIColor(red: (CGFloat(arc4random_uniform(256)) / 255.0), green: (CGFloat(arc4random_uniform(256)) / 255.0), blue: (CGFloat(arc4random_uniform(256)) / 255.0), alpha: 1.0).setFill()

      // 7\. fill slice path
      circlePath.fill()

      // 8\. set end angle as start angle for next slice
      startAngle = endAngle
    }
  }
</code></pre>

<ul>
<li>column view
<img src="media/15036524793322/ayD5Y.png" alt="column view"/></li>
</ul>

<pre><code>- (void)drawRect:(CGRect)rect {

    NSArray *data = @[@300, @150.65, @55.3, @507.7, @95.8, @700, @650.65];

    // 1.
    CGContextRef cxtRef = UIGraphicsGetCurrentContext();

    NSInteger columnCount = 7;
    CGFloat width = self.bounds.size.width / (columnCount + columnCount - 1);
    for (NSInteger i = 0; i 

override func draw(_ rect: CGRect) {
    // define data for chart
    let data: [CGFloat] = [300, 150.65, 55.3, 507.7, 95.8, 700, 650.65]

    // 1\. calculate number of columns
    let columnCount = data.count

    // 2\. calculate column width
    let columnWidth = rect.width / CGFloat(columnCount + columnCount - 1)

    for (columnIndex, value) in data.enumerated() {
      // 3\. calculate column height
      let columnHeight = value / 1000.0 * rect.height

      // 4\. calculate column origin
      let columnOrigin = CGPoint(x: (columnWidth * 2.0 * CGFloat(columnIndex)), y: (rect.height - columnHeight))

      // 5\. create path for column
      let columnPath = UIBezierPath(rect: CGRect(origin: columnOrigin, size: CGSize(width: columnWidth, height: columnHeight)))

      // 6\. set fill color for current column
      UIColor(red: (CGFloat(arc4random_uniform(256)) / 255.0), green: (CGFloat(arc4random_uniform(256)) / 255.0), blue: (CGFloat(arc4random_uniform(256)) / 255.0), alpha: 1.0).setFill()

      // 7\. fill column path
      columnPath.fill()
    }
  }
</code></pre>

<hr/>

<h2 id="toc_12"><a href="https://stackoverflow.com/documentation/ios/3186/uibezierpath/10892/uibezierpath-autolayout">UIBezierPath + AutoLayout</a></h2>

<p>For bezier path to get resized based on the view frame, override the drawRect of view that you are drawing the bezier path :</p>

<pre><code>- (void)drawRect:(CGRect)frame
{
    UIBezierPath* rectanglePath = [UIBezierPath bezierPathWithRect: CGRectMake(CGRectGetMinX(frame), CGRectGetMinY(frame), CGRectGetWidth(frame), CGRectGetHeight(frame))];
    [UIColor.grayColor setFill];
    [rectanglePath fill];
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[GCD(Grand Central Dispatch)]]></title>
    <link href="http://www.citynight.cn/Blog/15035627499170.html"/>
    <updated>2017-08-24T16:19:09+08:00</updated>
    <id>http://www.citynight.cn/Blog/15035627499170.html</id>
    <content type="html"><![CDATA[
<blockquote>
<p>ç”±äºStack Overflowä¸­Documentationå°†è¦å…³é—­,æ‰€ä»¥æˆ‘å°†éƒ¨åˆ†å†…å®¹è½¬è½½è‡³è¿™é‡Œ</p>
</blockquote>

<p>Grand Central Dispatch (GCD) is Apple&rsquo;s answer to multithreading. It is a lightweight framework for performing tasks synchronously or asynchronously in queues and handles CPU threads for you behind the scenes.</p>

<h2 id="toc_0">Dispatch Semaphore</h2>

<p><a href="https://stackoverflow.com/documentation/ios/4626/gcd-grand-central-dispatch/28284/dispatch-semaphore">Stack Overflowåœ°å€</a></p>

<blockquote>
<p>DispatchSemaphore provides an efficient implementation of a traditional counting semaphore, which can be used to control access to a resource across multiple execution contexts.</p>
</blockquote>

<p>A scenario for when to use a semaphore could be if you are doing some file reading/writing, if multiple tasks are trying to read and write from file at the same time, it could increase your performance to make each task wait its turn so as to not overburden the I/O controller.</p>

<pre><code>func do2TasksAtATime () {
    print(&quot;starting long running tasks (2 at a time)&quot;)
    let sem = DispatchSemaphore(value: 2)            //this semaphore only allows 2 tasks to run at the same time (the resource count)
    for i in 0...7 {                                 //launch a bunch of tasks
        DispatchQueue.global().async {               //run tasks on a background thread
            sem.wait()                               //wait here if no resources available
            sleep(2)                                 //do some long task eg file access (here we are just sleeping for a 2 seconds for demonstration purposes)
            print(&quot;long task \(i) done! \(Date())&quot;)
            sem.signal()                             //let the semaphore know this resource is now available
        }
    }
}
</code></pre>

<p>Example output: (notice the time stamps)</p>

<pre><code>starting long running tasks (2 at a time)
long task 0 done! 2017-02-16 07:11:53 +0000
long task 1 done! 2017-02-16 07:11:53 +0000
long task 2 done! 2017-02-16 07:11:55 +0000
long task 3 done! 2017-02-16 07:11:55 +0000
long task 5 done! 2017-02-16 07:11:57 +0000
long task 4 done! 2017-02-16 07:11:57 +0000
long task 6 done! 2017-02-16 07:11:59 +0000
long task 7 done! 2017-02-16 07:11:59 +0000
</code></pre>

<h2 id="toc_1">Dispatch Group</h2>

<p><a href="https://stackoverflow.com/documentation/ios/4626/gcd-grand-central-dispatch/28278/dispatch-group">Stack Overflowåœ°å€</a></p>

<blockquote>
<p>DispatchGroup allows for aggregate synchronization of work. You can use them to submit multiple different work items and track when they all complete, even though they might run on different queues. This behavior can be helpful when progress canâ€™t be made until all of the specified tasks are complete.</p>
</blockquote>

<p>A Scenario when this could be useful is if you have multiple webservice calls that all need to finish before continuing. For example, you need to download multiple sets of data that needs to be processed by some function. You have to wait for all webservices to complete before calling the function to process all the received data.</p>

<p><strong>Swift 3</strong></p>

<pre><code>func doLongTasksAndWait () {
    print(&quot;starting long running tasks&quot;)
    let group = DispatchGroup()          //create a group for a bunch of tasks we are about to do
    for i in 0...3 {                     //launch a bunch of tasks (eg a bunch of webservice calls that all need to be finished before proceeding to the next ViewController)
        group.enter()                    //let the group know that something is being added
        DispatchQueue.global().async {   //run tasks on a background thread
            sleep(arc4random() % 4)      //do some long task eg webservice or database lookup (here we are just sleeping for a random amount of time for demonstration purposes)
            print(&quot;long task \(i) done!&quot;)
            group.leave()                //let group know that the task is finished
        }
    }
    group.wait()                         //will block whatever thread we are on here until all the above tasks have finished (so maybe dont use this function on your main thread)
    print(&quot;all tasks done!&quot;)
}
</code></pre>

<p>Alternatively, if you do not want to wait for the groups to finish, but instead want to run a function once all the tasks have completed, use theÂ <code>notify</code>Â function in place of theÂ <code>group.wait()</code></p>

<pre><code>group.notify(queue: DispatchQueue.main) { //the queue: parameter is which queue this block will run on, if you need to do UI updates, use the main queue
    print(&quot;all tasks done!&quot;)              //this will execute when all tasks have left the group
}
</code></pre>

<p>Example output:</p>

<pre><code>starting long running tasks
long task 0 done!
long task 3 done!
long task 1 done!
long task 2 done!
all tasks done!
</code></pre>

<h2 id="toc_2">Serial vs Concurrent Dispatch Queues</h2>

<p><a href="https://stackoverflow.com/documentation/ios/4626/gcd-grand-central-dispatch/28286/serial-vs-concurrent-dispatch-queues">Stack Overflowåœ°å€</a><br/>
<strong>Serial Queue</strong></p>

<pre><code>func serialQueues () {
    let serialQueue = DispatchQueue(label: &quot;com.example.serial&quot;) //default queue type is a serial queue
    let start = Date ()
    for i in 0...3 {                                             //launch a bunch of tasks
        serialQueue.async {                                      //run tasks on a background thread, using our serial queue
            sleep(2)                                             //do some long task eg webservice or database lookup
            let timeTaken = Date().timeIntervalSince(start)
            print(&quot;serial long task \(i) done! total time taken: \(timeTaken)&quot;)
        }
    }
}
</code></pre>

<p>Example output:</p>

<pre><code>serial long task 0 done! total time taken: 2.07241100072861
serial long task 1 done! total time taken: 4.16347700357437
serial long task 2 done! total time taken: 6.23209798336029
serial long task 3 done! total time taken: 8.30682599544525
</code></pre>

<p><strong>Concurrent Queue</strong></p>

<pre><code>func concurrentQueues () {
    let concurrentQueue = DispatchQueue(label: &quot;com.example.concurrent&quot;, attributes: .concurrent) //explicitly specify the queue to be a concurrent queue
    let start = Date ()
    for i in 0...3 {            //launch a bunch of tasks
        concurrentQueue.async { //run tasks on a background thread, using our concurrent queue
            sleep(2)            //do some long task eg webservice or database lookup
            let timeTaken = Date().timeIntervalSince(start)
            print(&quot;concurrent long task \(i) done! total time taken: \(timeTaken)&quot;)
        }
    }
}
</code></pre>

<p>Example output:</p>

<pre><code>concurrent long task 3 done! total time taken: 2.07092100381851
concurrent long task 0 done! total time taken: 2.07087397575378
concurrent long task 2 done! total time taken: 2.07086700201035
concurrent long task 1 done! total time taken: 2.07089096307755
</code></pre>

<p><strong>Discussion</strong></p>

<p>As we can see from the examples above, a serial queue will complete each task in the order they are submitted to the queue. Each task will wait for the previous task to finish before executing. As for the concurrent queue, each task does not wait on the others in the queue and executes as soon as possible; the advantage is that all tasks on the queue will run at the same time on separate threads, making a concurrent queue take less time than a serial queue.</p>

<p>If order of execution of tasks is not important, always use a concurrent queue for the best efficiency.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[æ‰“åŒ…åå‡ºç° Undefined symbols for architecture i386]]></title>
    <link href="http://www.citynight.cn/Blog/14963702971919.html"/>
    <updated>2017-06-02T10:24:57+08:00</updated>
    <id>http://www.citynight.cn/Blog/14963702971919.html</id>
    <content type="html"><![CDATA[
<p>å‡ºç°é—®é¢˜:<br/>
è‡ªå·±æ‰“frameworkçœŸæœºä¸æ¨¡æ‹Ÿå™¨åˆå¹¶ååœ¨ä½¿ç”¨çš„æ—¶å€™æç¤º <code>Undefined symbols for architecture i386</code></p>

<p>åŸå› : æ‰“frameworkçš„æ—¶å€™ä½¿ç”¨çš„æ˜¯<code>debug</code> æ”¹ä¸º<code>release</code><br/>
<img src="media/14963702971919/14963704118450.jpg" alt=""/></p>

<p><strong>åˆå¹¶å‘½ä»¤:</strong></p>

<p><code>lipo -create çœŸæœº(æˆ–è€…æ¨¡æ‹Ÿå™¨)frameworkåœ°å€ æ¨¡æ‹Ÿå™¨(æˆ–è€…çœŸæœº)rameworkåœ°å€ -output è¾“å‡ºåœ°å€(ä¸€èˆ¬æˆ‘é€‰æ‹©çœŸæœºframeworkåœ°å€)</code></p>

<p><strong>æŸ¥çœ‹ä¿¡æ¯:</strong></p>

<p><code>lipo -info çœŸæœº(æˆ–è€…æ¨¡æ‹Ÿå™¨)frameworkåœ°å€</code></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Linux - æ–‡ä»¶ã€ç£ç›˜ç®¡ç†]]></title>
    <link href="http://www.citynight.cn/Blog/14954528363090.html"/>
    <updated>2017-05-22T19:33:56+08:00</updated>
    <id>http://www.citynight.cn/Blog/14954528363090.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">1.æ–‡ä»¶ç®¡ç†</h2>

<h3 id="toc_1">æŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯ï¼šls</h3>

<p>lsæ˜¯è‹±æ–‡å•è¯listçš„ç®€å†™ï¼Œå…¶åŠŸèƒ½ä¸ºåˆ—å‡ºç›®å½•çš„å†…å®¹ï¼Œæ˜¯ç”¨æˆ·æœ€å¸¸ç”¨çš„å‘½ä»¤ä¹‹ä¸€ï¼Œå®ƒç±»ä¼¼äºDOSä¸‹çš„dirå‘½ä»¤ã€‚</p>

<p><code>Linuxæ–‡ä»¶æˆ–è€…ç›®å½•åç§°æœ€é•¿å¯ä»¥æœ‰265ä¸ªå­—ç¬¦ï¼Œâ€œ.â€ä»£è¡¨å½“å‰ç›®å½•ï¼Œâ€œ..â€ä»£è¡¨ä¸Šä¸€çº§ç›®å½•ï¼Œä»¥â€œ.â€å¼€å¤´çš„æ–‡ä»¶ä¸ºéšè—æ–‡ä»¶ï¼Œéœ€è¦ç”¨ -a å‚æ•°æ‰èƒ½æ˜¾ç¤ºã€‚</code></p>

<p>lså¸¸ç”¨å‚æ•°ï¼š</p>

<table>
<thead>
<tr>
<th style="text-align: center">å‚æ•°</th>
<th>å«ä¹‰</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">-a</td>
<td>æ˜¾ç¤ºæŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰å­ç›®å½•ä¸æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align: center">-l</td>
<td>ä»¥åˆ—è¡¨æ–¹å¼æ˜¾ç¤ºæ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯</td>
</tr>
<tr>
<td style="text-align: center">-h</td>
<td>é…åˆ -l ä»¥äººæ€§åŒ–çš„æ–¹å¼æ˜¾ç¤ºæ–‡ä»¶å¤§å°</td>
</tr>
</tbody>
</table>

<p><img src="media/14954528363090/14954529185223.jpg" alt=""/></p>

<p>å›¾ä¸­åˆ—å‡ºçš„ä¿¡æ¯å«ä¹‰å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>

<p><img src="media/14954528363090/14954529393080.jpg" alt=""/></p>

<p>ä¸DOSä¸‹çš„æ–‡ä»¶æ“ä½œç±»ä¼¼ï¼Œåœ¨Unix/Linuxç³»ç»Ÿä¸­ï¼Œä¹ŸåŒæ ·å…è®¸ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦æ¥åŒæ—¶å¼•ç”¨å¤šä¸ªæ–‡ä»¶åï¼Œè¿™äº›ç‰¹æ®Šå­—ç¬¦è¢«ç§°ä¸ºé€šé…ç¬¦ã€‚</p>

<table>
<thead>
<tr>
<th style="text-align: left">é€šé…ç¬¦</th>
<th>å«ä¹‰</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">*</td>
<td>æ–‡ä»¶ä»£è¡¨æ–‡ä»¶åä¸­æ‰€æœ‰å­—ç¬¦</td>
</tr>
<tr>
<td style="text-align: left">ls te*</td>
<td>æŸ¥æ‰¾ä»¥teå¼€å¤´çš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align: left">ls *html</td>
<td>æŸ¥æ‰¾ç»“å°¾ä¸ºhtmlçš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align: left">ï¼Ÿ</td>
<td>ä»£è¡¨æ–‡ä»¶åä¸­ä»»æ„ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td style="text-align: left">ls ?.c</td>
<td>åªæ‰¾ç¬¬ä¸€ä¸ªå­—ç¬¦ä»»æ„ï¼Œåç¼€ä¸º.cçš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align: left">ls a.?</td>
<td>åªæ‰¾åªæœ‰3ä¸ªå­—ç¬¦ï¼Œå‰2å­—ç¬¦ä¸ºa.ï¼Œæœ€åä¸€ä¸ªå­—ç¬¦ä»»æ„çš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align: left">[]</td>
<td>[â€å’Œâ€œ]â€å°†å­—ç¬¦ç»„æ‹¬èµ·æ¥ï¼Œè¡¨ç¤ºå¯ä»¥åŒ¹é…å­—ç¬¦ç»„ä¸­çš„ä»»æ„ä¸€ä¸ªã€‚â€œ-â€ç”¨äºè¡¨ç¤ºå­—ç¬¦èŒƒå›´ã€‚</td>
</tr>
<tr>
<td style="text-align: left">[abc]</td>
<td>åŒ¹é…aã€bã€cä¸­çš„ä»»æ„ä¸€ä¸ª</td>
</tr>
<tr>
<td style="text-align: left">[a-f]</td>
<td>åŒ¹é…ä»aåˆ°fèŒƒå›´å†…çš„çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td style="text-align: left">ls [a-f]*</td>
<td>æ‰¾åˆ°ä»aåˆ°fèŒƒå›´å†…çš„çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦å¼€å¤´çš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align: left">ls a-f</td>
<td>æŸ¥æ‰¾æ–‡ä»¶åä¸ºa-fçš„æ–‡ä»¶,å½“â€œ-â€å¤„äºæ–¹æ‹¬å·ä¹‹å¤–å¤±å»é€šé…ç¬¦çš„ä½œç”¨</td>
</tr>
<tr>
<td style="text-align: left">\</td>
<td>å¦‚æœè¦ä½¿é€šé…ç¬¦ä½œä¸ºæ™®é€šå­—ç¬¦ä½¿ç”¨ï¼Œå¯ä»¥åœ¨å…¶å‰é¢åŠ ä¸Šè½¬ä¹‰å­—ç¬¦ã€‚â€œ?â€å’Œâ€œ*â€å¤„äºæ–¹æ‹¬å·å†…æ—¶ä¸ç”¨ä½¿ç”¨è½¬ä¹‰å­—ç¬¦å°±å¤±å»é€šé…ç¬¦çš„ä½œç”¨ã€‚</td>
</tr>
<tr>
<td style="text-align: left">ls *a</td>
<td>æŸ¥æ‰¾æ–‡ä»¶åä¸º*açš„æ–‡ä»¶</td>
</tr>
</tbody>
</table>

<h3 id="toc_2">è¾“å‡ºé‡å®šå‘å‘½ä»¤ï¼š&gt;</h3>

<p>Linuxå…è®¸å°†å‘½ä»¤æ‰§è¡Œç»“æœé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œæœ¬åº”æ˜¾ç¤ºåœ¨ç»ˆç«¯ä¸Šçš„å†…å®¹ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ä¸­ã€‚</p>

<p>å¦‚ï¼šls &gt; test.txt ( test.txt å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™è¦†ç›–å…¶å†…å®¹ )</p>

<p><img src="media/14954528363090/14954530933243.jpg" alt=""/><br/>
æ³¨æ„ï¼š <code>&gt;è¾“å‡ºé‡å®šå‘ä¼šè¦†ç›–åŸæ¥çš„å†…å®¹ï¼Œ&gt;&gt;è¾“å‡ºé‡å®šå‘åˆ™ä¼šè¿½åŠ åˆ°æ–‡ä»¶çš„å°¾éƒ¨ã€‚</code></p>

<h3 id="toc_3">åˆ†å±æ˜¾ç¤ºï¼šmore</h3>

<p>æŸ¥çœ‹å†…å®¹æ—¶ï¼Œåœ¨ä¿¡æ¯è¿‡é•¿æ— æ³•åœ¨ä¸€å±ä¸Šæ˜¾ç¤ºæ—¶ï¼Œä¼šå‡ºç°å¿«é€Ÿæ»šå±ï¼Œä½¿å¾—ç”¨æˆ·æ— æ³•çœ‹æ¸…æ–‡ä»¶çš„å†…å®¹ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨moreå‘½ä»¤ï¼Œæ¯æ¬¡åªæ˜¾ç¤ºä¸€é¡µï¼ŒæŒ‰ä¸‹ç©ºæ ¼é”®å¯ä»¥æ˜¾ç¤ºä¸‹ä¸€é¡µï¼ŒæŒ‰ä¸‹qé”®é€€å‡ºæ˜¾ç¤ºï¼ŒæŒ‰ä¸‹hé”®å¯ä»¥è·å–å¸®åŠ©ã€‚</p>

<p><img src="media/14954528363090/14954533115641.jpg" alt=""/></p>

<h3 id="toc_4">ç®¡é“ï¼š|</h3>

<p>ç®¡é“ï¼šä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºå¯ä»¥é€šè¿‡ç®¡é“åšä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥ã€‚</p>

<p>ç®¡é“æˆ‘ä»¬å¯ä»¥ç†è§£ç°å®ç”Ÿæ´»ä¸­çš„ç®¡å­ï¼Œç®¡å­çš„ä¸€å¤´å¡ä¸œè¥¿è¿›å»ï¼Œå¦ä¸€å¤´å–å‡ºæ¥ï¼Œè¿™é‡Œâ€œ | â€çš„å·¦å³åˆ†ä¸ºä¸¤ç«¯ï¼Œå·¦ç«¯å¡ä¸œè¥¿(å†™)ï¼Œå³ç«¯å–ä¸œè¥¿(è¯»)ã€‚</p>

<p><img src="media/14954528363090/14954534699128.jpg" alt=""/></p>

<h3 id="toc_5">æ¸…å±ï¼šclear</h3>

<p>clearä½œç”¨ä¸ºæ¸…é™¤ç»ˆç«¯ä¸Šçš„æ˜¾ç¤º(ç±»ä¼¼äºDOSçš„clsæ¸…å±åŠŸèƒ½)ï¼Œä¹Ÿå¯ä½¿ç”¨å¿«æ·é”®ï¼šCtrl + l ( â€œlâ€ ä¸ºå­—æ¯ )ã€‚</p>

<h3 id="toc_6">åˆ‡æ¢å·¥ä½œç›®å½•ï¼š cd</h3>

<p>åœ¨ä½¿ç”¨Unix/Linuxçš„æ—¶å€™ï¼Œç»å¸¸éœ€è¦æ›´æ¢å·¥ä½œç›®å½•ã€‚cdå‘½ä»¤å¯ä»¥å¸®åŠ©ç”¨æˆ·åˆ‡æ¢å·¥ä½œç›®å½•ã€‚<code>Linuxæ‰€æœ‰çš„ç›®å½•å’Œæ–‡ä»¶åå¤§å°å†™æ•æ„Ÿ</code></p>

<p>cdåé¢å¯è·Ÿç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥è·Ÿç›¸å¯¹è·¯å¾„ã€‚å¦‚æœçœç•¥ç›®å½•ï¼Œåˆ™é»˜è®¤åˆ‡æ¢åˆ°å½“å‰ç”¨æˆ·çš„ä¸»ç›®å½•ã€‚</p>

<table>
<thead>
<tr>
<th style="text-align: left">å‘½ä»¤</th>
<th>å«ä¹‰</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">cd</td>
<td>åˆ‡æ¢åˆ°å½“å‰ç”¨æˆ·çš„ä¸»ç›®å½•(/home/ç”¨æˆ·ç›®å½•)ï¼Œç”¨æˆ·ç™»é™†çš„æ—¶å€™ï¼Œé»˜è®¤çš„ç›®å½•å°±æ˜¯ç”¨æˆ·çš„ä¸»ç›®å½•ã€‚</td>
</tr>
<tr>
<td style="text-align: left">cd ~</td>
<td>åˆ‡æ¢åˆ°å½“å‰ç”¨æˆ·çš„ä¸»ç›®å½•(/home/ç”¨æˆ·ç›®å½•)</td>
</tr>
<tr>
<td style="text-align: left">cd .</td>
<td>åˆ‡æ¢åˆ°å½“å‰ç›®å½•</td>
</tr>
<tr>
<td style="text-align: left">cd ..</td>
<td>åˆ‡æ¢åˆ°ä¸Šçº§ç›®å½•</td>
</tr>
<tr>
<td style="text-align: left">cd -</td>
<td>å¯è¿›å…¥ä¸Šæ¬¡æ‰€åœ¨çš„ç›®å½•</td>
</tr>
</tbody>
</table>

<p><img src="media/14954528363090/14955894273051.jpg" alt=""/><br/>
æ³¨æ„ï¼š</p>

<ul>
<li>å¦‚æœè·¯å¾„æ˜¯ä»æ ¹è·¯å¾„å¼€å§‹çš„ï¼Œåˆ™è·¯å¾„çš„å‰é¢éœ€è¦åŠ ä¸Š â€œ / â€ï¼Œå¦‚ â€œ /mnt â€ï¼Œé€šå¸¸è¿›å…¥æŸä¸ªç›®å½•é‡Œçš„æ–‡ä»¶å¤¹ï¼Œå‰é¢ä¸ç”¨åŠ  â€œ / â€ã€‚</li>
</ul>

<p><img src="media/14954528363090/14955900895519.jpg" alt=""/></p>

<h3 id="toc_7">æ˜¾ç¤ºå½“å‰è·¯å¾„ï¼špwd</h3>

<p>ä½¿ç”¨pwdå‘½ä»¤å¯ä»¥æ˜¾ç¤ºå½“å‰çš„å·¥ä½œç›®å½•ï¼Œè¯¥å‘½ä»¤å¾ˆç®€å•ï¼Œç›´æ¥è¾“å…¥pwdå³å¯ï¼Œåé¢ä¸å¸¦å‚æ•°ã€‚</p>

<h3 id="toc_8">åˆ›å»ºç›®å½•ï¼šmkdir</h3>

<p>é€šè¿‡mkdirå‘½ä»¤å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½•ã€‚å‚æ•°-på¯é€’å½’åˆ›å»ºç›®å½•ã€‚</p>

<p>éœ€è¦æ³¨æ„çš„æ˜¯æ–°å»ºç›®å½•çš„åç§°ä¸èƒ½ä¸å½“å‰ç›®å½•ä¸­å·²æœ‰çš„ç›®å½•æˆ–æ–‡ä»¶åŒåï¼Œå¹¶ä¸”ç›®å½•åˆ›å»ºè€…å¿…é¡»å¯¹å½“å‰ç›®å½•å…·æœ‰å†™æƒé™ã€‚<br/>
<img src="media/14954528363090/14955907314659.jpg" alt=""/></p>

<h3 id="toc_9">åˆ é™¤ç›®å½•ï¼šrmdir</h3>

<p>å¯ä½¿ç”¨rmdirå‘½ä»¤åˆ é™¤ä¸€ä¸ªç›®å½•ã€‚å¿…é¡»ç¦»å¼€ç›®å½•ï¼Œå¹¶ä¸”ç›®å½•å¿…é¡»ä¸ºç©ºç›®å½•ï¼Œä¸ç„¶æç¤ºåˆ é™¤å¤±è´¥ã€‚</p>

<h3 id="toc_10">åˆ é™¤æ–‡ä»¶ï¼šrm</h3>

<p>å¯é€šè¿‡rmåˆ é™¤æ–‡ä»¶æˆ–ç›®å½•ã€‚ä½¿ç”¨rmå‘½ä»¤è¦å°å¿ƒï¼Œå› ä¸ºæ–‡ä»¶åˆ é™¤åä¸èƒ½æ¢å¤ã€‚ä¸ºäº†é˜²æ­¢æ–‡ä»¶è¯¯åˆ ï¼Œå¯ä»¥åœ¨rmåä½¿ç”¨-iå‚æ•°ä»¥é€ä¸ªç¡®è®¤è¦åˆ é™¤çš„æ–‡ä»¶ã€‚</p>

<p>å¸¸ç”¨å‚æ•°åŠå«ä¹‰å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>

<table>
<thead>
<tr>
<th style="text-align: left">å‚æ•°</th>
<th>å«ä¹‰</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">-i</td>
<td>ä»¥è¿›è¡Œäº¤äº’å¼æ–¹å¼æ‰§è¡Œ</td>
</tr>
<tr>
<td style="text-align: left">-f</td>
<td>å¼ºåˆ¶åˆ é™¤ï¼Œå¿½ç•¥ä¸å­˜åœ¨çš„æ–‡ä»¶ï¼Œæ— éœ€æç¤º</td>
</tr>
<tr>
<td style="text-align: left">-r</td>
<td>é€’å½’åœ°åˆ é™¤ç›®å½•ä¸‹çš„å†…å®¹ï¼Œåˆ é™¤æ–‡ä»¶å¤¹æ—¶å¿…é¡»åŠ æ­¤å‚æ•°</td>
</tr>
</tbody>
</table>

<h3 id="toc_11">å»ºç«‹é“¾æ¥æ–‡ä»¶ï¼šln</h3>

<p>Linuxé“¾æ¥æ–‡ä»¶ç±»ä¼¼äºWindowsä¸‹çš„å¿«æ·æ–¹å¼ã€‚</p>

<p>é“¾æ¥æ–‡ä»¶åˆ†ä¸ºè½¯é“¾æ¥å’Œç¡¬é“¾æ¥ã€‚</p>

<p>è½¯é“¾æ¥ï¼šè½¯é“¾æ¥ä¸å ç”¨ç£ç›˜ç©ºé—´ï¼Œæºæ–‡ä»¶åˆ é™¤åˆ™è½¯é“¾æ¥å¤±æ•ˆã€‚</p>

<p>ç¡¬é“¾æ¥ï¼šç¡¬é“¾æ¥åªèƒ½é“¾æ¥æ™®é€šæ–‡ä»¶ï¼Œä¸èƒ½é“¾æ¥ç›®å½•ã€‚</p>

<p>ä½¿ç”¨æ ¼å¼ï¼š</p>

<pre><code>ln æºæ–‡ä»¶ é“¾æ¥æ–‡ä»¶
ln -s æºæ–‡ä»¶ é“¾æ¥æ–‡ä»¶

</code></pre>

<p>å¦‚æœ<code>æ²¡æœ‰-s</code>é€‰é¡¹ä»£è¡¨å»ºç«‹ä¸€ä¸ªç¡¬é“¾æ¥æ–‡ä»¶ï¼Œä¸¤ä¸ªæ–‡ä»¶å ç”¨ç›¸åŒå¤§å°çš„ç¡¬ç›˜ç©ºé—´ï¼Œå³ä½¿åˆ é™¤äº†æºæ–‡ä»¶ï¼Œé“¾æ¥æ–‡ä»¶è¿˜æ˜¯å­˜åœ¨ï¼Œæ‰€ä»¥-sé€‰é¡¹æ˜¯æ›´å¸¸è§çš„å½¢å¼ã€‚</p>

<p>æ³¨æ„ï¼šå¦‚æœè½¯é“¾æ¥æ–‡ä»¶å’Œæºæ–‡ä»¶ä¸åœ¨åŒä¸€ä¸ªç›®å½•ï¼Œæºæ–‡ä»¶è¦ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œä¸èƒ½ä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚</p>

<h3 id="toc_12">æŸ¥çœ‹æˆ–è€…åˆå¹¶æ–‡ä»¶å†…å®¹ï¼šcat</h3>

<h3 id="toc_13">æ–‡æœ¬æœç´¢ï¼šgrep</h3>

<p>Linuxç³»ç»Ÿä¸­grepå‘½ä»¤æ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·ï¼Œgrepå…è®¸å¯¹æ–‡æœ¬æ–‡ä»¶è¿›è¡Œæ¨¡å¼æŸ¥æ‰¾ã€‚å¦‚æœæ‰¾åˆ°åŒ¹é…æ¨¡å¼ï¼Œ grepæ‰“å°åŒ…å«æ¨¡å¼çš„æ‰€æœ‰è¡Œã€‚</p>

<p>grepä¸€èˆ¬æ ¼å¼ä¸ºï¼š</p>

<pre><code>grep [-é€‰é¡¹] â€˜æœç´¢å†…å®¹ä¸²â€™æ–‡ä»¶å

</code></pre>

<p>åœ¨grepå‘½ä»¤ä¸­è¾“å…¥å­—ç¬¦ä¸²å‚æ•°æ—¶ï¼Œæœ€å¥½å¼•å·æˆ–åŒå¼•å·æ‹¬èµ·æ¥ã€‚ä¾‹å¦‚ï¼šgrepâ€˜a â€™1.txtã€‚</p>

<p>å¸¸ç”¨é€‰é¡¹è¯´æ˜ï¼š</p>

<table>
<thead>
<tr>
<th style="text-align: left">é€‰é¡¹</th>
<th>å«ä¹‰</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">-v</td>
<td>æ˜¾ç¤ºä¸åŒ…å«åŒ¹é…æ–‡æœ¬çš„æ‰€æœ‰è¡Œï¼ˆç›¸å½“äºæ±‚åï¼‰</td>
</tr>
<tr>
<td style="text-align: left">-n</td>
<td>æ˜¾ç¤ºåŒ¹é…è¡ŒåŠè¡Œå·</td>
</tr>
<tr>
<td style="text-align: left">-i</td>
<td>å¿½ç•¥å¤§å°å†™</td>
</tr>
</tbody>
</table>

<p>grepæœç´¢å†…å®¹ä¸²å¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚</p>

<p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¯¹å­—ç¬¦ä¸²æ“ä½œçš„ä¸€ç§é€»è¾‘å…¬å¼ï¼Œå°±æ˜¯ç”¨äº‹å…ˆå®šä¹‰å¥½çš„ä¸€äº›ç‰¹å®šå­—ç¬¦ã€åŠè¿™äº›ç‰¹å®šå­—ç¬¦çš„ç»„åˆï¼Œç»„æˆä¸€ä¸ªâ€œè§„åˆ™å­—ç¬¦ä¸²â€ï¼Œè¿™ä¸ªâ€œè§„åˆ™å­—ç¬¦ä¸²â€ç”¨æ¥è¡¨è¾¾å¯¹å­—ç¬¦ä¸²çš„ä¸€ç§è¿‡æ»¤é€»è¾‘ã€‚</p>

<p>grepå¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼š</p>

<table>
<thead>
<tr>
<th style="text-align: left">å‚æ•°</th>
<th>å«ä¹‰</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left"><sup>a</sup></td>
<td>è¡Œé¦–,æœå¯»ä»¥ m å¼€å¤´çš„è¡Œï¼›grep -n &lsquo;<sup>a&rsquo;</sup> 1.txt</td>
</tr>
<tr>
<td style="text-align: left">ke$</td>
<td>è¡Œå°¾,æœå¯»ä»¥ ke ç»“æŸçš„è¡Œï¼›grep -n &lsquo;ke$&rsquo; 1.txt</td>
</tr>
<tr>
<td style="text-align: left">[Ss]igna[Ll]</td>
<td>åŒ¹é… [] é‡Œä¸­ä¸€ç³»åˆ—å­—ç¬¦ä¸­çš„ä¸€ä¸ªï¼›æœå¯»åŒ¹é…å•è¯signalã€signaLã€Signalã€SignaLçš„è¡Œï¼›grep -n &lsquo;[Ss]igna[Ll]&rsquo; 1.txt</td>
</tr>
<tr>
<td style="text-align: left">.</td>
<td>(ç‚¹)åŒ¹é…ä¸€ä¸ªéæ¢è¡Œç¬¦çš„å­—ç¬¦ï¼›åŒ¹é… e å’Œ e ä¹‹é—´æœ‰ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œå¯ä»¥åŒ¹é… eeeï¼Œeaeï¼Œeveï¼Œä½†æ˜¯ä¸åŒ¹é… eeï¼Œeaaeï¼›grep -n &lsquo;e.e&rsquo; 1.txt</td>
</tr>
</tbody>
</table>

<h3 id="toc_14">æŸ¥æ‰¾æ–‡ä»¶ï¼šfind</h3>

<p>findå‘½ä»¤åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œé€šå¸¸ç”¨æ¥åœ¨ç‰¹å®šçš„ç›®å½•ä¸‹æœç´¢ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥æœç´¢ç‰¹å®šç”¨æˆ·å±ä¸»çš„æ–‡ä»¶ã€‚</p>

<p>å¸¸ç”¨ç”¨æ³•ï¼š</p>

<table>
<thead>
<tr>
<th style="text-align: left">å‘½ä»¤</th>
<th>å«ä¹‰</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">find ./ -name test.sh</td>
<td>æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰åä¸ºtest.shçš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align: left">find ./ -name &lsquo;*.sh&rsquo;</td>
<td>æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰åç¼€ä¸º.shçš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align: left">find ./ -name &ldquo;[A-Z]*&rdquo;</td>
<td>æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ä»¥å¤§å†™å­—æ¯å¼€å¤´çš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align: left">find /tmp -size 2M</td>
<td>æŸ¥æ‰¾åœ¨/tmp ç›®å½•ä¸‹ç­‰äº2Mçš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align: left">find /tmp -size +2M</td>
<td>æŸ¥æ‰¾åœ¨/tmp ç›®å½•ä¸‹å¤§äº2Mçš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align: left">find /tmp -size -2M</td>
<td>æŸ¥æ‰¾åœ¨/tmp ç›®å½•ä¸‹å°äº2Mçš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align: left">find ./ -size +4k -size -5M</td>
<td>æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹å¤§äº4kï¼Œå°äº5Mçš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align: left">find ./ -perm 0777</td>
<td>æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æƒé™ä¸º 777 çš„æ–‡ä»¶æˆ–ç›®å½•</td>
</tr>
</tbody>
</table>

<h3 id="toc_15">æ‹·è´æ–‡ä»¶ï¼šcp</h3>

<p>cpå‘½ä»¤çš„åŠŸèƒ½æ˜¯å°†ç»™å‡ºçš„æ–‡ä»¶æˆ–ç›®å½•å¤åˆ¶åˆ°å¦ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•ä¸­ï¼Œç›¸å½“äºDOSä¸‹çš„copyå‘½ä»¤ã€‚</p>

<p>å¸¸ç”¨é€‰é¡¹è¯´æ˜ï¼š</p>

<table>
<thead>
<tr>
<th style="text-align: left">é€‰é¡¹</th>
<th>å«ä¹‰</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">-a</td>
<td>è¯¥é€‰é¡¹é€šå¸¸åœ¨å¤åˆ¶ç›®å½•æ—¶ä½¿ç”¨ï¼Œå®ƒä¿ç•™é“¾æ¥ã€æ–‡ä»¶å±æ€§ï¼Œå¹¶é€’å½’åœ°å¤åˆ¶ç›®å½•ï¼Œç®€å•è€Œè¨€ï¼Œä¿æŒæ–‡ä»¶åŸæœ‰å±æ€§ã€‚</td>
</tr>
<tr>
<td style="text-align: left">-f</td>
<td>å·²ç»å­˜åœ¨çš„ç›®æ ‡æ–‡ä»¶è€Œä¸æç¤º</td>
</tr>
<tr>
<td style="text-align: left">-i</td>
<td>äº¤äº’å¼å¤åˆ¶ï¼Œåœ¨è¦†ç›–ç›®æ ‡æ–‡ä»¶ä¹‹å‰å°†ç»™å‡ºæç¤ºè¦æ±‚ç”¨æˆ·ç¡®è®¤</td>
</tr>
<tr>
<td style="text-align: left">-r</td>
<td>è‹¥ç»™å‡ºçš„æºæ–‡ä»¶æ˜¯ç›®å½•æ–‡ä»¶ï¼Œåˆ™cpå°†é€’å½’å¤åˆ¶è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶ï¼Œç›®æ ‡æ–‡ä»¶å¿…é¡»ä¸ºä¸€ä¸ªç›®å½•åã€‚</td>
</tr>
<tr>
<td style="text-align: left">-v</td>
<td>æ˜¾ç¤ºæ‹·è´è¿›åº¦</td>
</tr>
</tbody>
</table>

<p>cp vim_configure/ code/ -ivr æŠŠæ–‡ä»¶å¤¹ vim_configure æ‹·è´åˆ° code ç›®å½•é‡Œï¼š</p>

<p><strong>æš‚æ—¶ç¼ºå›¾ç¨åè¡¥</strong></p>

<h3 id="toc_16">ç§»åŠ¨æ–‡ä»¶ï¼šmv</h3>

<p>ç”¨æˆ·å¯ä»¥ä½¿ç”¨mvå‘½ä»¤æ¥ç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•ï¼Œä¹Ÿå¯ä»¥ç»™æ–‡ä»¶æˆ–ç›®å½•é‡å‘½åã€‚</p>

<p>å¸¸ç”¨é€‰é¡¹è¯´æ˜ï¼š</p>

<table>
<thead>
<tr>
<th style="text-align: left">é€‰é¡¹</th>
<th>å«ä¹‰</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">-f</td>
<td>ç¦æ­¢äº¤äº’å¼æ“ä½œï¼Œå¦‚æœ‰è¦†ç›–ä¹Ÿä¸ä¼šç»™å‡ºæç¤º</td>
</tr>
<tr>
<td style="text-align: left">-i</td>
<td>ç¡®è®¤äº¤äº’æ–¹å¼æ“ä½œï¼Œå¦‚æœmvæ“ä½œå°†å¯¼è‡´å¯¹å·²å­˜åœ¨çš„ç›®æ ‡æ–‡ä»¶çš„è¦†ç›–ï¼Œç³»ç»Ÿä¼šè¯¢é—®æ˜¯å¦é‡å†™ï¼Œè¦æ±‚ç”¨æˆ·å›ç­”ä»¥é¿å…è¯¯è¦†ç›–æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align: left">-v</td>
<td>æ˜¾ç¤ºç§»åŠ¨è¿›åº¦</td>
</tr>
</tbody>
</table>

<h3 id="toc_17">å½’æ¡£ç®¡ç†ï¼štar</h3>

<p>è®¡ç®—æœºä¸­çš„æ•°æ®ç»å¸¸éœ€è¦å¤‡ä»½ï¼Œtaræ˜¯Unix/Linuxä¸­æœ€å¸¸ç”¨çš„å¤‡ä»½å·¥å…·ï¼Œæ­¤å‘½ä»¤å¯ä»¥æŠŠä¸€ç³»åˆ—æ–‡ä»¶å½’æ¡£åˆ°ä¸€ä¸ªå¤§æ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥æŠŠæ¡£æ¡ˆæ–‡ä»¶è§£å¼€ä»¥æ¢å¤æ•°æ®ã€‚</p>

<p>tarä½¿ç”¨æ ¼å¼ tar [å‚æ•°] æ‰“åŒ…æ–‡ä»¶å æ–‡ä»¶</p>

<p>tarå‘½ä»¤å¾ˆç‰¹æ®Šï¼Œå…¶å‚æ•°å‰é¢å¯ä»¥ä½¿ç”¨â€œ-â€ï¼Œä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ã€‚</p>

<p>å¸¸ç”¨å‚æ•°ï¼š</p>

<table>
<thead>
<tr>
<th style="text-align: left">å‚æ•°</th>
<th>å«ä¹‰</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">-c</td>
<td>ç”Ÿæˆæ¡£æ¡ˆæ–‡ä»¶ï¼Œåˆ›å»ºæ‰“åŒ…æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align: left">-v</td>
<td>åˆ—å‡ºå½’æ¡£è§£æ¡£çš„è¯¦ç»†è¿‡ç¨‹ï¼Œæ˜¾ç¤ºè¿›åº¦</td>
</tr>
<tr>
<td style="text-align: left">-f</td>
<td>æŒ‡å®šæ¡£æ¡ˆæ–‡ä»¶åç§°ï¼Œfåé¢ä¸€å®šæ˜¯.taræ–‡ä»¶ï¼Œæ‰€ä»¥å¿…é¡»æ”¾é€‰é¡¹æœ€å</td>
</tr>
<tr>
<td style="text-align: left">-t</td>
<td>åˆ—å‡ºæ¡£æ¡ˆä¸­åŒ…å«çš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align: left">-x</td>
<td>è§£å¼€æ¡£æ¡ˆæ–‡ä»¶</td>
</tr>
</tbody>
</table>

<p>æ³¨æ„ï¼šé™¤äº†féœ€è¦æ”¾åœ¨å‚æ•°çš„æœ€åï¼Œå…¶å®ƒå‚æ•°çš„é¡ºåºä»»æ„ã€‚</p>

<h3 id="toc_18">æ–‡ä»¶å‹ç¼©è§£å‹ï¼šgzip</h3>

<p>tarä¸gzipå‘½ä»¤ç»“åˆä½¿ç”¨å®ç°æ–‡ä»¶æ‰“åŒ…ã€å‹ç¼©ã€‚ taråªè´Ÿè´£æ‰“åŒ…æ–‡ä»¶ï¼Œä½†ä¸å‹ç¼©ï¼Œç”¨gzipå‹ç¼©taræ‰“åŒ…åçš„æ–‡ä»¶ï¼Œå…¶æ‰©å±•åä¸€èˆ¬ç”¨xxxx.tar.gzã€‚</p>

<p>gzipä½¿ç”¨æ ¼å¼å¦‚ä¸‹ï¼š</p>

<pre><code>gzip  [é€‰é¡¹]  è¢«å‹ç¼©æ–‡ä»¶

</code></pre>

<p>å¸¸ç”¨é€‰é¡¹ï¼š</p>

<p>|é€‰é¡¹|å«ä¹‰| |-d|è§£å‹| |-r|å‹ç¼©æ‰€æœ‰å­ç›®å½•|</p>

<p><strong>è¿™é‡Œç¼ºå›¾</strong></p>

<p>tarè¿™ä¸ªå‘½ä»¤å¹¶æ²¡æœ‰å‹ç¼©çš„åŠŸèƒ½ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªæ‰“åŒ…çš„å‘½ä»¤ï¼Œä½†æ˜¯åœ¨tarå‘½ä»¤ä¸­å¢åŠ ä¸€ä¸ªé€‰é¡¹(-z)å¯ä»¥è°ƒç”¨gzipå®ç°äº†ä¸€ä¸ªå‹ç¼©çš„åŠŸèƒ½ï¼Œå®è¡Œä¸€ä¸ªå…ˆæ‰“åŒ…åå‹ç¼©çš„è¿‡ç¨‹ã€‚</p>

<p>å‹ç¼©ç”¨æ³•ï¼štar cvzf å‹ç¼©åŒ…åŒ…å æ–‡ä»¶1 æ–‡ä»¶2 &hellip;</p>

<pre><code>-z ï¼šæŒ‡å®šå‹ç¼©åŒ…çš„æ ¼å¼ä¸ºï¼šfile.tar.gz

</code></pre>

<p>ä¾‹å¦‚ï¼š tar zcvf test.tar.gz 1.c 2.c 3.c 4.cæŠŠ 1.c 2.c 3.c 4.c å‹ç¼©æˆ test.tar.gz<br/>
<strong>è¿™é‡Œç¼ºå›¾</strong></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Linux - å¸¸ç”¨åŸºæœ¬å‘½ä»¤]]></title>
    <link href="http://www.citynight.cn/Blog/14954518367171.html"/>
    <updated>2017-05-22T19:17:16+08:00</updated>
    <id>http://www.citynight.cn/Blog/14954518367171.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">1.å‘½ä»¤ä½¿ç”¨æ–¹æ³•</h2>

<p>Linuxå‘½ä»¤æ ¼å¼:</p>

<pre><code>    command  [-options]  [parameter1]  â€¦
</code></pre>

<p>è¯´æ˜ï¼š</p>

<ul>
<li>command: å‘½ä»¤å,ç›¸åº”åŠŸèƒ½çš„è‹±æ–‡å•è¯æˆ–å•è¯çš„ç¼©å†™ [-options]ï¼šé€‰é¡¹,å¯ç”¨æ¥å¯¹å‘½ä»¤è¿›è¡Œæ§åˆ¶ï¼Œä¹Ÿå¯ä»¥çœç•¥ï¼Œ<code>[]ä»£è¡¨å¯é€‰</code> parameter1 â€¦ï¼šä¼ ç»™å‘½ä»¤çš„å‚æ•°ï¼šå¯ä»¥æ˜¯é›¶ä¸ªä¸€ä¸ªæˆ–å¤šä¸ª</li>
</ul>

<p>ä¾‹ï¼š</p>

<p><img src="media/14954518367171/14954519660499.jpg" alt=""/></p>

<h2 id="toc_1">2.æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£</h2>

<h3 id="toc_2"><1> &ndash;help</h3>

<p>ä¸€èˆ¬æ˜¯linuxå‘½ä»¤è‡ªå¸¦çš„å¸®åŠ©ä¿¡æ¯</p>

<p>å¦‚ï¼šls &ndash;help</p>

<h3 id="toc_3"><2> man(æœ‰é—®é¢˜æ‰¾ç”·äººï¼Œmanual)</h3>

<p>manæ˜¯linuxæä¾›çš„ä¸€ä¸ªæ‰‹å†Œï¼ŒåŒ…å«äº†ç»å¤§éƒ¨åˆ†çš„å‘½ä»¤ã€å‡½æ•°ä½¿ç”¨è¯´æ˜</p>

<p>è¯¥æ‰‹å†Œåˆ†æˆå¾ˆå¤šç« èŠ‚ï¼ˆsectionï¼‰ï¼Œä½¿ç”¨manæ—¶å¯ä»¥æŒ‡å®šä¸åŒçš„ç« èŠ‚æ¥æµè§ˆã€‚</p>

<p>ä¾‹ï¼šman ls ; man 2 printf</p>

<p>manä¸­å„ä¸ªsectionæ„ä¹‰å¦‚ä¸‹ï¼š</p>

<ol>
<li>Standard commandsï¼ˆæ ‡å‡†å‘½ä»¤ï¼‰</li>
<li>System callsï¼ˆç³»ç»Ÿè°ƒç”¨ï¼Œå¦‚open,writeï¼‰</li>
<li>Library functionsï¼ˆåº“å‡½æ•°ï¼Œå¦‚printf,fopenï¼‰</li>
<li>Special devicesï¼ˆè®¾å¤‡æ–‡ä»¶çš„è¯´æ˜ï¼Œ/devä¸‹å„ç§è®¾å¤‡ï¼‰</li>
<li>File formatsï¼ˆæ–‡ä»¶æ ¼å¼ï¼Œå¦‚passwdï¼‰</li>
<li>Games and toysï¼ˆæ¸¸æˆå’Œå¨±ä¹ï¼‰</li>
<li>Miscellaneousï¼ˆæ‚é¡¹ã€æƒ¯ä¾‹ä¸åå®šç­‰ï¼Œä¾‹å¦‚Linuxæ¡£æ¡ˆç³»ç»Ÿã€ç½‘ç»œåå®šã€ASCII ç ï¼›environå…¨å±€å˜é‡ï¼‰</li>
<li>Administrative Commandsï¼ˆç®¡ç†å‘˜å‘½ä»¤ï¼Œå¦‚ifconfigï¼‰</li>
</ol>

<p>manæ˜¯æŒ‰ç…§æ‰‹å†Œçš„ç« èŠ‚å·çš„é¡ºåºè¿›è¡Œæœç´¢çš„ã€‚</p>

<p>manè®¾ç½®äº†å¦‚ä¸‹çš„åŠŸèƒ½é”®ï¼š</p>

<table>
<thead>
<tr>
<th style="text-align: center">åŠŸèƒ½é”®</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">ç©ºæ ¼é”®</td>
<td>æ˜¾ç¤ºæ‰‹å†Œé¡µçš„ä¸‹ä¸€å±</td>
</tr>
<tr>
<td style="text-align: center">Enteré”®</td>
<td>ä¸€æ¬¡æ»šåŠ¨æ‰‹å†Œé¡µçš„ä¸€è¡Œ</td>
</tr>
<tr>
<td style="text-align: center">b</td>
<td>å›æ»šä¸€å±</td>
</tr>
<tr>
<td style="text-align: center">f</td>
<td>å‰æ»šä¸€å±</td>
</tr>
<tr>
<td style="text-align: center">q</td>
<td>é€€å‡ºmanå‘½ä»¤</td>
</tr>
<tr>
<td style="text-align: center">h</td>
<td>åˆ—å‡ºæ‰€æœ‰åŠŸèƒ½é”®</td>
</tr>
<tr>
<td style="text-align: center">/word</td>
<td>æœç´¢wordå­—ç¬¦ä¸²</td>
</tr>
</tbody>
</table>

<p><img src="media/14954518367171/14954525011190.jpg" alt=""/></p>

<p>æ³¨æ„ï¼šå®é™…ä¸Šï¼Œæˆ‘ä»¬ä¸ç”¨æŒ‡å®šç¬¬å‡ ä¸ªç« èŠ‚ä¹Ÿç”¨æŸ¥çœ‹ï¼Œå¦‚ï¼Œman ls</p>

<h2 id="toc_4">3.è‡ªåŠ¨è¡¥å…¨ï¼š</h2>

<p>åœ¨æ•²å‡ºå‘½ä»¤çš„å‰å‡ ä¸ªå­—æ¯çš„åŒæ—¶ï¼ŒæŒ‰ä¸‹tabé”®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬è¡¥å…¨å‘½ä»¤</p>

<h2 id="toc_5">4.å†å²å‘½ä»¤ï¼š</h2>

<p>å½“ç³»ç»Ÿæ‰§è¡Œè¿‡ä¸€äº›å‘½ä»¤åï¼Œå¯æŒ‰ä¸Šä¸‹é”®ç¿»çœ‹ä»¥å‰çš„å‘½ä»¤ï¼Œhistoryå°†æ‰§è¡Œè¿‡çš„å‘½ä»¤åˆ—ä¸¾å‡ºæ¥</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Linux - æ–‡ä»¶å’Œç›®å½•]]></title>
    <link href="http://www.citynight.cn/Blog/14954377078014.html"/>
    <updated>2017-05-22T15:21:47+08:00</updated>
    <id>http://www.citynight.cn/Blog/14954377078014.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">ç±»Unixç³»ç»Ÿç›®å½•ç»“æ„</h2>

<p>ubuntuæ²¡æœ‰ç›˜ç¬¦è¿™ä¸ªæ¦‚å¿µï¼Œåªæœ‰ä¸€ä¸ªæ ¹ç›®å½•/ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½åœ¨å®ƒä¸‹é¢</p>

<p><img src="media/14954377078014/14954378312055.jpg" alt=""/></p>

<h2 id="toc_1">Linux ç›®å½•</h2>

<ul>
<li>/ï¼šæ ¹ç›®å½•ï¼Œä¸€èˆ¬æ ¹ç›®å½•ä¸‹åªå­˜æ”¾ç›®å½•ï¼Œåœ¨Linuxä¸‹æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ ¹ç›®å½•ã€‚æ‰€æœ‰çš„ä¸œè¥¿éƒ½æ˜¯ä»è¿™é‡Œå¼€å§‹ã€‚å½“ä½ åœ¨ç»ˆç«¯é‡Œè¾“å…¥â€œ/homeâ€ï¼Œä½ å…¶å®æ˜¯åœ¨å‘Šè¯‰ç”µè„‘ï¼Œå…ˆä»/ï¼ˆæ ¹ç›®å½•ï¼‰å¼€å§‹ï¼Œå†è¿›å…¥åˆ°homeç›®å½•ã€‚</li>
<li>/bin: /usr/bin: å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶çš„ç›®å½•ï¼Œå¦‚å¸¸ç”¨çš„å‘½ä»¤lsã€tarã€mvã€catç­‰ã€‚</li>
<li>/bootï¼šæ”¾ç½®linuxç³»ç»Ÿå¯åŠ¨æ—¶ç”¨åˆ°çš„ä¸€äº›æ–‡ä»¶ï¼Œå¦‚Linuxçš„å†…æ ¸æ–‡ä»¶ï¼š/boot/vmlinuzï¼Œç³»ç»Ÿå¼•å¯¼ç®¡ç†å™¨ï¼š/boot/grubã€‚</li>
<li>/devï¼šå­˜æ”¾linuxç³»ç»Ÿä¸‹çš„è®¾å¤‡æ–‡ä»¶ï¼Œè®¿é—®è¯¥ç›®å½•ä¸‹æŸä¸ªæ–‡ä»¶ï¼Œç›¸å½“äºè®¿é—®æŸä¸ªè®¾å¤‡ï¼Œå¸¸ç”¨çš„æ˜¯æŒ‚è½½å…‰é©± mount /dev/cdrom /mntã€‚</li>
<li>/etcï¼šç³»ç»Ÿé…ç½®æ–‡ä»¶å­˜æ”¾çš„ç›®å½•ï¼Œä¸å»ºè®®åœ¨æ­¤ç›®å½•ä¸‹å­˜æ”¾å¯æ‰§è¡Œæ–‡ä»¶ï¼Œé‡è¦çš„é…ç½®æ–‡ä»¶æœ‰ /etc/inittabã€/etc/fstabã€/etc/init.dã€/etc/X11ã€/etc/sysconfigã€/etc/xinetd.dã€‚</li>
<li>/homeï¼šç³»ç»Ÿé»˜è®¤çš„ç”¨æˆ·å®¶ç›®å½•ï¼Œæ–°å¢ç”¨æˆ·è´¦å·æ—¶ï¼Œç”¨æˆ·çš„å®¶ç›®å½•éƒ½å­˜æ”¾åœ¨æ­¤ç›®å½•ä¸‹ï¼Œ~è¡¨ç¤ºå½“å‰ç”¨æˆ·çš„å®¶ç›®å½•ï¼Œ~edu è¡¨ç¤ºç”¨æˆ· edu çš„å®¶ç›®å½•ã€‚</li>
<li>/lib: /usr/lib: /usr/local/libï¼šç³»ç»Ÿä½¿ç”¨çš„å‡½æ•°åº“çš„ç›®å½•ï¼Œç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦è°ƒç”¨ä¸€äº›é¢å¤–çš„å‚æ•°æ—¶éœ€è¦å‡½æ•°åº“çš„ååŠ©ã€‚</li>
<li>/lost+fountï¼šç³»ç»Ÿå¼‚å¸¸äº§ç”Ÿé”™è¯¯æ—¶ï¼Œä¼šå°†ä¸€äº›é—å¤±çš„ç‰‡æ®µæ”¾ç½®äºæ­¤ç›®å½•ä¸‹ã€‚</li>
<li>/mnt: /mediaï¼šå…‰ç›˜é»˜è®¤æŒ‚è½½ç‚¹ï¼Œé€šå¸¸å…‰ç›˜æŒ‚è½½äº /mnt/cdrom ä¸‹ï¼Œä¹Ÿä¸ä¸€å®šï¼Œå¯ä»¥é€‰æ‹©ä»»æ„ä½ç½®è¿›è¡ŒæŒ‚è½½ã€‚</li>
<li>/optï¼šç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€æ‘†æ”¾çš„ç›®å½•ã€‚</li>
<li>/procï¼šæ­¤ç›®å½•çš„æ•°æ®éƒ½åœ¨å†…å­˜ä¸­ï¼Œå¦‚ç³»ç»Ÿæ ¸å¿ƒï¼Œå¤–éƒ¨è®¾å¤‡ï¼Œç½‘ç»œçŠ¶æ€ï¼Œç”±äºæ•°æ®éƒ½å­˜æ”¾äºå†…å­˜ä¸­ï¼Œæ‰€ä»¥ä¸å ç”¨ç£ç›˜ç©ºé—´ï¼Œæ¯”è¾ƒé‡è¦çš„ç›®å½•æœ‰ /proc/cpuinfoã€/proc/interruptsã€/proc/dmaã€/proc/ioportsã€/proc/net/* ç­‰ã€‚</li>
<li>/rootï¼šç³»ç»Ÿç®¡ç†å‘˜rootçš„å®¶ç›®å½•ã€‚</li>
<li>/sbin: /usr/sbin: /usr/local/sbinï¼šæ”¾ç½®ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„å¯æ‰§è¡Œå‘½ä»¤ï¼Œå¦‚fdiskã€shutdownã€mount ç­‰ã€‚ä¸ /bin ä¸åŒçš„æ˜¯ï¼Œè¿™å‡ ä¸ªç›®å½•æ˜¯ç»™ç³»ç»Ÿç®¡ç†å‘˜ rootä½¿ç”¨çš„å‘½ä»¤ï¼Œä¸€èˆ¬ç”¨æˆ·åªèƒ½&quot;æŸ¥çœ‹&quot;è€Œä¸èƒ½è®¾ç½®å’Œä½¿ç”¨ã€‚</li>
<li>/tmpï¼šä¸€èˆ¬ç”¨æˆ·æˆ–æ­£åœ¨æ‰§è¡Œçš„ç¨‹åºä¸´æ—¶å­˜æ”¾æ–‡ä»¶çš„ç›®å½•ï¼Œä»»ä½•äººéƒ½å¯ä»¥è®¿é—®ï¼Œé‡è¦æ•°æ®ä¸å¯æ”¾ç½®åœ¨æ­¤ç›®å½•ä¸‹ã€‚</li>
<li>/srvï¼šæœåŠ¡å¯åŠ¨ä¹‹åéœ€è¦è®¿é—®çš„æ•°æ®ç›®å½•ï¼Œå¦‚ www æœåŠ¡éœ€è¦è®¿é—®çš„ç½‘é¡µæ•°æ®å­˜æ”¾åœ¨ /srv/www å†…ã€‚</li>
<li>/usrï¼šåº”ç”¨ç¨‹åºå­˜æ”¾ç›®å½•ï¼Œ/usr/bin å­˜æ”¾åº”ç”¨ç¨‹åºï¼Œ/usr/share å­˜æ”¾å…±äº«æ•°æ®ï¼Œ/usr/lib å­˜æ”¾ä¸èƒ½ç›´æ¥è¿è¡Œçš„ï¼Œå´æ˜¯è®¸å¤šç¨‹åºè¿è¡Œæ‰€å¿…éœ€çš„ä¸€äº›å‡½æ•°åº“æ–‡ä»¶ã€‚/usr/local: å­˜æ”¾è½¯ä»¶å‡çº§åŒ…ã€‚/usr/share/doc: ç³»ç»Ÿè¯´æ˜æ–‡ä»¶å­˜æ”¾ç›®å½•ã€‚/usr/share/man: ç¨‹åºè¯´æ˜æ–‡ä»¶å­˜æ”¾ç›®å½•ã€‚</li>
<li>/varï¼šæ”¾ç½®ç³»ç»Ÿæ‰§è¡Œè¿‡ç¨‹ä¸­ç»å¸¸å˜åŒ–çš„æ–‡ä»¶ï¼Œå¦‚éšæ—¶æ›´æ”¹çš„æ—¥å¿—æ–‡ä»¶ /var/logï¼Œ/var/log/messageï¼šæ‰€æœ‰çš„ç™»å½•æ–‡ä»¶å­˜æ”¾ç›®å½•ï¼Œ/var/spool/mailï¼šé‚®ä»¶å­˜æ”¾çš„ç›®å½•ï¼Œ/var/run:ç¨‹åºæˆ–æœåŠ¡å¯åŠ¨åï¼Œå…¶PIDå­˜æ”¾åœ¨è¯¥ç›®å½•ä¸‹ã€‚</li>
</ul>

<h2 id="toc_2">ç”¨æˆ·ç›®å½•</h2>

<p>ä½äº/home/userï¼Œç§°ä¹‹ä¸ºç”¨æˆ·å·¥ä½œç›®å½•æˆ–å®¶ç›®å½•,è¡¨ç¤ºæ–¹å¼ï¼š</p>

<pre><code>/home/user
~

</code></pre>

<h3 id="toc_3">ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„</h3>

<h4 id="toc_4">ç»å¯¹è·¯å¾„</h4>

<p>ä»/ç›®å½•å¼€å§‹æè¿°çš„è·¯å¾„ä¸ºç»å¯¹è·¯å¾„ï¼Œå¦‚ï¼š</p>

<pre><code>cd /home
ls /usr

</code></pre>

<h4 id="toc_5">ç›¸å¯¹è·¯å¾„</h4>

<p>ä»å½“å‰ä½ç½®å¼€å§‹æè¿°çš„è·¯å¾„ä¸ºç›¸å¯¹è·¯å¾„ï¼Œå¦‚ï¼š</p>

<pre><code>cd ../../
ls abc/def

</code></pre>

<h4 id="toc_6">.å’Œ..</h4>

<p>æ¯ä¸ªç›®å½•ä¸‹éƒ½æœ‰.å’Œ..</p>

<p>. è¡¨ç¤ºå½“å‰ç›®å½•</p>

<p>.. è¡¨ç¤ºä¸Šä¸€çº§ç›®å½•ï¼Œå³çˆ¶ç›®å½•</p>

<p>æ ¹ç›®å½•ä¸‹çš„.å’Œ..éƒ½è¡¨ç¤ºå½“å‰ç›®å½•</p>

<h2 id="toc_7">æ–‡ä»¶æƒé™</h2>

<p>æ–‡ä»¶æƒé™å°±æ˜¯æ–‡ä»¶çš„è®¿é—®æ§åˆ¶æƒé™ï¼Œå³å“ªäº›ç”¨æˆ·å’Œç»„ç¾¤å¯ä»¥è®¿é—®æ–‡ä»¶ä»¥åŠå¯ä»¥æ‰§è¡Œä»€ä¹ˆæ ·çš„æ“ä½œã€‚</p>

<p>Unix/Linuxç³»ç»Ÿæ˜¯ä¸€ä¸ªå…¸å‹çš„å¤šç”¨æˆ·ç³»ç»Ÿï¼Œä¸åŒçš„ç”¨æˆ·å¤„äºä¸åŒçš„åœ°ä½ï¼Œå¯¹æ–‡ä»¶å’Œç›®å½•æœ‰ä¸åŒçš„è®¿é—®æƒé™ã€‚ä¸ºäº†ä¿æŠ¤ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼ŒUnix/Linuxç³»ç»Ÿé™¤äº†å¯¹ç”¨æˆ·æƒé™ä½œäº†ä¸¥æ ¼çš„ç•Œå®šå¤–ï¼Œè¿˜åœ¨ç”¨æˆ·èº«ä»½è®¤è¯ã€è®¿é—®æ§åˆ¶ã€ä¼ è¾“å®‰å…¨ã€æ–‡ä»¶è¯»å†™æƒé™ç­‰æ–¹é¢ä½œäº†å‘¨å¯†çš„æ§åˆ¶ã€‚</p>

<p>åœ¨ Unix/Linuxä¸­çš„æ¯ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•éƒ½åŒ…å«æœ‰è®¿é—®æƒé™ï¼Œè¿™äº›è®¿é—®æƒé™å†³å®šäº†è°èƒ½è®¿é—®å’Œå¦‚ä½•è®¿é—®è¿™äº›æ–‡ä»¶å’Œç›®å½•ã€‚</p>

<h3 id="toc_8">è®¿é—®ç”¨æˆ·</h3>

<p>é€šè¿‡è®¾å®šæƒé™å¯ä»¥ä»ä»¥ä¸‹ä¸‰ç§è®¿é—®æ–¹å¼é™åˆ¶è®¿é—®æƒé™ï¼š</p>

<ul>
<li><p>åªå…è®¸ç”¨æˆ·è‡ªå·±è®¿é—®ï¼ˆæ‰€æœ‰è€…ï¼‰ æ‰€æœ‰è€…å°±æ˜¯åˆ›å»ºæ–‡ä»¶çš„ç”¨æˆ·ï¼Œç”¨æˆ·æ˜¯æ‰€æœ‰ç”¨æˆ·æ‰€åˆ›å»ºæ–‡ä»¶çš„æ‰€æœ‰è€…ï¼Œç”¨æˆ·å¯ä»¥å…è®¸æ‰€åœ¨çš„ç”¨æˆ·ç»„èƒ½è®¿é—®ç”¨æˆ·çš„æ–‡ä»¶ã€‚</p></li>
<li><p>å…è®¸ä¸€ä¸ªé¢„å…ˆæŒ‡å®šçš„ç”¨æˆ·ç»„ä¸­çš„ç”¨æˆ·è®¿é—®ï¼ˆç”¨æˆ·ç»„ï¼‰ ç”¨æˆ·éƒ½ç»„åˆæˆç”¨æˆ·ç»„ï¼Œä¾‹å¦‚ï¼ŒæŸä¸€ç±»æˆ–æŸä¸€é¡¹ç›®ä¸­çš„æ‰€æœ‰ç”¨æˆ·éƒ½èƒ½å¤Ÿè¢«ç³»ç»Ÿç®¡ç†å‘˜å½’ä¸ºä¸€ä¸ªç”¨æˆ·ç»„ï¼Œä¸€ä¸ªç”¨æˆ·èƒ½å¤Ÿæˆäºˆæ‰€åœ¨ç”¨æˆ·ç»„çš„å…¶ä»–æˆå‘˜çš„æ–‡ä»¶è®¿é—®æƒé™ã€‚</p></li>
<li><p>å…è®¸ç³»ç»Ÿä¸­çš„ä»»ä½•ç”¨æˆ·è®¿é—®ï¼ˆå…¶ä»–ç”¨æˆ·ï¼‰ ç”¨æˆ·ä¹Ÿå°†è‡ªå·±çš„æ–‡ä»¶å‘ç³»ç»Ÿå†…çš„æ‰€æœ‰ç”¨æˆ·å¼€æ”¾ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç³»ç»Ÿå†…çš„æ‰€æœ‰ç”¨æˆ·éƒ½èƒ½å¤Ÿè®¿é—®ç”¨æˆ·çš„ç›®å½•æˆ–æ–‡ä»¶ã€‚åœ¨è¿™ç§æ„ä¹‰ä¸Šï¼Œç³»ç»Ÿå†…çš„å…¶ä»–æ‰€æœ‰ç”¨æˆ·å°±æ˜¯ other ç”¨æˆ·ç±»</p></li>
</ul>

<p>è¿™æœ‰ç‚¹ç±»ä¼¼äº QQ ç©ºé—´çš„è®¿é—®æƒé™ï¼š<br/>
<img src="media/14954377078014/14954384555256.jpg" alt=""/></p>

<ul>
<li>è¿™ä¸ª QQ ç©ºé—´æ˜¯å±äºæˆ‘çš„ï¼Œæˆ‘ç›¸å½“äºç®¡ç†è€…ï¼ˆä¹Ÿå°±æ˜¯â€œæ‰€æœ‰è€…â€ï¼‰ï¼Œæˆ‘æƒ³æ€ä¹ˆè®¿é—®å°±æ€ä¹ˆè®¿é—®ã€‚</li>
<li>åŒæ—¶ï¼Œæˆ‘å¯ä»¥è®¾ç½®å…è®¸ QQ å¥½å‹è®¿é—®ï¼Œè€Œè¿™äº› QQ å¥½å‹åˆ™ç±»ä¼¼äºâ€œç”¨æˆ·ç»„â€ã€‚</li>
<li>å½“ç„¶ï¼Œæˆ‘å¯ä»¥å…è®¸æ‰€æœ‰äººè®¿é—®ï¼Œè¿™é‡Œçš„æ‰€æœ‰äººåˆ™ç±»ä¼¼äºâ€œå…¶ä»–ç”¨æˆ·â€ã€‚</li>
</ul>

<h3 id="toc_9">è®¿é—®æƒé™</h3>

<p>ç”¨æˆ·èƒ½å¤Ÿæ§åˆ¶ä¸€ä¸ªç»™å®šçš„æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®ç¨‹åº¦ï¼Œä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•å¯èƒ½æœ‰è¯»ã€å†™åŠæ‰§è¡Œæƒé™ï¼š</p>

<ul>
<li>è¯»æƒé™ï¼ˆrï¼‰ å¯¹æ–‡ä»¶è€Œè¨€ï¼Œå…·æœ‰è¯»å–æ–‡ä»¶å†…å®¹çš„æƒé™ï¼›å¯¹ç›®å½•æ¥è¯´ï¼Œå…·æœ‰æµè§ˆç›®å½•çš„æƒé™ã€‚</li>
<li>å†™æƒé™ï¼ˆwï¼‰ å¯¹æ–‡ä»¶è€Œè¨€ï¼Œå…·æœ‰æ–°å¢ã€ä¿®æ”¹æ–‡ä»¶å†…å®¹çš„æƒé™ï¼›å¯¹ç›®å½•æ¥è¯´ï¼Œå…·æœ‰åˆ é™¤ã€ç§»åŠ¨ç›®å½•å†…æ–‡ä»¶çš„æƒé™ã€‚</li>
<li>å¯æ‰§è¡Œæƒé™ï¼ˆxï¼‰ å¯¹æ–‡ä»¶è€Œè¨€ï¼Œå…·æœ‰æ‰§è¡Œæ–‡ä»¶çš„æƒé™ï¼›å¯¹ç›®å½•äº†æ¥è¯´è¯¥ç”¨æˆ·å…·æœ‰è¿›å…¥ç›®å½•çš„æƒé™ã€‚</li>
</ul>

<p>æ³¨æ„ï¼šé€šå¸¸ï¼ŒUnix/Linuxç³»ç»Ÿåªå…è®¸æ–‡ä»¶çš„å±ä¸»(æ‰€æœ‰è€…)æˆ–è¶…çº§ç”¨æˆ·æ”¹å˜æ–‡ä»¶çš„è¯»å†™æƒé™ã€‚</p>

<h3 id="toc_10">ç¤ºä¾‹è¯´æ˜</h3>

<p><img src="media/14954377078014/14954394260837.jpg" alt=""/><br/>
(å›¾ä¸­  ç”¨æˆ·æ”¹ä¸º ç”¨æˆ·ç»„)</p>

<p>ç¬¬1ä¸ªå­—æ¯ä»£è¡¨æ–‡ä»¶çš„ç±»å‹ï¼šâ€œdâ€ ä»£è¡¨æ–‡ä»¶å¤¹ã€â€œ-â€ ä»£è¡¨æ™®é€šæ–‡ä»¶ã€â€œcâ€ ä»£è¡¨ç¡¬ä»¶å­—ç¬¦è®¾å¤‡ã€â€œbâ€ ä»£è¡¨ç¡¬ä»¶å—è®¾å¤‡ã€â€œsâ€è¡¨ç¤ºç®¡é“æ–‡ä»¶ã€â€œlâ€ ä»£è¡¨è½¯é“¾æ¥æ–‡ä»¶ã€‚ å 9 ä¸ªå­—æ¯åˆ†åˆ«ä»£è¡¨ä¸‰ç»„æƒé™ï¼šæ–‡ä»¶æ‰€æœ‰è€…ã€ç”¨æˆ·è€…ã€å…¶ä»–ç”¨æˆ·æ‹¥æœ‰çš„æƒé™ã€‚</p>

<p>æ¯ä¸€ä¸ªç”¨æˆ·éƒ½æœ‰å®ƒè‡ªèº«çš„è¯»ã€å†™å’Œæ‰§è¡Œæƒé™ã€‚</p>

<ul>
<li>ç¬¬ä¸€ç»„æƒé™æ§åˆ¶è®¿é—®è‡ªå·±çš„æ–‡ä»¶æƒé™ï¼Œå³æ‰€æœ‰è€…æƒé™ã€‚</li>
<li>ç¬¬äºŒç»„æƒé™æ§åˆ¶ç”¨æˆ·ç»„è®¿é—®å…¶ä¸­ä¸€ä¸ªç”¨æˆ·çš„æ–‡ä»¶çš„æƒé™ã€‚</li>
<li>ç¬¬ä¸‰ç»„æƒé™æ§åˆ¶å…¶ä»–æ‰€æœ‰ç”¨æˆ·è®¿é—®ä¸€ä¸ªç”¨æˆ·çš„æ–‡ä»¶çš„æƒé™ã€‚</li>
</ul>

<p>è¿™ä¸‰ç»„æƒé™èµ‹äºˆç”¨æˆ·ä¸åŒç±»å‹ï¼ˆå³æ‰€æœ‰è€…ã€ç”¨æˆ·ç»„å’Œå…¶ä»–ç”¨æˆ·ï¼‰çš„è¯»ã€å†™åŠæ‰§è¡Œæƒé™å°±æ„æˆäº†ä¸€ä¸ªæœ‰9ç§ç±»å‹çš„æƒé™ç»„ã€‚</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[é¡¹ç›®ä¼˜åŒ–è®°å½•]]></title>
    <link href="http://www.citynight.cn/Blog/14919624884376.html"/>
    <updated>2017-04-12T10:01:28+08:00</updated>
    <id>http://www.citynight.cn/Blog/14919624884376.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">é¦–é¡µæ˜¾ç¤º</h2>

<p>é‡ç‚¹: æ•°æ®å¤„ç†æ”¾åœ¨è·å–æ•°æ®çš„æ—¶å€™,å°½ç®¡è¿™æ ·æ•°æ®ä¸ä¼šå®æ—¶æ›´æ–°,ä½†æ˜¯ä¿è¯äº†æ•°æ®æ˜¾ç¤ºçš„é€Ÿåº¦.<br/>
å…³äºCache, ç›®å‰ä½¿ç”¨æ•°æ®åº“.å…³äºå¼‚æ­¥è®¿é—®è¦ç”¨ <code>safeAsync</code></p>

<pre><code>extension DispatchQueue {
    // This method will dispatch the `block` to self.
    // If `self` is the main queue, and current thread is main thread, the block
    // will be invoked immediately instead of being dispatched.
    func safeAsync(_ block: @escaping ()-&gt;()) {
        if self === DispatchQueue.main &amp;&amp; Thread.isMainThread {
            block()
        } else {
            async { block() }
        }
    }
}
</code></pre>

<h2 id="toc_1">Topbar ç§»é™¤</h2>

<p>è¿™ä¸ªåŸæœ‰çš„å¯¼èˆªå¯¹é¡¹ç›®å…¥ä¾µå¤ªæ·±,å·²ç»å¿æ— å¯å¿äº†&hellip;è¿™å‘¨ç»ˆäºä¸‹å†³å¿ƒç§»é™¤å®ƒç”¨åŸç”Ÿçš„å¯¼èˆªæ å’Œè‡ªå®šä¹‰è§†å›¾ä»£æ›¿å¥¹..è¿›å±•éå¸¸é¡ºåˆ©.å†™äº†ä¸€å¤©è‡ªå®šä¹‰æ§ä»¶,ç„¶åè®©å¤§å®¶å„è‡ªæŠŠè‡ªå·±çš„æ§åˆ¶è¿‡æ»¤ä¸€é.æ€»è€—æ—¶,æˆ‘è‡ªå·±ä¸€å¤©,å…¶ä»–åŒäº‹ä¸åˆ°1ä¸ªå°æ—¶.è¿˜æ˜¯éå¸¸é¡ºåˆ©çš„.ç”¨æ¯”è¾ƒå°‘çš„æ—¶é—´å®Œæˆäº†é¡¹ç›®ä¸­çš„æ¯’ç˜¤.</p>

<h2 id="toc_2">ä¸‹æ‹‰åˆ·æ–°å°è£…</h2>

<p>è€ç‰ˆæœ¬ä½¿ç”¨çš„æ˜¯<code>MJRefresh</code> ä½†æ˜¯éœ€è¦å®šåˆ¶, åœ¨è€é¡¹ç›®ä¸­æˆ‘æ˜¯é€šè¿‡ç»§æ‰¿å®Œæˆçš„åŠŸèƒ½ä¿®æ”¹,è¿™æ ·åšçš„åŸå› æ˜¯è€é¡¹ç›®æ˜¯OCå’ŒSwiftæ··ç¼–çš„,è€Œä¸”éƒ½æ˜¯æŠŠç¬¬ä¸‰æ–¹åº“æºæ–‡ä»¶æ‹–åˆ°é¡¹ç›®ä¸­çš„æ–¹å¼è¿›è¡Œçš„. åœ¨é‡æ„çš„æ—¶å€™æˆ‘æŠŠç¬¬ä¸‰æ–¹åº“æ”¾åˆ°äº†å…¬å¸çš„gitä¸Š,ç„¶åæ›´æ”¹æºç .å†æ‰“åŒ…æˆæˆåº“è°ƒç”¨.</p>

<h2 id="toc_3">å…³äºæ—¶é—´æ¯”è¾ƒ</h2>

<p>æ–°é¡¹ç›®ä¸­å­˜åœ¨ä¸€ä¸ªåŠŸèƒ½æ¯”å¦‚ <code>10:00:00</code> åˆ° <code>11:59:59</code> ç®—æ—©å¸‚,éœ€è¦åˆ¤æ–­å½“å‰æ—¶é—´æ˜¯å¦æ˜¯æ—©å¸‚. ä¸€ç§æ›´æ–¹ä¾¿çš„å¤„ç†æ–¹å¼:</p>

<p>æ—¶é—´æ ¼å¼ <code>HH:mm:ss</code> ä¸€å…±6ä½æ•°å­—,æˆ‘ä»¬å¯ä»¥å»æ‰ä¸­é—´çš„<code>:</code>,è¿™æ ·æ—¶é—´å°±æ˜¯ä¸€ä¸ªæ•´æ•°äº†,ç„¶åä¸‰ä¸ªæ•´æ•°ä¹‹é—´è¿›è¡Œæ¯”è¾ƒæ¯” å…ˆæ¯”å°æ—¶å†æ¯”åˆ†é’Ÿæœ€åæ¯”ç§’æ•°è¦æ–¹ä¾¿å¾ˆå¤š.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Swift - å…³äºä¿¡å·é‡]]></title>
    <link href="http://www.citynight.cn/Blog/14916349354566.html"/>
    <updated>2017-04-08T15:02:15+08:00</updated>
    <id>http://www.citynight.cn/Blog/14916349354566.html</id>
    <content type="html"><![CDATA[
<p>ä¿¡å·é‡çš„ä½¿ç”¨</p>

<p><img src="media/14916349354566/%E4%BF%A1%E5%8F%B7%E9%87%8F.gif" alt="ä¿¡å·é‡"/></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[è®¾è®¡æ¨¡å¼ è¯»ä¹¦ç¬”è®°]]></title>
    <link href="http://www.citynight.cn/Blog/14907835920803.html"/>
    <updated>2017-03-29T18:33:12+08:00</updated>
    <id>http://www.citynight.cn/Blog/14907835920803.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">å•ä¸€èŒè´£åŸåˆ™(Single Responsibility Principe ç®€ç§°SRP)</h2>

<blockquote>
<p>å®šä¹‰: åº”è¯¥æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªåŸå› å¼•èµ·ç±»çš„å˜æ›´.. </p>
</blockquote>

<h3 id="toc_1">å¯¹èŒè´£çš„å®šä¹‰,ä»€ä¹ˆæ˜¯ç±»çš„èŒè´£,ä»¥åŠæ€ä¹ˆåˆ’åˆ†ç±»çš„èŒè´£.</h3>

<p>å›¾ä¹¦ä¸­ &lt;å›¾1-1ç”¨æˆ·ä¿¡æ¯IUserInfoä½å›¾ç±»å›¾&gt; ä¸­è®¾è®¡çš„æœ‰é—®é¢˜:<br/>
ç”¨æˆ·çš„å±æ€§å’Œç”¨æˆ·çš„è¡Œä¸ºæ²¡æœ‰åˆ†å¼€,è¿™æ˜¯ä¸€ä¸ªä¸¥é‡çš„é”™è¯¯.. åº”è¯¥æŠŠç”¨æˆ·çš„ä¿¡æ¯æŠ½å–æˆä¸€ä¸ªBO(Bussiness Object,ä¸šåŠ¡å¯¹è±¡),æŠŠè¡Œä¸ºæŠ½å–æˆä¸€ä¸ªBiz(Bussiness Logic,ä¸šåŠ¡é€»è¾‘)</p>

<p>é‡æ–°æ‹†å°æˆä¸¤ä¸ªæ¥å£. IUserBO è´Ÿè´£ç”¨æˆ·çš„å±æ€§,ç®€å•çš„è¯´å°±æ˜¯æ”¶é›†å’Œåé¦ˆç”¨æˆ·çš„å±æ€§ä¿¡æ¯.IUserBizè´Ÿè´£ç”¨æˆ·çš„è¡Œä¸º,å®Œæˆç”¨æˆ·ä¿¡æ¯çš„ç»´æŠ¤å’Œå˜æ›´.</p>

<h3 id="toc_2">å¥½å¤„</h3>

<ol>
<li>ç±»çš„å¤æ‚æ€§é™ä½.å®ç°ä»€ä¹ˆèŒè´£éƒ½æœ‰æ¸…æ™°æ˜ç¡®çš„å®šä¹‰äº†;</li>
<li>å¯è¯»æ€§æé«˜.å¤æ‚æ€§é™ä½,å½“ç„¶å¯è¯»æ€§æé«˜äº†;</li>
<li>å¯ç»´æŠ¤æ€§æé«˜.å¯è¯»æ€§æé«˜,é‚£å½“ç„¶æ›´å®¹æ˜“ç»´æŠ¤äº†;</li>
<li>å˜æ›´å¼•èµ·çš„é£é™©é™ä½,å˜æ›´æ—¶å¿…ä¸å¯å°‘çš„.å¦‚æœæ¥å£çš„å•ä¸€èŒè´£åšçš„å¥½,ä¸€ä¸ªæ¥å£çš„ä¿®æ”¹åªå¯¹ç›¸åº”çš„å®ç°ç±»æœ‰å½±å“,å¯¹å…¶ä»–çš„æ¥å£æ— å½±å“,è¿™å¯¹ç³»ç»Ÿçš„æ‰©å±•æ€§å’Œç»´æŠ¤æ€§éƒ½æœ‰éå¸¸å¤§çš„å¸®åŠ©.</li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mac zsh ä½¿ç”¨å‘½ä»¤æ‰“å¼€sublime]]></title>
    <link href="http://www.citynight.cn/Blog/14907559721950.html"/>
    <updated>2017-03-29T10:52:52+08:00</updated>
    <id>http://www.citynight.cn/Blog/14907559721950.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">1/æ·»åŠ </h2>

<p><code>vim .zshrc</code></p>

<p>æ·»åŠ  <br/>
 <code>alias subl=&quot;open -a Sublime\ Text&quot;</code>ï¼ˆå¦‚æœä½ æ˜¯Sublime Text ï¼‰<br/>
  æˆ–è€…<br/>
<code>alias subl=&quot;open -a Sublime\ Text\ 2&quot;</code> ï¼ˆå¦‚æœä½ æ˜¯Sublime Text 2ï¼‰</p>

<h2 id="toc_1">2/ç”Ÿæ•ˆ</h2>

<p><code>source ~/.zshrc</code></p>

<h2 id="toc_2">3/æµ‹è¯•</h2>

<p>åœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼š<br/>
    <code>subl</code>     å°±å¯ä»¥æ‰“å¼€sublime</p>

<p>è¾“å…¥ï¼š<br/>
    <code>subl test.txt</code> å°±å¯ä»¥æ‰“å¼€æ–‡ä»¶</p>

]]></content>
  </entry>
  
</feed>
