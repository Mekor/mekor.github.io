<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[æå°äº‰]]></title>
  <link href="http://www.citynight.cn/Blog/atom.xml" rel="self"/>
  <link href="http://www.citynight.cn/Blog/"/>
  <updated>2017-04-08T15:06:01+08:00</updated>
  <id>http://www.citynight.cn/Blog/</id>
  <author>
    <name><![CDATA[]]></name>
    
  </author>
  <generator uri="http://www.mweb.im">MWeb</generator>

  
  <entry>
    <title type="html"><![CDATA[Swift - å…³äºä¿¡å·é‡]]></title>
    <link href="http://www.citynight.cn/Blog/14916349354566.html"/>
    <updated>2017-04-08T15:02:15+08:00</updated>
    <id>http://www.citynight.cn/Blog/14916349354566.html</id>
    <content type="html"><![CDATA[
<p>ä¿¡å·é‡çš„ä½¿ç”¨</p>

<p><img src="media/14916349354566/%E4%BF%A1%E5%8F%B7%E9%87%8F.gif" alt="ä¿¡å·é‡"/></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[è®¾è®¡æ¨¡å¼ è¯»ä¹¦ç¬”è®°]]></title>
    <link href="http://www.citynight.cn/Blog/14907835920803.html"/>
    <updated>2017-03-29T18:33:12+08:00</updated>
    <id>http://www.citynight.cn/Blog/14907835920803.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">å•ä¸€èŒè´£åŸåˆ™(Single Responsibility Principe ç®€ç§°SRP)</h2>

<blockquote>
<p>å®šä¹‰: åº”è¯¥æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªåŸå› å¼•èµ·ç±»çš„å˜æ›´.. </p>
</blockquote>

<h3 id="toc_1">å¯¹èŒè´£çš„å®šä¹‰,ä»€ä¹ˆæ˜¯ç±»çš„èŒè´£,ä»¥åŠæ€ä¹ˆåˆ’åˆ†ç±»çš„èŒè´£.</h3>

<p>å›¾ä¹¦ä¸­ &lt;å›¾1-1ç”¨æˆ·ä¿¡æ¯IUserInfoä½å›¾ç±»å›¾&gt; ä¸­è®¾è®¡çš„æœ‰é—®é¢˜:<br/>
ç”¨æˆ·çš„å±æ€§å’Œç”¨æˆ·çš„è¡Œä¸ºæ²¡æœ‰åˆ†å¼€,è¿™æ˜¯ä¸€ä¸ªä¸¥é‡çš„é”™è¯¯.. åº”è¯¥æŠŠç”¨æˆ·çš„ä¿¡æ¯æŠ½å–æˆä¸€ä¸ªBO(Bussiness Object,ä¸šåŠ¡å¯¹è±¡),æŠŠè¡Œä¸ºæŠ½å–æˆä¸€ä¸ªBiz(Bussiness Logic,ä¸šåŠ¡é€»è¾‘)</p>

<p>é‡æ–°æ‹†å°æˆä¸¤ä¸ªæ¥å£. IUserBO è´Ÿè´£ç”¨æˆ·çš„å±æ€§,ç®€å•çš„è¯´å°±æ˜¯æ”¶é›†å’Œåé¦ˆç”¨æˆ·çš„å±æ€§ä¿¡æ¯.IUserBizè´Ÿè´£ç”¨æˆ·çš„è¡Œä¸º,å®Œæˆç”¨æˆ·ä¿¡æ¯çš„ç»´æŠ¤å’Œå˜æ›´.</p>

<h3 id="toc_2">å¥½å¤„</h3>

<ol>
<li>ç±»çš„å¤æ‚æ€§é™ä½.å®ç°ä»€ä¹ˆèŒè´£éƒ½æœ‰æ¸…æ™°æ˜ç¡®çš„å®šä¹‰äº†;</li>
<li>å¯è¯»æ€§æé«˜.å¤æ‚æ€§é™ä½,å½“ç„¶å¯è¯»æ€§æé«˜äº†;</li>
<li>å¯ç»´æŠ¤æ€§æé«˜.å¯è¯»æ€§æé«˜,é‚£å½“ç„¶æ›´å®¹æ˜“ç»´æŠ¤äº†;</li>
<li>å˜æ›´å¼•èµ·çš„é£é™©é™ä½,å˜æ›´æ—¶å¿…ä¸å¯å°‘çš„.å¦‚æœæ¥å£çš„å•ä¸€èŒè´£åšçš„å¥½,ä¸€ä¸ªæ¥å£çš„ä¿®æ”¹åªå¯¹ç›¸åº”çš„å®ç°ç±»æœ‰å½±å“,å¯¹å…¶ä»–çš„æ¥å£æ— å½±å“,è¿™å¯¹ç³»ç»Ÿçš„æ‰©å±•æ€§å’Œç»´æŠ¤æ€§éƒ½æœ‰éå¸¸å¤§çš„å¸®åŠ©.</li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mac zsh ä½¿ç”¨å‘½ä»¤æ‰“å¼€sublime]]></title>
    <link href="http://www.citynight.cn/Blog/14907559721950.html"/>
    <updated>2017-03-29T10:52:52+08:00</updated>
    <id>http://www.citynight.cn/Blog/14907559721950.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">1/æ·»åŠ </h2>

<p><code>vim .zshrc</code></p>

<p>æ·»åŠ  <br/>
 <code>alias subl=&quot;open -a Sublime\ Text&quot;</code>ï¼ˆå¦‚æœä½ æ˜¯Sublime Text ï¼‰<br/>
  æˆ–è€…<br/>
<code>alias subl=&quot;open -a Sublime\ Text\ 2&quot;</code> ï¼ˆå¦‚æœä½ æ˜¯Sublime Text 2ï¼‰</p>

<h2 id="toc_1">2/ç”Ÿæ•ˆ</h2>

<p><code>source ~/.zshrc</code></p>

<h2 id="toc_2">3/æµ‹è¯•</h2>

<p>åœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼š<br/>
    <code>subl</code>     å°±å¯ä»¥æ‰“å¼€sublime</p>

<p>è¾“å…¥ï¼š<br/>
    <code>subl test.txt</code> å°±å¯ä»¥æ‰“å¼€æ–‡ä»¶</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Swift - æœ€è¿‘é‡åˆ°çš„é—®é¢˜(3.8)]]></title>
    <link href="http://www.citynight.cn/Blog/14888974267202.html"/>
    <updated>2017-03-07T22:37:06+08:00</updated>
    <id>http://www.citynight.cn/Blog/14888974267202.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">æŠŠå‡½æ•°åå½“å‚æ•°ä¼ é€’ä¸é‡Šæ”¾</h2>

<p>æ§åˆ¶å™¨A æœ‰ä¸€ä¸ªå‡½æ•° func  æœ‰ä¸€ä¸ªè§†å›¾ View ,å¦‚æœæ§åˆ¶å™¨A æŠŠå‡½æ•° func ä¼ é€’ç»™ View é‚£ä¹ˆ æ§åˆ¶å™¨ä¸é‡Šæ”¾</p>

<h2 id="toc_1">*** Assertion failure in -[UITableView dequeueReusableCellWithIdentifier:forIndexPath:]</h2>

<p>äº§ç”ŸåŸå› : åŒä¸€ä¸ªæ§åˆ¶å™¨,é‡Œé¢æœ‰ä¸€ä¸ªä»£ç æ·»åŠ çš„tableView,ç„¶åè¿™ä¸ªæ§åˆ¶å™¨åˆæ·»åŠ äº†ä¸€ä¸ªxibè§†å›¾,xibè§†å›¾ä¸­æœ‰tableView,å¹¶ä¸”è®¾ç½®tableViewçš„æ•°æ®æºå’Œä»£ç†æ–¹æ³•ä¸ºfilesowner,å¯¼è‡´å´©æºƒ.  </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[æ•°ç»„ä¼ é€’]]></title>
    <link href="http://www.citynight.cn/Blog/14878335740172.html"/>
    <updated>2017-02-23T15:06:14+08:00</updated>
    <id>http://www.citynight.cn/Blog/14878335740172.html</id>
    <content type="html"><![CDATA[
<p>æŠŠAæ§åˆ¶å™¨ä¸­çš„æ•°ç»„ ä¼ é€’ç»™ B  ,ç„¶å B å†æŠŠæ•°æ®ä¼ é€’ç»™ C <br/>
è¿™æ—¶å¦‚æœ Aä¸­æ•°ç»„è¿›è¡Œäº†ä¿®æ”¹,é‚£ä¹ˆ C ä¸­æ•°æ®ä¹Ÿä¼šä¿®æ”¹</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[synchronized(object)]]></title>
    <link href="http://www.citynight.cn/Blog/14877545165696.html"/>
    <updated>2017-02-22T17:08:36+08:00</updated>
    <id>http://www.citynight.cn/Blog/14877545165696.html</id>
    <content type="html"><![CDATA[
<blockquote>
<p>synchronizedå…³é”®å­—ä»£è¡¨è¿™ä¸ªæ–¹æ³•åŠ é”,ç›¸å½“äºä¸ç®¡å“ªä¸€ä¸ªçº¿ ç¨‹Aæ¯æ¬¡è¿è¡Œåˆ°è¿™ä¸ªæ³•æ—¶,éƒ½è¦æ£€æŸ¥æœ‰æ²¡æœ‰å…¶å®ƒæ­£åœ¨ç”¨è¿™ä¸ªæ–¹æ³•çš„çº¿ç¨‹Bï¼ˆæˆ–è€…C Dç­‰ï¼‰,æœ‰çš„è¯è¦ç­‰æ­£åœ¨ä½¿ç”¨è¿™ä¸ªæ–¹æ³•çš„çº¿ç¨‹Bï¼ˆæˆ–è€…C Dï¼‰è¿è¡Œå®Œè¿™ä¸ªæ–¹æ³•åå†è¿è¡Œæ­¤çº¿ç¨‹A,æ²¡æœ‰çš„è¯,ç›´æ¥è¿è¡Œ å®ƒåŒ…æ‹¬ä¸¤ç§ç”¨æ³•ï¼šsynchronized æ–¹æ³•å’Œ synchronized å—ã€‚</p>
</blockquote>

<h2 id="toc_0">1. synchronized æ–¹æ³•ï¼š</h2>

<p>é€šè¿‡åœ¨æ–¹æ³•å£°æ˜ä¸­åŠ å…¥ synchronizedå…³é”®å­—æ¥å£°æ˜ synchronized æ–¹æ³•ã€‚å¦‚ï¼š <br/>
ã€€ã€€<code>public synchronized void accessVal(int newVal);</code><br/>
ã€€ã€€synchronized æ–¹æ³•æ§åˆ¶å¯¹ç±»æˆå‘˜å˜é‡çš„è®¿é—®ï¼šæ¯ä¸ªç±»å®ä¾‹å¯¹åº”ä¸€æŠŠé”ï¼Œæ¯ä¸ª synchronized æ–¹æ³•éƒ½å¿…é¡»è·å¾—è°ƒç”¨è¯¥æ–¹æ³•çš„ç±»å®ä¾‹çš„é”æ–¹èƒ½æ‰§è¡Œï¼Œå¦åˆ™æ‰€å±çº¿ç¨‹é˜»å¡ï¼Œæ–¹æ³•ä¸€æ—¦æ‰§è¡Œï¼Œå°±ç‹¬å è¯¥é”ï¼Œç›´åˆ°ä»è¯¥æ–¹æ³•è¿”å›æ—¶æ‰å°†é”é‡Šæ”¾ï¼Œæ­¤åè¢«é˜»å¡çš„çº¿ç¨‹æ–¹èƒ½è·å¾— è¯¥é”ï¼Œé‡æ–°è¿›å…¥å¯æ‰§è¡ŒçŠ¶æ€ã€‚è¿™ç§æœºåˆ¶ç¡®ä¿äº†åŒä¸€æ—¶åˆ»å¯¹äºæ¯ä¸€ä¸ªç±»å®ä¾‹ï¼Œå…¶æ‰€æœ‰å£°æ˜ä¸º synchronized çš„æˆå‘˜å‡½æ•°ä¸­è‡³å¤šåªæœ‰ä¸€ä¸ªå¤„äºå¯æ‰§è¡ŒçŠ¶æ€ï¼ˆå› ä¸ºè‡³å¤šåªæœ‰ä¸€ä¸ªèƒ½å¤Ÿè·å¾—è¯¥ç±»å®ä¾‹å¯¹åº”çš„é”ï¼‰ï¼Œä»è€Œæœ‰æ•ˆé¿å…äº†ç±»æˆå‘˜å˜é‡çš„è®¿é—®å†²çªï¼ˆåªè¦æ‰€æœ‰å¯èƒ½è®¿é—®ç±»æˆå‘˜å˜ é‡çš„æ–¹æ³•å‡è¢«å£°æ˜ä¸º synchronizedï¼‰ã€‚ <br/>
ã€€ã€€åœ¨ Java ä¸­ï¼Œä¸å…‰æ˜¯ç±»å®ä¾‹ï¼Œæ¯ä¸€ä¸ªç±»ä¹Ÿå¯¹åº”ä¸€æŠŠé”ï¼Œè¿™æ ·æˆ‘ä»¬ä¹Ÿå¯å°†ç±»çš„é™æ€æˆå‘˜å‡½æ•°å£°æ˜ä¸º synchronized ï¼Œä»¥æ§åˆ¶å…¶å¯¹ç±»çš„é™æ€æˆå‘˜å˜é‡çš„è®¿é—®ã€‚ <br/>
ã€€ã€€synchronized æ–¹æ³•çš„ç¼ºé™·ï¼šè‹¥å°†ä¸€ä¸ªå¤§çš„æ–¹æ³•å£°æ˜ä¸ºsynchronized å°†ä¼šå¤§å¤§å½±å“æ•ˆç‡ï¼Œå…¸å‹åœ°ï¼Œè‹¥å°†çº¿ç¨‹ç±»çš„æ–¹æ³• run() å£°æ˜ä¸º synchronized ï¼Œç”±äºåœ¨çº¿ç¨‹çš„æ•´ä¸ªç”Ÿå‘½æœŸå†…å®ƒä¸€ç›´åœ¨è¿è¡Œï¼Œå› æ­¤å°†å¯¼è‡´å®ƒå¯¹æœ¬ç±»ä»»ä½• synchronized æ–¹æ³•çš„è°ƒç”¨éƒ½æ°¸è¿œä¸ä¼šæˆåŠŸã€‚å½“ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†è®¿é—®ç±»æˆå‘˜å˜é‡çš„ä»£ç æ”¾åˆ°ä¸“é—¨çš„æ–¹æ³•ä¸­ï¼Œå°†å…¶å£°æ˜ä¸º synchronized ï¼Œå¹¶åœ¨ä¸»æ–¹æ³•ä¸­è°ƒç”¨æ¥è§£å†³è¿™ä¸€é—®é¢˜ï¼Œä½†æ˜¯ Java ä¸ºæˆ‘ä»¬æä¾›äº†æ›´å¥½çš„è§£å†³åŠæ³•ï¼Œé‚£å°±æ˜¯ synchronized å—ã€‚ <br/>
ã€€ã€€</p>

<h2 id="toc_1">2. synchronized å—ï¼š</h2>

<p>é€šè¿‡ synchronizedå…³é”®å­—æ¥å£°æ˜synchronized å—ã€‚è¯­æ³•å¦‚ä¸‹ï¼š </p>

<pre><code>ã€€ã€€synchronized(syncObject) { 
ã€€ã€€//å…è®¸è®¿é—®æ§åˆ¶çš„ä»£ç  
ã€€ã€€}
</code></pre>

<p>ã€€ã€€<br/>
ã€€ã€€synchronized å—æ˜¯è¿™æ ·ä¸€ä¸ªä»£ç å—ï¼Œå…¶ä¸­çš„ä»£ç å¿…é¡»è·å¾—å¯¹è±¡ syncObject ï¼ˆå¦‚å‰æ‰€è¿°ï¼Œå¯ä»¥æ˜¯ç±»å®ä¾‹æˆ–ç±»ï¼‰çš„é”æ–¹èƒ½æ‰§è¡Œï¼Œå…·ä½“æœºåˆ¶åŒå‰æ‰€è¿°ã€‚ç”±äºå¯ä»¥é’ˆå¯¹ä»»æ„ä»£ç å—ï¼Œä¸”å¯ä»»æ„æŒ‡å®šä¸Šé”çš„å¯¹è±¡ï¼Œæ•…çµæ´»æ€§è¾ƒé«˜<br/>
ã€€ã€€</p>

<h2 id="toc_2">å¯¹synchronized(object)çš„ä¸€äº›ç†è§£</h2>

<p>ã€€<br/>
<strong>ä¸€ã€</strong>å½“ä¸¤ä¸ªå¹¶å‘çº¿ç¨‹è®¿é—®åŒä¸€ä¸ªå¯¹è±¡objectä¸­çš„è¿™ä¸ªsynchronized(this) åŒæ­¥ä»£ç å—æ—¶ï¼Œä¸€ä¸ªæ—¶é—´å†…åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¾—åˆ°æ‰§è¡Œã€‚å¦ä¸€ä¸ªçº¿ç¨‹å¿…é¡»ç­‰å¾…å½“å‰çº¿ç¨‹æ‰§è¡Œå®Œè¿™ä¸ªä»£ç å—ä»¥åæ‰èƒ½æ‰§è¡Œè¯¥ä»£ç å—ã€‚ </p>

<p><strong>äºŒã€</strong>å½“ä¸€ä¸ªçº¿ç¨‹è®¿é—®objectçš„ä¸€ä¸ªsynchronized(this)åŒæ­¥ä»£ç å—æ—¶ï¼Œå…¶ ä»–çº¿ç¨‹å¯¹objectä¸­æ‰€æœ‰å…¶å®ƒsynchronized(this)åŒæ­¥ä»£ç å—çš„è®¿é—®å°†è¢«é˜»å¡ã€‚</p>

<p><strong>ä¸‰ã€</strong>ç„¶è€Œï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è®¿é—®objectçš„ä¸€ä¸ªsynchronized(this)åŒæ­¥ä»£ç å— æ—¶ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä»ç„¶å¯ä»¥è®¿é—®è¯¥objectä¸­çš„é™¤synchronized(this)åŒæ­¥ä»£ç å—ä»¥å¤–çš„éƒ¨åˆ†ã€‚ </p>

<p><strong>å››ã€</strong>ç¬¬ä¸‰ä¸ªä¾‹å­åŒæ ·é€‚ç”¨å…¶å®ƒåŒæ­¥ä»£ç å—ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è®¿é—®objectçš„ä¸€ä¸ª synchronized(this)åŒæ­¥ä»£ç å—æ—¶ï¼Œå®ƒå°±è·å¾—äº†è¿™ä¸ªobjectçš„å¯¹è±¡é”ã€‚ç»“æœï¼Œå…¶å®ƒçº¿ç¨‹å¯¹è¯¥objectå¯¹è±¡ æ‰€æœ‰åŒæ­¥ä»£ç éƒ¨åˆ†çš„è®¿é—®éƒ½è¢«æš‚æ—¶é˜»å¡ã€‚ </p>

<p><strong>äº”ã€</strong>ä»¥ä¸Šè§„åˆ™å¯¹å…¶å®ƒå¯¹è±¡é”åŒæ ·é€‚ç”¨ </p>

<p>åŸæ–‡: <a href="http://fei263.blog.163.com/blog/static/9279372420103752814/">http://fei263.blog.163.com/blog/static/9279372420103752814/</a></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[C++Primerç¬”è®° - åˆè¯†è¾“å…¥è¾“å‡º]]></title>
    <link href="http://www.citynight.cn/Blog/14866104685305.html"/>
    <updated>2017-02-09T11:21:08+08:00</updated>
    <id>http://www.citynight.cn/Blog/14866104685305.html</id>
    <content type="html"><![CDATA[
<blockquote>
<p>ä½¿ç”¨<code>iostream</code>åº“.<code>iostream</code>ä¸­åŒ…å«ä¸¤ä¸ªåŸºç¡€ç±»å‹<code>istream</code>å’Œ<code>ostream</code>,åˆ†åˆ«è¡¨ç¤ºè¾“å…¥æµå’Œè¾“å‡ºæµ</p>

<h2 id="toc_0">æ ‡å‡†è¾“å…¥è¾“å‡ºå¯¹è±¡</h2>

<p>æ ‡å‡†åº“ä¸­å®šä¹‰äº†4ä¸ªIOå¯¹è±¡.ä¸ºäº†å¤„ç†è¾“å…¥,æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªåä¸º<code>cin</code>çš„<code>istream</code>ç±»å‹çš„å¯¹è±¡.è¿™ä¸ªå¯¹è±¡ä¹Ÿè¢«ç§°ä¸º<strong>æ ‡å‡†è¾“å…¥</strong>.å¯¹äºè¾“å‡º,æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªåä¸º<code>cout</code>çš„<code>ostream</code>ç±»å‹çš„å¯¹è±¡.æ­¤å¯¹è±¡ä¹Ÿè¢«ç§°ä¸º<strong>æ ‡å‡†è¾“å‡º</strong>.æ ‡å‡†åº“ä¸­è¿˜å®šä¹‰äº†å…¶ä»–ä¸¤ä¸ª<code>ostream</code>å¯¹è±¡,åä¸º<code>cerr</code>å’Œ<code>clog</code>.æˆ‘ä»¬é€šå¸¸ç”¨<code>cerr</code>æ¥è¾“å‡ºè­¦å‘Šå’Œé”™è¯¯ä¿¡å¿ƒ,å› æ­¤å®ƒä¹Ÿè¢«ç§°ä¸º<strong>æ ‡å‡†é”™è¯¯</strong>,è€Œ<code>clog</code>ç”¨æ¥è¾“å‡ºç¨‹åºè¿è¡Œæ—¶çš„ä¸€èˆ¬æ€§ä¿¡æ¯.</p>
</blockquote>

<p>ç³»ç»Ÿé€šå¸¸å°†ç¨‹åºæ‰€è¿è¡Œçš„çª—å£ä¸è¿™äº›å¯¹è±¡å…³è”èµ·æ¥.å› æ­¤,å½“æˆ‘ä»¬è¯»å–cin,æ•°æ®å°†ä»ç¨‹åºæ­£åœ¨è¿è¡Œçš„çª—å£è¯»å…¥,å½“æˆ‘ä»¬åƒcout,cerr,clogå†™å…¥æ•°æ®çš„æ—¶å€™,å°†ä¼šå†™åˆ°åŒä¸€ä¸ªçª—å£.</p>

<h2 id="toc_1">Demo</h2>

<pre><code>#include &lt;iostream&gt;
using namespace std;

int main(int argc, char *argv[])
{
    std::cout &lt;&lt; &quot;Enter two numbers:&quot; &lt;&lt; std::endl;
    int v1 = 0, v2 = 0;
    std::cin &gt;&gt; v1 &gt;&gt; v2;
    std::cout &lt;&lt; &quot;The sun of &quot; &lt;&lt; v1 &lt;&lt; &quot;and&quot; &lt;&lt; v2 &lt;&lt; &quot;is&quot; &lt;&lt; v1 + v2 &lt;&lt; std::endl;
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[C++Primerç¬”è®° - å¦‚ä½•è·å– `main`çš„è¿”å›å€¼]]></title>
    <link href="http://www.citynight.cn/Blog/14866089688413.html"/>
    <updated>2017-02-09T10:56:08+08:00</updated>
    <id>http://www.citynight.cn/Blog/14866089688413.html</id>
    <content type="html"><![CDATA[
<p>è®¿é—®<code>main</code>çš„è¿”å›å€¼çš„æ–¹æ³•ä¾èµ–äºç³»ç»Ÿ.åœ¨UNIXå’ŒWindowsç³»ç»Ÿä¸­,æ‰§è¡Œå®Œä¸€ä¸ªç¨‹åºå,éƒ½å¯ä»¥é€šè¿‡echoå‘½ä»¤è·å¾—å…¶è¿”å›å€¼.<br/>
åœ¨UNIXä¸­é€šè¿‡<code>echo $?</code><br/>
åœ¨Windowsä¸­é€šè¿‡<code>echo %ERRORLEVEL%</code></p>

<p>ä½¿ç”¨æ–¹å¼:<br/>
åœ¨terminalä¸­, <code>vim prog1.cc</code> ,ç„¶ååœ¨vimä¸‹è¾“å…¥(<code>i</code>æ˜¯æ’å…¥é”®)</p>

<pre><code> int main()
 {
     return 0;
 }
</code></pre>

<p>é€€å‡ºç¼–è¾‘å™¨(å…ˆæŒ‰<code>esc</code>,ç„¶å<code>:wq</code>)<br/>
åœ¨terminalä¸­è¿è¡Œ</p>

<pre><code>cc prog1.cc
./a.out
echo $?
</code></pre>

<p>æœ€ç»ˆä¼šå¾—åˆ°æˆ‘ä»¬çš„è¿”å›å€¼<code>0</code></p>

<p><strong>1.1èŠ‚ç»ƒä¹ </strong><br/>
1.2: mainä¸­è¿”å›-1.è¿”å›å€¼-1é€šå¸¸è¢«å½“åšç¨‹åºé”™è¯¯çš„æ ‡è¯†.é‡æ–°ç¼–è¯‘è¿è¡Œæˆ‘å†æ¬¡è·å–é”™è¯¯å€¼ä¸º255<br/>
<img src="media/14866089688413/14866102127236.jpg" alt=""/></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Swift - æ˜¥èŠ‚å‰é—®é¢˜æ€»ç»“]]></title>
    <link href="http://www.citynight.cn/Blog/14861891967085.html"/>
    <updated>2017-02-04T14:19:56+08:00</updated>
    <id>http://www.citynight.cn/Blog/14861891967085.html</id>
    <content type="html"><![CDATA[
<ol>
<li><p><code>#selectoré›†ä¸­èµ·æ¥ç®¡ç†</code><br/>
å‚è€ƒ<a href="http://weibo.com/3321824014/ErQJDdL4L?type=repost#_rnd1486189248963">å¾®åš</a>ä¸­ç¬¬äºŒç‚¹<br/>
<img src="media/14861891967085/14861893764185.jpg" alt=""/></p></li>
<li><p>å…³äºXibçš„ä½¿ç”¨é—®é¢˜<br/>
è€ç”Ÿå¸¸è°ˆçš„é—®é¢˜äº†,çœ‹ä¸ªäººå–œå¥½,ä¸è¿‡å°½é‡è®©å…¶ä»–äººçœ‹æ‡‚,éµå®ˆxibè§„èŒƒ.<br/>
å¤‡æ³¨:<br/>
    1. <a href="http://nshipster.cn/ibinspectable-ibdesignable/">IBInspectable / IBDesignable</a><br/>
    2. <a href="http://tips.producter.io/you-ya-di-zi-ding-yi-xibview/">ä¼˜é›…åœ°è‡ªå®šä¹‰XibView</a></p></li>
<li><p>å…³äºä»€ä¹ˆæ—¶å€™æå–å‡ºæ–¹æ³•<br/>
ä¸€ä¸ªå‡½æ•°å¦‚æœè¡Œæ•°è¿‡é•¿ä¸ä¾¿äºé˜…è¯»,å¯ä»¥æŒ‰ç…§æ­¥éª¤æŠ½å–å‡ºå­—æ–¹æ³•<br/>
å¦‚æœä¸€ä¸ªåŠŸèƒ½æœ‰2ä¸ªä»¥ä¸Šåœ°æ–¹ç”¨åˆ°éœ€è¦æŠ½å–ä¸ºä¸€ä¸ªæ–¹æ³•</p></li>
<li><p>å¤šç§æ ·å¼Cellå¦‚ä½•é…ç½®</p></li>
</ol>

<p>æ’•é€¼æœªå®Œ&hellip;.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Swift - Swift Talk: Networking]]></title>
    <link href="http://www.citynight.cn/Blog/14860911508877.html"/>
    <updated>2017-02-03T11:05:50+08:00</updated>
    <id>http://www.citynight.cn/Blog/14860911508877.html</id>
    <content type="html"><![CDATA[
<blockquote>
<p>Swift Talk å­¦ä¹ ç¬”è®°,<a href="https://talk.objc.io/episodes/S01E01-networking">https://talk.objc.io/episodes/S01E01-networking</a></p>
</blockquote>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Swift - Swiftä¸JavaScriptäº¤äº’å®æˆ˜[è½¬]]]></title>
    <link href="http://www.citynight.cn/Blog/14836656405837.html"/>
    <updated>2017-01-06T09:20:40+08:00</updated>
    <id>http://www.citynight.cn/Blog/14836656405837.html</id>
    <content type="html"><![CDATA[
<blockquote>
<p>åŸåœ°å€:<a href="http://mp.weixin.qq.com/s?__biz=MzIzMzA4NjA5Mw==&amp;mid=214070747&amp;idx=1&amp;sn=57b45fa293d0500365d9a0a4ff74a4e1#rd">Swiftä¸JavaScriptäº¤äº’å®æˆ˜ï¼ˆSwiftç‰ˆï¼‰</a></p>
</blockquote>

<h2 id="toc_0">å‰è¨€</h2>

<p>Swiftä¸Jsäº¤äº’æ˜¯å¸¸è§çš„éœ€æ±‚ï¼Œå¯å¯¹äºæ–°æ‰‹æˆ–è€…æ‰€è°“çš„é«˜æ‰‹è€Œè¨€ï¼Œå…¶å®å¹¶ä¸æ˜¯é‚£ä¹ˆç®€å•æ˜äº†ã€‚è¿™é‡Œåªä»‹ç»iOS7.0åå‡ºæ¥çš„JavaScriptCore frameworkã€‚</p>

<h2 id="toc_1">å…³äºJavaScriptCore</h2>

<p>æœ¬æ•™ç¨‹ä¸­æ‰€æ¶‰åŠåˆ°çš„å‡ ç§ç±»å‹ï¼š</p>

<ul>
<li><strong>JSContext</strong>, JSContextæ˜¯ä»£è¡¨JSçš„æ‰§è¡Œç¯å¢ƒï¼Œé€šè¿‡-evaluateScript:æ–¹æ³•å°±å¯ä»¥æ‰§è¡Œä¸€JSä»£ç </li>
<li><strong>JSValue</strong>, JSValueå°è£…äº†JSä¸ObjCä¸­çš„å¯¹åº”çš„ç±»å‹ï¼Œä»¥åŠè°ƒç”¨JSçš„APIç­‰</li>
<li><strong>JSExport</strong>, JSExportæ˜¯ä¸€ä¸ªåè®®ï¼Œéµå®ˆæ­¤åè®®ï¼Œå°±å¯ä»¥å®šä¹‰æˆ‘ä»¬è‡ªå·±çš„åè®®ï¼Œåœ¨åè®®ä¸­å£°æ˜çš„APIéƒ½ä¼šåœ¨JSä¸­æš´éœ²å‡ºæ¥ï¼Œæ‰èƒ½è°ƒç”¨</li>
</ul>

<h2 id="toc_2">Swiftä¸JSäº¤äº’æ–¹å¼</h2>

<p>é€šè¿‡JSContextï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§è°ƒç”¨JSä»£ç çš„æ–¹æ³•ï¼š</p>

<ul>
<li>1ã€ç›´æ¥è°ƒç”¨JSä»£ç </li>
<li>2ã€åœ¨Swiftä¸­é€šè¿‡JSContext<strong>æ³¨å…¥æ¨¡å‹</strong>ï¼Œç„¶åè°ƒç”¨æ¨¡å‹çš„æ–¹æ³•</li>
</ul>

<h3 id="toc_3">ç›´æ¥è°ƒç”¨JSä»£ç </h3>

<p>æˆ‘ä»¬å¯ä»¥ä¸é€šè¿‡æ¨¡å‹æ¥è°ƒç”¨æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨æ–¹æ³•</p>

<pre><code>let context = JSContext() 
context.evaluateScript(â€œvar num = 10â€)
context.evaluateScript(â€œfunction square(value) { return value * 2}â€)

// ç›´æ¥è°ƒç”¨
let squareValue = context.evaluateScript(â€œsquare(num)â€)
print(squareValue)

// é€šè¿‡ä¸‹æ ‡æ¥è·å–åˆ°JSæ–¹æ³•ã€‚
let squareFunc = context.objectForKeyedSubscript(â€œsquareâ€)
print(squareFunc.callWithArguments([â€œ10â€]).toString());
</code></pre>

<p>è¿™ç§æ–¹å¼æ˜¯æ²¡æœ‰æ³¨å…¥æ¨¡å‹åˆ°JSä¸­çš„ã€‚è¿™ç§æ–¹å¼ä½¿ç”¨èµ·æ¥ä¸å¤ªåˆé€‚ï¼Œé€šå¸¸åœ¨JSä¸­æœ‰å¾ˆå¤šå…¨å±€çš„å‡½æ•°ï¼Œä¸ºäº†é˜²æ­¢åå­—é‡åï¼Œä½¿ç”¨æ¨¡å‹çš„æ–¹å¼æ˜¯æœ€å¥½ä¸è¿‡äº†ã€‚é€šè¿‡æˆ‘ä»¬åå•†å¥½çš„æ¨¡å‹åç§°ï¼Œåœ¨JSä¸­ç›´æ¥é€šè¿‡æ¨¡å‹æ¥è°ƒç”¨æˆ‘ä»¬åœ¨Swiftä¸­æ‰€å®šä¹‰çš„æ¨¡å‹æ‰€å…¬å¼€çš„APIã€‚</p>

<h2 id="toc_4">æ³¨å…¥æ¨¡å‹çš„äº¤äº’</h2>

<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å…ˆå®šä¹‰ä¸€ä¸ªåè®®ï¼Œè€Œä¸”è¿™ä¸ªåè®®å¿…é¡»è¦éµå®ˆJSExportåè®®ã€‚</p>

<p>All methods that should apply in Javascript,should be in the following protocol.æ³¨æ„ï¼Œè¿™é‡Œå¿…é¡»ä½¿ç”¨@objcï¼Œå› ä¸ºJavaScriptCoreåº“æ˜¯ObjectiveCç‰ˆæœ¬çš„ã€‚å¦‚æœä¸åŠ @objcï¼Œåˆ™è°ƒç”¨æ— æ•ˆæœã€‚</p>

<pre><code>@objc protocol JavaScriptSwiftDelegate: JSExport { 
 func callSystemCamera();
 func showAlert(title: String, msg: String);
 func callWithDict(dict: [String: AnyObject]);
 func jsCallObjcAndObjcCallJsWithDict(dict: [String: AnyObject]);
}
</code></pre>

<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®šä¹‰ä¸€ä¸ªæ¨¡å‹ï¼š</p>

<pre><code>@objc classJSObjCModel: NSObject, JavaScriptSwiftDelegate { 
  weak var controller: UIViewController? 
  weak var jsContext: JSContext? 

  func callSystemCamera() {   
    print(â€œjs call objc method: callSystemCameraâ€);
    let jsFunc = self.jsContext?.objectForKeyedSubscript(â€œjsFuncâ€); 
    jsFunc?.callWithArguments([]);  
  }

  func showAlert(title: String, msg: String) {     
    dispatch_async(dispatch_get_main_queue()) { () -&gt; Void in   
      let alert = UIAlertController(title: title, message: msg, preferredStyle: .Alert)   
      alert.addAction(UIAlertAction(title: â€œokâ€, style: .Default, handler: nil))      
      self.controller?.presentViewController(alert, animated: true, completion: nil)   
    }   
  }  

  // JSè°ƒç”¨äº†æˆ‘ä»¬çš„æ–¹æ³•   
  func callWithDict(dict: [String : AnyObject]) {   
    print(â€œjs call objc method: callWithDict, args: %@â€, dict) 
  }

  // JSè°ƒç”¨äº†æˆ‘ä»¬çš„å°±å»  
  func jsCallObjcAndObjcCallJsWithDict(dict: [String : AnyObject]) {     
    print(â€œjs call objc method: jsCallObjcAndObjcCallJsWithDict, args: %@â€, dict) 
    let jsParamFunc = self.jsContext?.objectForKeyedSubscript(â€œjsParamFuncâ€); 
    let dict = NSDictionary(dictionary: [â€œageâ€: 18, â€œheightâ€: 168, â€œnameâ€: â€œliliâ€])
    jsParamFunc?.callWithArguments([dict]) 
  }
}
</code></pre>

<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨controllerä¸­åœ¨webviewåŠ è½½å®Œæˆçš„ä»£ç†ä¸­ï¼Œç»™JSæ³¨å…¥æ¨¡å‹ã€‚</p>

<pre><code>// MARK: - UIWebViewDelegate
func webViewDidFinishLoad(webView: UIWebView) {
  let context = webView.valueForKeyPath(â€œdocumentView.webView.mainFrame.javaScriptContextâ€) as? JSContextlet 
  model = JSObjCModel() 
  model.controller = self
  model.jsContext = context
  self.jsContext = context

  // è¿™ä¸€æ­¥æ˜¯å°†OCModelè¿™ä¸ªæ¨¡å‹æ³¨å…¥åˆ°JSä¸­ï¼Œåœ¨JSå°±
  // å¯ä»¥é€šè¿‡OCModelè°ƒç”¨æˆ‘ä»¬å…¬æš´éœ²çš„æ–¹æ³•äº†ã€‚
  self.jsContext?.setObject(model, forKeyedSubscript: â€œOCModelâ€)
  self.jsContext?.exceptionHandler = { (context, exception) in 
     print(â€œexception @â€, exception) 
  }
}
</code></pre>

<p>æˆ‘ä»¬æ˜¯é€šè¿‡webViewçš„valueForKeyPathè·å–çš„ï¼Œå…¶è·¯å¾„ä¸ºdocumentView.webView.mainFrame.javaScriptContextã€‚<br/>
è¿™æ ·å°±å¯ä»¥è·å–åˆ°JSçš„contextï¼Œç„¶åä¸ºè¿™ä¸ªcontextæ³¨å…¥æˆ‘ä»¬çš„æ¨¡å‹å¯¹è±¡ã€‚<br/>
æˆ‘ä»¬å…ˆå†™ä¸¤ä¸ªJSæ–¹æ³•ï¼š</p>

<pre><code>var jsFunc = function() {
  alert(â€˜Objective-C call js to show alertâ€™);
}

var jsParamFunc = function(argument) {
  document.getElementById(â€˜jsParamFuncSpanâ€™).innerHTML
  = argument[â€˜nameâ€™];
}
</code></pre>

<p>è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªJSæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯jsFuncï¼Œä¸å¸¦å‚æ•°ã€‚<br/>
å¦ä¸€ä¸ªæ˜¯jsParamFuncï¼Œå¸¦ä¸€ä¸ªå‚æ•°ã€‚<br/>
æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨htmlä¸­çš„bodyä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>

<p><code>Test how to use objective-c call js</code></p>

<p>ç°åœ¨å°±å¯ä»¥æµ‹è¯•ä»£ç äº†ã€‚</p>

<p>å½“æˆ‘ä»¬ç‚¹å‡»ç¬¬ä¸€ä¸ªæŒ‰é’®ï¼šCall ObjC system cameraæ—¶ï¼Œ<br/>
é€šè¿‡OCModel.callSystemCamera()ï¼Œå°±å¯ä»¥åœ¨HTMLä¸­é€šè¿‡JSè°ƒç”¨OCçš„æ–¹æ³•ã€‚<br/>
åœ¨Swiftä»£ç ä¸­ï¼Œæˆ‘ä»¬çš„callSystemCameraæ–¹æ³•ä½“ä¸­ï¼Œæ·»åŠ äº†ä»¥ä¸‹ä¸¤è¡Œä»£ç ï¼Œå°±æ˜¯è·å–HTMLä¸­æ‰€å®šä¹‰çš„JSå°±å»jsFuncï¼Œç„¶åè°ƒç”¨å®ƒã€‚</p>

<pre><code>let jsFunc = self.jsContext?.objectForKeyedSubscript(â€œjsFuncâ€); jsFunc?.callWithArguments([]);
</code></pre>

<p>è¿™æ ·å°±å¯ä»¥åœ¨JSè°ƒç”¨Siwftæ–¹æ³•æ—¶ï¼Œä¹Ÿè®©Swiftåé¦ˆç»™JSã€‚<br/>
æ³¨æ„ï¼šè¿™é‡Œæ˜¯é€šè¿‡objectForKeyedSubscriptæ–¹æ³•æ¥è·å–å˜é‡jsFuncã€‚<br/>
æ–¹æ³•ä¹Ÿæ˜¯å˜é‡ã€‚çœ‹çœ‹ä¸‹é¢ä¼ å­—å…¸å‚æ•°ï¼š</p>

<pre><code>(void)jsCallObjcAndObjcCallJsWithDict:(NSDictionary )params {
    NSLog(@â€jsCallObjcAndObjcCallJsWithDict was called, params is %@â€, params);
    // è°ƒç”¨JSçš„æ–¹æ³•
    JSValue jsParamFunc = self.jsContext[@â€jsParamFuncâ€];
    [jsParamFunc callWithArguments:@[@{@â€ageâ€: @10, @â€nameâ€: @â€liliâ€, @â€heightâ€: @158}]];
}
</code></pre>

<p>è·å–æˆ‘ä»¬åœ¨HTMLä¸­å®šä¹‰çš„jsParamFuncæ–¹æ³•ï¼Œç„¶åè°ƒç”¨å®ƒå¹¶ä¼ äº†ä¸€ä¸ªå­—å…¸ä½œä¸ºå‚æ•°ã€‚<br/>
å¥½äº†ï¼Œå°±è®²è¿™ä¹ˆå¤šå§ï¼Œå¦‚æœæƒ³è¦Demoæºä»£ç ï¼Œè¯·åˆ°</p>

<ul>
<li>githubï¼š<strong><a href="https://github.com/CoderJackyHuang/IOSCallJsOrJsCallIOS">https://github.com/CoderJackyHuang/IOSCallJsOrJsCallIOS</a></strong></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[C/C++ - å›è°ƒå‡½æ•°ä¸­æ¯”è¾ƒå¤§å°ä¸ºå•¥0ä¸è¡Œ?]]></title>
    <link href="http://www.citynight.cn/Blog/14834570124499.html"/>
    <updated>2017-01-03T23:23:32+08:00</updated>
    <id>http://www.citynight.cn/Blog/14834570124499.html</id>
    <content type="html"><![CDATA[
<p>åœ¨Cè¯­è¨€ä¸­æˆ‘ä»¬åˆ¤æ–­çœŸå‡ç»å¸¸ä½¿ç”¨é0ä¸ºçœŸ,0ä¸ºå‡.ä½†æ˜¯åœ¨å›è°ƒå‡½æ•°ä¸­æˆ‘è®¾ç½®è¿”å›é0ä¸0ä»£è¡¨çœŸå‡çš„æ—¶å€™å‡ºç°äº†é—®é¢˜:</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int callBackCompare(void * pa, void * pb)
{
    return *(int *)pa &lt; *(int *)pb ? 1 : -1;
}

void selectSort(int *p, int n, int (*pf)(int a, int b))
{
    for(int i = 0; i &lt; n-1; i++)
    {
        for(int j = i+1; j&lt;n; j++)
        {
            if(pf(p[i],p[j]))
            {
                p[i] = p[i]^p[j];
                p[j] = p[i]^p[j];
                p[i] = p[i]^p[j];
            }
        }
    }
}

int main(int argc, char *argv[])
{
    int arr[10] = {1,2,3,4,5,9,8,7,6,0};

    qsort(arr,sizeof(arr)/sizeof(int),sizeof(int),callBackCompare);

    for(int i = 0; i&lt;10; i++)
    {
        printf(&quot;%d\n&quot;,arr[i]);
    }
    return 0;
}

</code></pre>

<p>callBackä¸­è¿™æ ·å†™èƒ½å¤Ÿå¾—åˆ°ç»“æœ</p>

<pre><code>9
8
7
6
5
4
3
2
1
0
</code></pre>

<p>ä½†æ˜¯å¦‚æœæˆ‘æŠŠcallbackå‡½æ•°ä¸­çš„-1æ¢æˆ0åˆ™è¿”å›é”™è¯¯ç»“æœ</p>

<pre><code>0
2
3
4
5
9
8
7
6
1
</code></pre>

<p>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢?</p>

<p>&mdash;17.1.3&mdash;-<br/>
ææ‡‚äº†,0ä¸èƒ½ä»£è¡¨å‡é™&hellip;</p>

<blockquote>
<p>å‡è®¾æ˜¯å¯¹ int æ’åºçš„è¯ï¼Œå¦‚æœæ˜¯å‡åºï¼Œ é‚£ä¹ˆå°±æ˜¯å¦‚æœ a æ¯” b å¤§è¿”å›ä¸€ä¸ªæ­£å€¼ï¼Œå°åˆ™è´Ÿå€¼ï¼Œç›¸ç­‰è¿”å› 0; å‡è®¾æ˜¯å¯¹ int æ’åºçš„è¯ï¼Œå¦‚æœæ˜¯é™åºï¼Œ é‚£ä¹ˆå°±æ˜¯å¦‚æœ a æ¯” b å¤§è¿”å›ä¸€ä¸ªè´Ÿå€¼ï¼Œå°åˆ™æ­£å€¼ï¼Œç›¸ç­‰è¿”å› 0;</p>
</blockquote>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Swift - ä¸Šå‘¨æ€»ç»“(12.30)]]></title>
    <link href="http://www.citynight.cn/Blog/14830040423390.html"/>
    <updated>2016-12-29T17:34:02+08:00</updated>
    <id>http://www.citynight.cn/Blog/14830040423390.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">è§„èŒƒé—®é¢˜</h2>

<p>å…³äºè§†å›¾è¯¥ä¸è¯¥æŠŠæ§ä»¶æš´éœ²å‡ºå»?<br/>
é€šå¸¸æƒ…å†µä¸‹ä¸èƒ½,åŸå› :ä¸ºäº†<del>éƒ¨è½</del>å°é—­æ€§.</p>

<p>æˆ‘çš„ç†è§£,æ¯ä¸ªè§†å›¾éƒ½æ˜¯ä¸€ä¸ªç›’å­,å¦‚æœæœ‰éœ€è¦æˆ‘å¯ä»¥ç»™å¤–é¢æä¾›ä¸€ä¸ªupdateæ¥å£æ¥æ›´æ”¹æ•°æ®.è§†å›¾ä¸­çš„ç‚¹å‡»äº‹ä»¶å¯ä»¥é€šè¿‡<code>Target-Action</code>å®ç°,å½“ç„¶é—­åŒ…&amp;ä»£ç†åŒæ ·å¯ä»¥.éå¸¸ç¬¦åˆ<code>Cocoa</code>æå€¡çš„<code>MVC</code>æ¨¡å¼</p>

<p><img src="media/14830040423390/14834530948549.jpg" alt=""/></p>

<p>å…³äºè§†å›¾ä¸­ç©ºé—´æ˜¯å¦æš´éœ²å‡ºå»,é»˜è®¤éƒ½æ˜¯<code>private</code>,æˆ‘è®¤ä¸ºè‹¹æœ<code>Cocoa Touch</code>ä¸­<code>UIKit</code>éƒ¨åˆ†æ§ä»¶è®¾è®¡çš„ä¸æ˜¯å¾ˆå¥½,ä¸¾ä¸ªğŸŒ°:<br/>
<code>UIButton</code>å¦‚æœè®¾ç½®å­—ä½“çš„å¤§å°,éœ€è¦é€šè¿‡<code>titleLabel?.font</code>æ¥è®¾ç½®.æˆ‘è®¤ä¸ºè¿™æ ·æ˜¯ä¸å¥½çš„,é€šè¿‡ä¸€ä¸ªæ–¹æ³•æ¥è®¾ç½®fontæ„Ÿè§‰æ›´åˆé€‚.</p>

<h2 id="toc_1">æ›´Swift</h2>

<p>æ¯•ç«Ÿå¤§éƒ¨åˆ†åŒå­¦éƒ½æ˜¯åˆšæ¥è§¦Swift,æ•´ä¸ªé¡¹ç›®æ„Ÿè§‰æœ‰ç‚¹åƒç¿»è¯‘,è¿˜æ˜¯<code>OC</code>çš„å‘³é“,å…³äºè¿™ä¸ªé—®é¢˜è®¨è®ºäº†ä¸¤ç‚¹,ä¸€ä¸ªæ˜¯é¢å‘åè®®ç¼–ç¨‹,ä¸€ä¸ªæ˜¯å‡½æ•°å¼ç¼–ç¨‹</p>

<h3 id="toc_2">é¢å‘åè®®ç¼–ç¨‹</h3>

<p>é—®é¢˜:æŸä¸€ä¸ªè§†å›¾æ˜¯å…¶ä»–è§†å›¾æ‰€éœ€è¦çš„ä¸€éƒ¨åˆ†,ç°åœ¨çš„åšæ³•æ˜¯å°†å…±æœ‰çš„è§†å›¾æŠ½å–å‡ºæ¥,æˆä¸ºä¸€ä¸ªè§†å›¾,ç„¶åå…¶ä»–è§†å›¾åŒ…å«è¿™ä¸ªè§†å›¾.<br/>
é¢å‘åè®®:å…¬å…±çš„å­è§†å›¾è®¾ç½®ä¸ºä¸€ä¸ªåè®®,ç„¶åç»™ä¸€ä¸ªé»˜è®¤çš„å®ç°.åƒæ­ç§¯æœ¨ä¸€æ ·åšè§†å›¾çš„æ‹¼æ¥.</p>

<p>å‚è€ƒèµ„æ–™:<a href="https://github.com/atConf/atswift-2016-resources">atswift-2016å¤§ä¼š</a>ä¸­<code>ææ´ä¿¡_Pop in Swift</code>è¿™ä¸ªsectionå¯ä»¥å‚è€ƒ.</p>

<h3 id="toc_3">å‡½æ•°å¼ç¼–ç¨‹</h3>

<p>å‘¨æ¬£å¯¹è‡ªå·±ä»£ç ä¼˜åŒ–çš„æ—¶å€™å‘ç°çš„é—®é¢˜:<br/>
ä¸€å¼€å§‹çš„é€»è¾‘:</p>

<pre><code>class func fetchAllDish() -&gt; [Any] {
        var mutableBigCategorys = [Any]()
        let bigCategorys = DatabaseManager.shared.fetchAllDishCategory()
        for bigCategory in bigCategorys {
            var bigCategory = bigCategory
            var mutableSubCategorys = [Any]()
            let subCategorys = DatabaseManager.shared.fetchSubCategorys(byCategroyID: bigCategory[&quot;CATEGORYID&quot;] as! String)
            for subCategory in subCategorys {
                var subCategory = subCategory
                let dishes = DatabaseManager.shared.fetchDishes(bySubCategoryID: subCategory[&quot;CLASSID&quot;] as! String)
                if dishes.count &gt; 0 {
                    subCategory[&quot;dishes&quot;] = dishes
                    mutableSubCategorys.append(subCategory)
                }
            }
            if mutableSubCategorys.count &gt; 0 {
                bigCategory[&quot;subCategorys&quot;] = mutableSubCategorys
                mutableBigCategorys.append(bigCategory)
            }
        }
        return mutableBigCategorys
    }
</code></pre>

<p>ä¼˜åŒ–åçš„:</p>

<pre><code>class func fetchAllDish() -&gt; [Any] {
        let bigCategorys = DatabaseManager.shared.fetchAllDishCategory()
        let results = bigCategorys.map { (bigCategory) -&gt; [String: Any] in
            var bigCategory = bigCategory
            let subCategory = DatabaseManager.shared.fetchSubCategorys(byCategroyID: bigCategory[&quot;CATEGORYID&quot;] as! String)
            let subResults = subCategory.map({ (subCategory) -&gt; [String: Any] in
                var subCategory = subCategory
                let dishes = DatabaseManager.shared.fetchDishes(bySubCategoryID: subCategory[&quot;CLASSID&quot;] as! String)
                subCategory[&quot;dishes&quot;] = dishes
                return subCategory
            }).filter({ $0.count &gt; 0 })
            bigCategory[&quot;subCategorys&quot;] = subResults
            return bigCategory
        }.filter({ $0.count &gt; 0 })
        return results
    }
</code></pre>

<p>é€šè¿‡<code>map</code>ä¸<code>filter</code>çš„çµæ´»ä½¿ç”¨,ä½¿ä»£ç é€»è¾‘æ›´æ¸…æ™°,åŒæ—¶ä¹Ÿå‡å°‘äº†ä¸å¿…è¦çš„ä¸´æ—¶å˜é‡.</p>

<h3 id="toc_4">å…ƒç»„</h3>

<p>è¿™ä¸ªç”²å† ç”¨çš„æ¯”è¾ƒ6..ä»£ç å‚è§<code>NeoSubDishDetailView.swift</code>ç®€å•ğŸŒ°:</p>

<pre><code>    func refreshInfo(data : (UIButton,DishTypeModel)){
        dishNameLabel.text = data.1.name
        moneyLabel.text = data.1.price
        numLabel.text = String(data.1.num)
        if data.1.num &lt;= 0{
            self.cutButton.isHidden = true
            self.numLabel.isHidden = true
        }else{
            self.cutButton.isHidden = false
            self.numLabel.isHidden = false
        }
    }

</code></pre>

<p>è¿˜æœ‰å¥½å¤šåœ°æ–¹ä½¿ç”¨,è¿™ä¸ªæ–‡ä»¶å¯ä»¥å¥½å¥½è§‚æ‘©ä¸€ä¸‹,å¾ˆSwift&hellip;</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ç‚¹èœé€»è¾‘æ¢³ç†]]></title>
    <link href="http://www.citynight.cn/Blog/14829045788456.html"/>
    <updated>2016-12-28T13:56:18+08:00</updated>
    <id>http://www.citynight.cn/Blog/14829045788456.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">åŒæ­¥é€»è¾‘(å…¨é‡ä¸Šä¼ ):</h2>

<p>åŸå®š: åˆ‡å°\è½¬å° å…¨é‡ä¸Šä¼ <br/>
ç°åœ¨: è½®è¯¢å³ä¸Šä¼ (æ¯æ¬¡è½®è¯¢ä¿¡æ¯éƒ½èµ°è¿™ä¸ªæ¥å£),åˆ‡å°/è½®è¯¢åŒæ ·èµ°è¿™ä¸ªæ¥å£</p>

<h2 id="toc_1">å…³äºå»¶æ—¶</h2>

<p>12.27æ³½ç¥¥åˆšè·Ÿæµ·åº•æç¡®å®šé€»è¾‘å’Œå¤‡æ³¨ä¸€è‡´å³è¿™é“èœå¦‚æœåŠä»½å»¶æ—¶äº†å†æ¬¡ç‚¹è¿™é“èœä¸è®ºæ•´ä»½åŠä»½éƒ½æ˜¯å»¶æ—¶çš„.</p>

<h2 id="toc_2">æ•´ä»½åŠä»½æ˜¾ç¤º(å¦‚æœæ–°éœ€æ±‚çš„è¯,å¯èƒ½è¿˜éœ€è¦æ”¹å˜æ­£åœ¨å’Œæ³½ç¥¥ç¡®å®šä¸­)</h2>

<p>éœ€æ±‚:ç‚¹èœç‚¹é”…ç•Œé¢èœå“åŒ…å«æ•´ä»½ä¸åŠä»½ è´­ç‰©è½¦ç•Œé¢æ•´ä»½ä¸åŠä»½æ˜¯åˆ†å¼€çš„.</p>

<p>ç›®å‰çš„åšæ³•: è´­ç‰©è½¦ç­‰åœ°æ–¹å¦‚æœè°ƒç”¨<code>-(NSArray *)getLocalDishArray</code>è¿™ä¸ªæ“ä½œä¼šæŠŠæ•°æ®æ‹†åˆ†æˆæ•´ä»½åŠä»½ç»™è°ƒç”¨è€….ä½†æ˜¯åœ¨ç‚¹èœç‚¹é”…é¡µé¢,æˆ‘ä¼šè°ƒç”¨<code>configLocalDishArray</code> è¿™ä¸ªæ“ä½œä¼šæŠŠæ•´ä»½åŠä»½æ•´åˆæˆä¸€ä¸ªèœç»™è°ƒç”¨è€…</p>

<h2 id="toc_3">å…³äºä¼°æ¸…</h2>

<p>åŸæœ‰é€»è¾‘å°±æ˜¯æ ¹æ®æ•°æ®åº“ä¸­è·å–èœå“ä¿¡æ¯è¿›è¡Œä¼°æ¸…æ“ä½œåˆ¤æ–­çš„,<strong>ç›®å‰</strong>çš„é€»è¾‘æ˜¯è¿™æ ·çš„,æ•°æ®åº“è¿”å›å­—æ®µå’Œè½®è¯¢å›æ¥çš„ä¼°æ¸…æ•°æ®ä¸­åªè¦æœ‰ä¸€ä¸ªæ˜¯ä¼°æ¸…å°±æ˜¾ç¤ºä¼°æ¸…,æ˜¾ç¤ºéœ€è¦è°ƒç”¨<code>-(BOOL)judgeIsSellOutWithDish:(HTDishEntity *)dish</code></p>

<h2 id="toc_4">å…³äºå·²ç‚¹</h2>

<p>æ–°åŠ èœ&amp;å·²ä¸‹å•æ•°æ®åªè¦ä¸€ä¸ªåœ°æ–¹æœ‰è¯¥èœå“éƒ½æ˜¾ç¤ºå·²ç‚¹<code>-(BOOL)haveOrderThisDish:(NSString *)dishid</code></p>

<h2 id="toc_5">åŒ¹é…èœå“ä¸­æ•´ä»½åŠä»½æ•°é‡</h2>

<p><code>-(nonnull HTDishEntity *)configNumberOfDish:(nonnull HTDishEntity *)dish</code><br/>
ä¼šè®¡ç®—æœªä¸‹å•æ•°æ®ä¸­æ‰€æœ‰æ•´ä»½åŠä»½æ•°é‡</p>

<h2 id="toc_6">å»¶æ—¶å€å¢æ‹†åˆ†ç­‰æ“ä½œ</h2>

<p>è¿™é‡Œéœ€è¦çš„èœå“éƒ½æ˜¯é€šè¿‡<code>getLocalDishArray</code>æ¥è·å–å¦åˆ™æœ‰é—®é¢˜,è¯¦ç»†é€»è¾‘å¤§ä¼Ÿæ¯”è¾ƒæ¸…æ¥š</p>

<h2 id="toc_7">ç›®å‰é—®é¢˜</h2>

<p>å¦‚æœæŸä¸€é“èœè®¾ç½®å»¶æ—¶äº†,å°†æ¥è¿™é“èœæ¯æ¬¡è¿›è¡Œæ•°é‡çš„åŠ å‡æ—¶éƒ½è¦åŒæ­¥åˆ°æœåŠ¡å™¨,è¿™ä¸ªæ“ä½œä¼šä¸ä¼šå¯¼è‡´ç½‘ç»œè¯·æ±‚å‘é€æ¯”è¾ƒé¢‘ç¹<br/>
ç‚¹é”…å,ä½¿ç”¨æœ€æ–°çš„åŒæ­¥æ¥å£å»¶æ—¶å¤ªä¹….åƒé¥­å‰åŒæ­¥çš„æ•°æ®,ä¸­åˆåˆä¼‘åå‘ç°æ•°æ®å›æ¥äº†&hellip;ç‚¹èœçš„æ•°æ®åŒæ­¥å¾ˆå¿«..è¿™ä¸ªæ˜¯æ¥å£ç”¨é”™äº†è¿˜æ˜¯åå°æ¥å£éœ€è¦è°ƒæ•´?</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[å…¨å±è¿”å›æ‰‹åŠ¿å°æŠ€å·§]]></title>
    <link href="http://www.citynight.cn/Blog/14823239811290.html"/>
    <updated>2016-12-21T20:39:41+08:00</updated>
    <id>http://www.citynight.cn/Blog/14823239811290.html</id>
    <content type="html"><![CDATA[
<blockquote>
<p>è¿™ç‰‡æ–‡ç« å¯ä»¥å’Œ<a href="http://www.citynight.cn/Blog/14790381443417.html">Swift - KVC å’Œ è¿è¡Œæ—¶è·å–å±æ€§åˆ—è¡¨</a> ä¸€èµ·çœ‹,å½“ç„¶é…ä¸Š<a href="http://www.citynight.cn/Blog/14793034700265.html">éšè—tabBarçš„å°æŠ€å·§</a>å°±æ›´å¥½äº†ğŸ˜€</p>
</blockquote>

<h2 id="toc_0">ç¬¬ä¸€ç§: é€šè¿‡<code>runtime</code>ä¸<code>KVC</code>é…åˆå®Œæˆ</h2>

<p>åœ¨<code>UINavigationController</code>çš„<code>viewDidLoad</code>æ–¹æ³•ä¸­:</p>

<pre><code>// è·å–ç³»ç»Ÿçš„æ‰‹åŠ¿
let gest = self.interactivePopGestureRecognizer!
// ç¦ç”¨ç³»ç»Ÿçš„æ‰‹åŠ¿
interactivePopGestureRecognizer?.isEnabled = false

// é€šè¿‡KVCè·å–target å±æ€§æ˜¯é€šè¿‡runtimeè·å–çš„,å…·ä½“æ–¹æ³•å‚è§`Swift - KVC å’Œ è¿è¡Œæ—¶è·å–å±æ€§åˆ—è¡¨`
guard let targets = gest.value(forKey: &quot;_targets&quot;) as? [AnyObject] else {
    return
}
let target = targets[0].value(forKey: &quot;_target&quot;)

// ç»™è§†å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶
let pan = UIPanGestureRecognizer(target: target, action: NSSelectorFromString(&quot;handleNavigationTransition:&quot;))
view.addGestureRecognizer(pan)
</code></pre>

<h2 id="toc_1">ç¬¬äºŒç§: é€šè¿‡åŸæœ‰çš„ä»£ç†å®Œæˆ</h2>

<p>ç›´æ¥ä¸Šä»£ç :</p>

<pre><code>class BaseNavigationController: UINavigationController {

    override func viewDidLoad() {
        super.viewDidLoad()

        // è·å–ç³»ç»Ÿçš„æ‰‹åŠ¿çš„ä»£ç†
        guard let target = interactivePopGestureRecognizer?.delegate else {
            return
        }
        
        // ç¦ç”¨ç³»ç»Ÿçš„æ‰‹åŠ¿
        interactivePopGestureRecognizer?.isEnabled = false
        
        // ç»™è§†å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶
        let pan = UIPanGestureRecognizer(target: target, action: NSSelectorFromString(&quot;handleNavigationTransition:&quot;))
        pan.delegate = self
        view.addGestureRecognizer(pan)
    }
}

extension BaseNavigationController:UIGestureRecognizerDelegate {
    func gestureRecognizerShouldBegin(_ gestureRecognizer: UIGestureRecognizer) -&gt; Bool {
        // å½“æ˜¯è·Ÿæ§åˆ¶å™¨çš„æ—¶å€™ä¸è®©è¿”å›,éè·Ÿæ§åˆ¶å™¨å¯ä»¥è¿”å›
        return viewControllers.count &gt; 1
    }
}

</code></pre>

<p>ç¬¬ä¸€ç§ä¹Ÿåº”è¯¥è®¾ç½®ä»£ç†,ä¸è®¾ç½®ä»£ç†çš„è¯è·Ÿæ§åˆ¶å‡ºç°æ‰‹åŠ¿å°±ä¼šæœ‰bug</p>

<p>ç®€å•æ¯”è¾ƒä¸€ä¸‹,ç¬¬äºŒç§æ›´ç®€æ´.ä¸è¿‡åº”ç”¨äº†ä¸€ä¸ªå°æŠ€å·§,çœ‹ä»£ç :</p>

<pre><code>    let pan = UIPanGestureRecognizer(target: self, action: NSSelectorFromString(&quot;handleNavigationTransition:&quot;))
    pan.delegate = self
    view.addGestureRecognizer(pan)
</code></pre>

<p>å¯è§<code>target</code>&amp;<code>delegate</code>é€šå¸¸éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡,å½“è®©ä¹Ÿå¯ä»¥æ˜¯ä¸åŒçš„,è¿™é‡Œåº”ç”¨è¿™ä¸ªå°æŠ€å·§è®©ä»£ç å˜å¾—æ›´ç®€æ´.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[æ•°æ®åº“å¤ä¹ ]]></title>
    <link href="http://www.citynight.cn/Blog/14817245458052.html"/>
    <updated>2016-12-14T22:09:05+08:00</updated>
    <id>http://www.citynight.cn/Blog/14817245458052.html</id>
    <content type="html"><![CDATA[
<blockquote>
<p>é¡¹ç›®ä¸­éƒ¨åˆ†åŠŸèƒ½æ‰“ç®—ä½¿ç”¨æ•°æ®åº“è¿›è¡Œæ•°æ®æœ¬åœ°å­˜å‚¨,æ‰€ä»¥å¤ä¹ äº†ä¸‹æ•°æ®åº“è¯­å¥</p>
</blockquote>

<h2 id="toc_0">DDL</h2>

<pre><code>/*
åˆ é™¤è¡¨,å¦‚æœå­˜åœ¨è¡¨å°±åˆ é™¤è¡¨
*/
DROP TABLE IF EXISTS &#39;t_student&#39;;

/*
åˆ›å»ºè¡¨
*/

CREATE TABLE IF NOT EXISTS &#39;t_student&#39; (
    &#39;id&#39; INTEGER NOT NULL PRIMARY KEY  AUTOINCREMENT,
    &#39;name&#39; TEXT,
    &#39;age&#39; INTEGER
);
</code></pre>

<h2 id="toc_1">DML</h2>

<pre><code>/*
æ’å…¥æ•°æ®
*/
/*
INSERT INTO &#39;t_student&#39; (name, age) VALUES (&#39;lxz1&#39;, 18);
INSERT INTO &#39;t_student&#39; (name, age) VALUES (&#39;lxz2&#39;, 19);
INSERT INTO &#39;t_student&#39; (name, age) VALUES (&#39;lxz3&#39;, 21);
INSERT INTO &#39;t_student&#39; (name, age) VALUES (&#39;lxz4&#39;, 22);
*/

/*æ›´æ–°*/
-- UPDATE t_student SET age = 20 WHERE name = &#39;lxz1&#39;
UPDATE t_student SET name = &#39;xxx&#39; WHERE age &gt; 20


/*åˆ é™¤*/
DELETE FROM t_student WHERE name = &#39;xxx&#39;
</code></pre>

<h2 id="toc_2">DQL</h2>

<pre><code>/*æŸ¥è¯¢è¯­å¥*/
-- SELECT * FROM t_student;

/*æŸ¥è¯¢ç‰¹æ®Šçš„å­—æ®µ*/
-- SELECT name,age FROM t_student;

/*é€šè¿‡æ¡ä»¶æ¥æŸ¥è¯¢è¯­å¥*/
-- SELECT name, age FROM t_student WHERE age &lt; 20;

/*æ¨¡ç³ŠæŸ¥è¯¢*/
-- SELECT name,age FROM t_student WHERE name LIKE &#39;%l%&#39;

/*å¤šä¸ªæ¡ä»¶çš„æŸ¥è¯¢
AND å¹¶ä¸”
OR æˆ–è€…
*/
-- SELECT name, age FROM t_student WHERE name LIKE &#39;%l%&#39; AND age &lt; 20;

/*è®¡ç®—ä¸ªæ•°*/
-- SELECT count(*) FROM t_student WHERE age &lt; 20

/*æ’åº
å‡åº ASC
é™åº DESC
*/
-- SELECT * FROM t_student ORDER BY age DESC

-- SELECT * FROM t_student ORDER BY age ASC, name DESC;

/*èµ·åˆ«å*/
-- ç»™è¡¨èµ·åˆ«å
SELECT s.name, s.age FROM t_student AS s;
-- ç»™å­—æ®µèµ·åˆ«å
SELECT name AS myName, age AS myAge FROM t_student;


/*åˆ†é¡µæŸ¥è¯¢ limt
æ•°å­—1çš„æ„æ€æ˜¯å‰é¢è·³è¿‡å¤šå°‘æ¡æ•°æ®
æ•°å­—2çš„æ„æ€æ˜¯æœ¬æ¬¡æŸ¥è¯¢å¤šå°‘æ¡æ•°æ®
SELECT * FROM t_student LIMIT æ•°å­—1,æ•°å­—2

è·³è¿‡0æ¡æ•°æ®æŸ¥è¯¢5æ¡æ•°æ®
SELECT * FROM t_student LIMIT 5
*/
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[è·å–å´©æºƒä¿¡æ¯]]></title>
    <link href="http://www.citynight.cn/Blog/14816416025061.html"/>
    <updated>2016-12-13T23:06:42+08:00</updated>
    <id>http://www.citynight.cn/Blog/14816416025061.html</id>
    <content type="html"><![CDATA[
<p>æ—¥å¿—è¯¦ç»†ä¿¡æ¯:</p>

<pre><code>static void exceptionHandler( NSException * exception )
{
    NSString *date = [NSString stringWithFormat:@&quot;å´©æºƒæ—¥å¿—-%@&quot;, [[NSDate date] description]];

    NSLog(DEBUG_CRASH, @&quot;%@ app crashed %@&quot;,date,exception.description);
     abort();
}
</code></pre>

<p>Appdelegateä¸­è°ƒç”¨:</p>

<pre><code>NSSetUncaughtExceptionHandler( &amp;exceptionHandler );
</code></pre>

<p>å½“ç„¶ä¹Ÿå¯ä»¥åœ¨æ—¥å¿—ä¿¡æ¯ä¸­è®°å½•å †æ ˆä¿¡æ¯:</p>

<pre><code>[exception callStackSymbols]
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Swift - ä¸Šå‘¨é—®é¢˜æ€»ç»“]]></title>
    <link href="http://www.citynight.cn/Blog/14815534553600.html"/>
    <updated>2016-12-12T22:37:35+08:00</updated>
    <id>http://www.citynight.cn/Blog/14815534553600.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">æ‡’åŠ è½½çš„æ­£ç¡®å§¿åŠ¿</h2>

<blockquote>
<p>ä½¿ç”¨Swiftçš„æ—¶å€™ç”¨æ‡’åŠ è½½,ä½†æ˜¯æˆ‘å‘ç°æˆ‘ä½¿ç”¨çš„æ—¶å€™ä¸èƒ½å†æ‡’åŠ è½½ä¸­è°ƒç”¨æœ¬æ–‡ä»¶ä¸­å£°æ˜çš„å±æ€§,åŸå› æ˜¯æˆ‘åœ¨å†™æ‡’åŠ è½½çš„æ—¶å€™æ²¡æœ‰æ³¨æ˜ç±»å‹,æ­£ç¡®çš„å§¿åŠ¿åº”è¯¥æ˜¯:</p>
</blockquote>

<pre><code>    lazy var &lt;#property name#&gt;: &lt;#type name#&gt; = {
        &lt;#statements#&gt;
        return &lt;#value#&gt;
    }()
</code></pre>

<p>å¿«æ·é”®<br/>
<img src="media/14815534553600/14815536582812.jpg" alt=""/><br/>
é‡‡ç”¨è¿™ç§æ–¹å¼å£°æ˜çš„æ‡’åŠ è½½èƒ½å¤Ÿåœ¨å†…éƒ¨ä½¿ç”¨self</p>

<h2 id="toc_1">OCä¸­ç”¨KVCèµ‹å€¼,ä½¿NSStringç±»å‹æŒ‡å‘äº†NSNumber,å¯¼è‡´Swiftä¸­è°ƒç”¨å´©æºƒ</h2>

<blockquote>
<p>å´©æºƒä¿¡æ¯:<code>reason: &#39;-[__NSCFNumber length]: unrecognized selector sent to instance 0x00000XXXX</code></p>
</blockquote>

<p>åŸå› åˆ†æ:NSStringæŒ‡å‘çš„æ•°æ®ç±»å‹ä¸ºNSNumberçš„æ•°æ®,å–å€¼æ—¶å´©æºƒ.ç¬¬ä¸€ç§æ–¹æ¡ˆæ‰¾åˆ°èµ‹å€¼æœ‰è¯¯çš„åœ°æ–¹ä¿®æ”¹,ç¬¬äºŒä¸ä¿®æ”¹åŸæœ‰çš„ä»£ç ,æå‡ºä¸€ç§è§£å†³æ–¹æ¡ˆ,é‡å†™NSStringæ•°æ®çš„<code>set</code>æ–¹æ³•,èµ‹å€¼å‰åˆ¤æ–­æ•°æ®ç±»å‹,å¦‚æœæ˜¯NSNumberç±»å‹å°±è½¬æ¢æˆNSStringç±»å‹.ÃŸÂ®</p>

<h2 id="toc_2">è§†å›¾å±‚çº§æ·±,å†…éƒ¨è§†å›¾å¦‚ä½•é€šçŸ¥æ§åˆ¶å™¨æ•°æ®æ›´æ–°?</h2>

<p>æˆ‘æƒ³åˆ°çš„ä¸€ç§æ–¹æ³•æ˜¯æŠŠå‡½æ•°å½“åšå‚æ•°æ¥ä¼ é€’,è¿™æ ·èƒ½å¤Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šå‡å°‘å±‚çº§ç»“æ„.ç”²å† æå‡ºè®¾ç½®ä¸€ä¸ªå±æ€§,ç„¶ååœ¨å±æ€§çš„<code>didSet</code>ä¸­è°ƒç”¨æ–¹æ³•.ç›®å‰è¿˜æ²¡æœ‰åšå®è·µ,ç›®æµ‹å±‚çº§ç»“æ„æ²¡æœ‰ä»»ä½•å‡å°‘,ä½†æ˜¯ä»£ç é‡ä¼šå°‘äº›.éœ€è¦å®éªŒéªŒè¯ä¸‹.</p>

<p><strong>æ³¨:</strong>è®¨è®ºä¸­é—´æœ‰è®¨è®ºMVCæ¡†æ¶,è¿™é‡Œé™„ä¸Šè‹¹æœå¤šMVCçš„ä»‹ç»:<a href="https://developer.apple.com/library/content/documentation/General/Conceptual/CocoaEncyclopedia/Model-View-Controller/Model-View-Controller.html#//apple_ref/doc/uid/TP40010810-CH14-SW1">https://developer.apple.com/library/content/documentation/General/Conceptual/CocoaEncyclopedia/Model-View-Controller/Model-View-Controller.html#//apple_ref/doc/uid/TP40010810-CH14-SW1</a></p>

<p>ä¼ ç»Ÿ:<br/>
<img src="media/14815534553600/14815566784560.gif" alt=""/></p>

<p>Cocoa:<br/>
<img src="media/14815534553600/14815567675257.gif" alt=""/></p>

<h2 id="toc_3">Xcodeå‡çº§åéƒ¨åˆ†ç¬¬ä¸‰æ–¹åº“æŠ¥é”™</h2>

<p><img src="media/14815534553600/Snip20161215_3.png" alt="Snip20161215_3"/><br/>
è®©ç¬¬ä¸‰æ–¹åº“ä¸è·ŸéšXcodeçš„swiftç‰ˆæœ¬Â®</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iOS8ä¹‹åè®¾ç½®PopoverController]]></title>
    <link href="http://www.citynight.cn/Blog/14813828036514.html"/>
    <updated>2016-12-10T23:13:23+08:00</updated>
    <id>http://www.citynight.cn/Blog/14813828036514.html</id>
    <content type="html"><![CDATA[
<p>ç›´æ¥ä¸Šä»£ç :</p>

<pre><code>    @IBOutlet weak var popoverButton: UIButton!
    @IBAction func popoverClick(_ sender: Any) {
        
        // éœ€è¦è¢«å±•ç¤ºçš„æ§åˆ¶å™¨
        let popover = PopoverViewController()
        // è®¾ç½®å‘ˆç°æ ·å¼
        popover.modalPresentationStyle = .popover
        // å¯¹åº”åŸæ¥PopoverControllerä¸­çš„rect
        popover.popoverPresentationController?.sourceRect = self.popoverButton.bounds
        // å¯¹åº”åŸæ¥PopoverControllerä¸­çš„inView
        popover.popoverPresentationController?.sourceView = self.popoverButton
        // å±•ç¤º
        self.present(popover, animated: true, completion: nil)
    }
</code></pre>

<p>åœ¨è¢«å‘ˆç°çš„æ§åˆ¶å™¨ä¸­è®¾ç½®æ˜¾ç¤ºçš„å¤§å°:</p>

<pre><code>class PopoverViewController: UIViewController {

    override func viewDidLoad() {
        super.viewDidLoad()
        /// è®¾ç½®å‘ˆç°å¤§å°
        self.preferredContentSize = CGSize(width: 400, height: 400)
    }
}
</code></pre>

<p>ä»¥ä¸Šè®¾ç½®,å¦‚æœæ˜¯iPhoneçš„è¯,æ¨¡æ€å¼¹å‡ºè§†å›¾,popoverå±æ€§å°±ä¼šè¢«å¿½ç•¥.iPadåˆ™ä¼šPopoverå¼¹å‡º</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Scroll UICollectionView to section header view]]></title>
    <link href="http://www.citynight.cn/Blog/14810139766101.html"/>
    <updated>2016-12-06T16:46:16+08:00</updated>
    <id>http://www.citynight.cn/Blog/14810139766101.html</id>
    <content type="html"><![CDATA[
<p>æ–°ç•Œé¢å·¦å³è”åŠ¨çš„æ—¶å€™é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜,æ€ä¹ˆåœ¨å·¦ä¾§tableViewç‚¹å‡»æŸä¸€cellçš„æ—¶å€™å³ä¾§collectionViewè·³è½¬åˆ°å¯¹åº”çš„section</p>

<p>å¦‚æœæ²¡æœ‰section header View çš„æ—¶å€™ç›´æ¥è·³è½¬åˆ°è¿™ä¸ªsectionçš„ç¬¬ä¸€ä¸ªItemå°±okäº†,ä½†æ˜¯å¦‚æœæœ‰section header View çš„æ—¶å€™å°±éœ€è¦æ³¨æ„äº†,ä¸èƒ½è¿™æ ·è¿›è¡Œè·³è½¬äº†,ä¸‹é¢ğŸ‘‡æ˜¯ç»è¿‡æµ‹è¯•çš„æ–¹æ³•èƒ½å¤Ÿå®Œç¾è·³è½¬åˆ°ç›¸åº”çš„section:</p>

<pre><code>let attributes = self.collectionView.collectionViewLayout.layoutAttributesForSupplementaryViewOfKind(UICollectionElementKindSectionHeader, atIndexPath: NSIndexPath(forItem: 0, inSection: index))

self.collectionView.setContentOffset(CGPointMake(0, attributes!.frame.origin.y - self.collectionView.contentInset.top), animated: true)
</code></pre>

<p>å‚è§:<a href="http://stackoverflow.com/questions/22100227/scroll-uicollectionview-to-section-header-view">Scroll UICollectionView to section header view</a></p>

]]></content>
  </entry>
  
</feed>
